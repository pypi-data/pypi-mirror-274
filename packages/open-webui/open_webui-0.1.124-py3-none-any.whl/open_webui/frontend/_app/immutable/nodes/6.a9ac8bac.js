import{s as ot,f,g as h,h as m,d as c,j as r,i as re,r as s,u as se,C as tt,X as Ml,z as He,A as Le,p as gt,Y as xt,P as bt,w as st,o as Et,l as Z,a as x,m as R,c as I,R as Oe,Q as be,O as Tt,n as K,v as lt,T as _l,U as jt,W as Qt,e as Zt,K as Ft,V as _t,M as Sl}from"../chunks/scheduler.7238b518.js";import{S as ht,i as vt,f as It,b as Fe,d as Ge,m as We,a as Ee,t as Te,e as Qe,g as Ot,c as Nt}from"../chunks/index.4c8b96e2.js";import{g as Hl}from"../chunks/globals.7f7f1b26.js";import{e as Vt}from"../chunks/each.7b9c02b5.js";import{a as Ve}from"../chunks/Toaster.svelte_svelte_type_style_lang.93775e0f.js";import{f as Ll}from"../chunks/FileSaver.min.898eb36f.js";import{k as et,m as Bl,S as bl,o as wl,W as Al}from"../chunks/index.bf1cda65.js";import{u as Cl,g as nt,t as Yt,c as qt,d as Kt}from"../chunks/index.e881a531.js";import{g as kl,s as Ol,c as Nl,d as Ul,e as Pl,f as yl,r as jl,h as Zl,i as El,j as Dl,u as xl,A as Rl}from"../chunks/AddFilesPlaceholder.04934d17.js";import{x as Il}from"../chunks/index.2773335b.js";import{M as Gt}from"../chunks/dayjs.min.20eb4964.js";import{T as Vl}from"../chunks/Tags.83bbc638.js";import"../chunks/index.295018b5.js";function zl(a){let e,t;return{c(){e=He("svg"),t=He("path"),this.h()},l(l){e=Le(l,"svg",{class:!0,"aria-hidden":!0,xmlns:!0,fill:!0,viewBox:!0});var n=m(e);t=Le(n,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),m(t).forEach(c),n.forEach(c),this.h()},h(){r(t,"stroke","currentColor"),r(t,"stroke-linecap","round"),r(t,"stroke-linejoin","round"),r(t,"stroke-width","3"),r(t,"d","M5 12h14"),r(e,"class","w-3 h-3.5 text-gray-800 dark:text-white"),r(e,"aria-hidden","true"),r(e,"xmlns","http://www.w3.org/2000/svg"),r(e,"fill","none"),r(e,"viewBox","0 0 24 24")},m(l,n){re(l,e,n),s(e,t)},d(l){l&&c(e)}}}function ql(a){let e,t;return{c(){e=He("svg"),t=He("path"),this.h()},l(l){e=Le(l,"svg",{class:!0,"aria-hidden":!0,xmlns:!0,fill:!0,viewBox:!0});var n=m(e);t=Le(n,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),m(t).forEach(c),n.forEach(c),this.h()},h(){r(t,"stroke","currentColor"),r(t,"stroke-linecap","round"),r(t,"stroke-linejoin","round"),r(t,"stroke-width","3"),r(t,"d","m5 12 4.7 4.5 9.3-9"),r(e,"class","w-3.5 h-3.5"),r(e,"aria-hidden","true"),r(e,"xmlns","http://www.w3.org/2000/svg"),r(e,"fill","none"),r(e,"viewBox","0 0 24 24")},m(l,n){re(l,e,n),s(e,t)},d(l){l&&c(e)}}}function Fl(a){let e,t,l,n,o;function i(g,v){if(g[2]==="checked")return ql;if(g[1])return zl}let d=i(a),u=d&&d(a);return{c(){e=f("button"),t=f("div"),u&&u.c(),this.h()},l(g){e=h(g,"BUTTON",{class:!0});var v=m(e);t=h(v,"DIV",{class:!0});var p=m(t);u&&u.l(p),p.forEach(c),v.forEach(c),this.h()},h(){r(t,"class","top-0 left-0 absolute w-full flex justify-center"),r(e,"class",l="outline -outline-offset-1 outline-[1.5px] outline-gray-200 dark:outline-gray-600 "+(a[0]!=="unchecked"?"bg-black outline-black ":"hover:outline-gray-500 hover:bg-gray-50 dark:hover:bg-gray-800")+" text-white transition-all rounded inline-block w-3.5 h-3.5 relative")},m(g,v){re(g,e,v),s(e,t),u&&u.m(t,null),n||(o=se(e,"click",a[4]),n=!0)},p(g,[v]){d!==(d=i(g))&&(u&&u.d(1),u=d&&d(g),u&&(u.c(),u.m(t,null))),v&1&&l!==(l="outline -outline-offset-1 outline-[1.5px] outline-gray-200 dark:outline-gray-600 "+(g[0]!=="unchecked"?"bg-black outline-black ":"hover:outline-gray-500 hover:bg-gray-50 dark:hover:bg-gray-800")+" text-white transition-all rounded inline-block w-3.5 h-3.5 relative")&&r(e,"class",l)},i:tt,o:tt,d(g){g&&c(e),u&&u.d(),n=!1,o()}}}function Gl(a,e,t){const l=Ml();let{state:n="unchecked"}=e,{indeterminate:o=!1}=e,i="unchecked";const d=()=>{i==="unchecked"?(t(2,i="checked"),l("change",i)):i==="checked"?(t(2,i="unchecked"),o||l("change",i)):o&&(t(2,i="checked"),l("change",i))};return a.$$set=u=>{"state"in u&&t(0,n=u.state),"indeterminate"in u&&t(1,o=u.indeterminate)},a.$$.update=()=>{a.$$.dirty&1&&t(2,i=n)},[n,o,i,l,d]}class Tl extends ht{constructor(e){super(),vt(this,e,Gl,Fl,ot,{state:0,indeterminate:1})}}function Wl(a){let e,t,l,n=a[3].t("Edit Doc")+"",o,i,d,u='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',g,v,p,_,b,k,y,V=a[3].t("Name Tag")+"",E,L,D,M,H="#",W,q,z,ee,Q,C=a[3].t("Title")+"",le,ie,U,J,fe,F,Y,B=a[3].t("Tags")+"",P,te,G,T,w,A,X=a[3].t("Save")+"",O,N,ve,ue;return G=new Vl({props:{tags:a[1],addTag:a[6],deleteTag:a[7]}}),{c(){e=f("div"),t=f("div"),l=f("div"),o=Z(n),i=x(),d=f("button"),d.innerHTML=u,g=x(),v=f("div"),p=f("div"),_=f("form"),b=f("div"),k=f("div"),y=f("div"),E=Z(V),L=x(),D=f("div"),M=f("div"),M.textContent=H,W=x(),q=f("input"),z=x(),ee=f("div"),Q=f("div"),le=Z(C),ie=x(),U=f("div"),J=f("input"),fe=x(),F=f("div"),Y=f("div"),P=Z(B),te=x(),Fe(G.$$.fragment),T=x(),w=f("div"),A=f("button"),O=Z(X),this.h()},l($){e=h($,"DIV",{});var ne=m(e);t=h(ne,"DIV",{class:!0});var j=m(t);l=h(j,"DIV",{class:!0});var de=m(l);o=R(de,n),de.forEach(c),i=I(j),d=h(j,"BUTTON",{class:!0,"data-svelte-h":!0}),Oe(d)!=="svelte-745w2y"&&(d.innerHTML=u),j.forEach(c),g=I(ne),v=h(ne,"DIV",{class:!0});var ge=m(v);p=h(ge,"DIV",{class:!0});var xe=m(p);_=h(xe,"FORM",{class:!0});var ke=m(_);b=h(ke,"DIV",{class:!0});var we=m(b);k=h(we,"DIV",{class:!0});var De=m(k);y=h(De,"DIV",{class:!0});var Ie=m(y);E=R(Ie,V),Ie.forEach(c),L=I(De),D=h(De,"DIV",{class:!0});var ce=m(D);M=h(ce,"DIV",{class:!0,"data-svelte-h":!0}),Oe(M)!=="svelte-113b805"&&(M.textContent=H),W=I(ce),q=h(ce,"INPUT",{class:!0,type:!0,autocomplete:!0}),ce.forEach(c),De.forEach(c),z=I(we),ee=h(we,"DIV",{class:!0});var me=m(ee);Q=h(me,"DIV",{class:!0});var Me=m(Q);le=R(Me,C),Me.forEach(c),ie=I(me),U=h(me,"DIV",{class:!0});var je=m(U);J=h(je,"INPUT",{class:!0,type:!0,autocomplete:!0}),je.forEach(c),me.forEach(c),fe=I(we),F=h(we,"DIV",{class:!0});var Ce=m(F);Y=h(Ce,"DIV",{class:!0});var Ue=m(Y);P=R(Ue,B),Ue.forEach(c),te=I(Ce),Ge(G.$$.fragment,Ce),Ce.forEach(c),we.forEach(c),T=I(ke),w=h(ke,"DIV",{class:!0});var Pe=m(w);A=h(Pe,"BUTTON",{class:!0,type:!0});var Se=m(A);O=R(Se,X),Se.forEach(c),Pe.forEach(c),ke.forEach(c),xe.forEach(c),ge.forEach(c),ne.forEach(c),this.h()},h(){r(l,"class","text-lg font-medium self-center"),r(d,"class","self-center"),r(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4"),r(y,"class","mb-1 text-xs text-gray-500"),r(M,"class","bg-gray-200 dark:bg-gray-800 font-bold px-3 py-0.5 border border-r-0 dark:border-gray-800 rounded-l-xl flex items-center"),r(q,"class","w-full rounded-r-xl py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 disabled:text-gray-500 dark:disabled:text-gray-500 outline-none svelte-1vx7r9s"),r(q,"type","text"),r(q,"autocomplete","off"),q.required=!0,r(D,"class","flex flex-1"),r(k,"class","flex flex-col w-full"),r(Q,"class","mb-1 text-xs text-gray-500"),r(J,"class","w-full rounded-xl py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none svelte-1vx7r9s"),r(J,"type","text"),r(J,"autocomplete","off"),J.required=!0,r(U,"class","flex-1"),r(ee,"class","flex flex-col w-full"),r(Y,"class","mb-2 text-xs text-gray-500"),r(F,"class","flex flex-col w-full"),r(b,"class","flex flex-col space-y-1.5"),r(A,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),r(A,"type","submit"),r(w,"class","flex justify-end pt-5 text-sm font-medium"),r(_,"class","flex flex-col w-full"),r(p,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),r(v,"class","flex flex-col md:flex-row w-full px-5 py-4 md:space-x-4 dark:text-gray-200")},m($,ne){re($,e,ne),s(e,t),s(t,l),s(l,o),s(t,i),s(t,d),s(e,g),s(e,v),s(v,p),s(p,_),s(_,b),s(b,k),s(k,y),s(y,E),s(k,L),s(k,D),s(D,M),s(D,W),s(D,q),be(q,a[2].name),s(b,z),s(b,ee),s(ee,Q),s(Q,le),s(ee,ie),s(ee,U),s(U,J),be(J,a[2].title),s(b,fe),s(b,F),s(F,Y),s(Y,P),s(F,te),We(G,F,null),s(_,T),s(_,w),s(w,A),s(A,O),N=!0,ve||(ue=[se(d,"click",a[9]),se(q,"input",a[10]),se(J,"input",a[11]),se(_,"submit",Tt(a[12]))],ve=!0)},p($,ne){(!N||ne&8)&&n!==(n=$[3].t("Edit Doc")+"")&&K(o,n),(!N||ne&8)&&V!==(V=$[3].t("Name Tag")+"")&&K(E,V),ne&4&&q.value!==$[2].name&&be(q,$[2].name),(!N||ne&8)&&C!==(C=$[3].t("Title")+"")&&K(le,C),ne&4&&J.value!==$[2].title&&be(J,$[2].title),(!N||ne&8)&&B!==(B=$[3].t("Tags")+"")&&K(P,B);const j={};ne&2&&(j.tags=$[1]),G.$set(j),(!N||ne&8)&&X!==(X=$[3].t("Save")+"")&&K(O,X)},i($){N||(Ee(G.$$.fragment,$),N=!0)},o($){Te(G.$$.fragment,$),N=!1},d($){$&&c(e),Qe(G),ve=!1,lt(ue)}}}function Ql(a){let e,t,l;function n(i){a[13](i)}let o={size:"sm",$$slots:{default:[Wl]},$$scope:{ctx:a}};return a[0]!==void 0&&(o.show=a[0]),e=new Gt({props:o}),gt.push(()=>It(e,"show",n)),{c(){Fe(e.$$.fragment)},l(i){Ge(e.$$.fragment,i)},m(i,d){We(e,i,d),l=!0},p(i,[d]){const u={};d&16399&&(u.$$scope={dirty:d,ctx:i}),!t&&d&1&&(t=!0,u.show=i[0],xt(()=>t=!1)),e.$set(u)},i(i){l||(Ee(e.$$.fragment,i),l=!0)},o(i){Te(e.$$.fragment,i),l=!1},d(i){Qe(e,i)}}}function Yl(a,e,t){let l;const n=bt("i18n");st(a,n,E=>t(3,l=E));let{show:o=!1}=e,{selectedDoc:i}=e,d=[],u={name:"",title:"",content:null};const g=async()=>{await Cl(localStorage.token,i.name,{title:u.title,name:u.name}).catch(L=>{Ve.error(L)})&&(t(0,o=!1),et.set(await nt(localStorage.token)))},v=async E=>{!d.find(L=>L.name===E)&&E!==""?(t(1,d=[...d,{name:E}]),await Yt(localStorage.token,u.name,{name:u.name,tags:d}),et.set(await nt(localStorage.token))):console.log("tag already exists")},p=async E=>{t(1,d=d.filter(L=>L.name!==E)),await Yt(localStorage.token,u.name,{name:u.name,tags:d}),et.set(await nt(localStorage.token))};Et(()=>{var E;i&&(t(2,u=JSON.parse(JSON.stringify(i))),t(1,d=((E=u==null?void 0:u.content)==null?void 0:E.tags)??[]))});const _=()=>{t(0,o=!1)};function b(){u.name=this.value,t(2,u)}function k(){u.title=this.value,t(2,u)}const y=()=>{g()};function V(E){o=E,t(0,o)}return a.$$set=E=>{"show"in E&&t(0,o=E.show),"selectedDoc"in E&&t(8,i=E.selectedDoc)},[o,d,u,l,n,g,v,p,i,_,b,k,y,V]}class Kl extends ht{constructor(e){super(),vt(this,e,Yl,Ql,ot,{show:0,selectedDoc:8})}}function Xt(a,e,t){const l=a.slice();return l[36]=e[t],l}function Jt(a){let e,t=`<svg class="w-3 h-3" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
										transform-origin: center;
										animation: spinner_AtaB 0.75s infinite linear;
									}
									@keyframes spinner_AtaB {
										100% {
											transform: rotate(360deg);
										}
									}
								</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=f("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),Oe(e)!=="svelte-1q5d1z1"&&(e.innerHTML=t),this.h()},h(){r(e,"class","ml-3 self-center")},m(l,n){re(l,e,n)},d(l){l&&c(e)}}}function $t(a){let e,t,l,n,o,i,d,u;return{c(){e=f("div"),t=f("input"),n=x(),o=f("input"),this.h()},l(g){e=h(g,"DIV",{class:!0});var v=m(e);t=h(v,"INPUT",{class:!0,placeholder:!0}),n=I(v),o=h(v,"INPUT",{class:!0,placeholder:!0}),v.forEach(c),this.h()},h(){r(t,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(t,"placeholder",l=a[11].t("API Base URL")),t.required=!0,r(o,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(o,"placeholder",i=a[11].t("API Key")),o.required=!0,r(e,"class","my-0.5 flex gap-2")},m(g,v){re(g,e,v),s(e,t),be(t,a[9]),s(e,n),s(e,o),be(o,a[8]),d||(u=[se(t,"input",a[22]),se(o,"input",a[23])],d=!0)},p(g,v){v[0]&2048&&l!==(l=g[11].t("API Base URL"))&&r(t,"placeholder",l),v[0]&512&&t.value!==g[9]&&be(t,g[9]),v[0]&2048&&i!==(i=g[11].t("API Key"))&&r(o,"placeholder",i),v[0]&256&&o.value!==g[8]&&be(o,g[8])},d(g){g&&c(e),d=!1,lt(u)}}}function Xl(a){let e,t=a[11].t("Off")+"",l;return{c(){e=f("span"),l=Z(t),this.h()},l(n){e=h(n,"SPAN",{class:!0});var o=m(e);l=R(o,t),o.forEach(c),this.h()},h(){r(e,"class","ml-2 self-center")},m(n,o){re(n,e,o),s(e,l)},p(n,o){o[0]&2048&&t!==(t=n[11].t("Off")+"")&&K(l,t)},d(n){n&&c(e)}}}function Jl(a){let e,t=a[11].t("On")+"",l;return{c(){e=f("span"),l=Z(t),this.h()},l(n){e=h(n,"SPAN",{class:!0});var o=m(e);l=R(o,t),o.forEach(c),this.h()},h(){r(e,"class","ml-2 self-center")},m(n,o){re(n,e,o),s(e,l)},p(n,o){o[0]&2048&&t!==(t=n[11].t("On")+"")&&K(l,t)},d(n){n&&c(e)}}}function $l(a){let e,t,l,n,o,i,d,u=a[5]===""&&el(a);return{c(){e=f("div"),t=f("div"),l=f("input"),o=x(),u&&u.c(),this.h()},l(g){e=h(g,"DIV",{class:!0});var v=m(e);t=h(v,"DIV",{class:!0});var p=m(t);l=h(p,"INPUT",{class:!0,placeholder:!0}),p.forEach(c),o=I(v),u&&u.l(v),v.forEach(c),this.h()},h(){r(l,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(l,"placeholder",n=a[11].t("Set embedding model (e.g. {{model}})",{model:a[6].slice(-40)})),r(t,"class","flex-1 mr-2"),r(e,"class","flex w-full")},m(g,v){re(g,e,v),s(e,t),s(t,l),be(l,a[6]),s(e,o),u&&u.m(e,null),i||(d=se(l,"input",a[26]),i=!0)},p(g,v){v[0]&6208&&n!==(n=g[11].t("Set embedding model (e.g. {{model}})",{model:g[6].slice(-40)}))&&r(l,"placeholder",n),v[0]&4160&&l.value!==g[6]&&be(l,g[6]),g[5]===""?u?u.p(g,v):(u=el(g),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},d(g){g&&c(e),u&&u.d(),i=!1,d()}}}function ea(a){let e,t,l,n,o,i,d,u=!a[6]&&tl(a),g=Vt(a[12].filter(sl)),v=[];for(let p=0;p<g.length;p+=1)v[p]=ll(Xt(a,g,p));return{c(){e=f("div"),t=f("div"),l=f("select"),u&&u.c(),n=Zt();for(let p=0;p<v.length;p+=1)v[p].c();this.h()},l(p){e=h(p,"DIV",{class:!0});var _=m(e);t=h(_,"DIV",{class:!0});var b=m(t);l=h(b,"SELECT",{class:!0,placeholder:!0});var k=m(l);u&&u.l(k),n=Zt();for(let y=0;y<v.length;y+=1)v[y].l(k);k.forEach(c),b.forEach(c),_.forEach(c),this.h()},h(){r(l,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(l,"placeholder",o=a[11].t("Select a model")),l.required=!0,a[6]===void 0&&_l(()=>a[25].call(l)),r(t,"class","flex-1 mr-2"),r(e,"class","flex w-full")},m(p,_){re(p,e,_),s(e,t),s(t,l),u&&u.m(l,null),s(l,n);for(let b=0;b<v.length;b+=1)v[b]&&v[b].m(l,null);jt(l,a[6],!0),i||(d=se(l,"change",a[25]),i=!0)},p(p,_){if(p[6]?u&&(u.d(1),u=null):u?u.p(p,_):(u=tl(p),u.c(),u.m(l,n)),_[0]&4096){g=Vt(p[12].filter(sl));let b;for(b=0;b<g.length;b+=1){const k=Xt(p,g,b);v[b]?v[b].p(k,_):(v[b]=ll(k),v[b].c(),v[b].m(l,null))}for(;b<v.length;b+=1)v[b].d(1);v.length=g.length}_[0]&2048&&o!==(o=p[11].t("Select a model"))&&r(l,"placeholder",o),_[0]&4160&&jt(l,p[6])},d(p){p&&c(e),u&&u.d(),Ft(v,p),i=!1,d()}}}function el(a){let e,t,l;function n(d,u){return d[2]?la:ta}let o=n(a),i=o(a);return{c(){e=f("button"),i.c(),this.h()},l(d){e=h(d,"BUTTON",{class:!0});var u=m(e);i.l(u),u.forEach(c),this.h()},h(){r(e,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),e.disabled=a[2]},m(d,u){re(d,e,u),i.m(e,null),t||(l=se(e,"click",a[27]),t=!0)},p(d,u){o!==(o=n(d))&&(i.d(1),i=o(d),i&&(i.c(),i.m(e,null))),u[0]&4&&(e.disabled=d[2])},d(d){d&&c(e),i.d(),t=!1,l()}}}function ta(a){let e,t,l;return{c(){e=He("svg"),t=He("path"),l=He("path"),this.h()},l(n){e=Le(n,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var o=m(e);t=Le(o,"path",{d:!0}),m(t).forEach(c),l=Le(o,"path",{d:!0}),m(l).forEach(c),o.forEach(c),this.h()},h(){r(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),r(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),r(e,"xmlns","http://www.w3.org/2000/svg"),r(e,"viewBox","0 0 16 16"),r(e,"fill","currentColor"),r(e,"class","w-4 h-4")},m(n,o){re(n,e,o),s(e,t),s(e,l)},d(n){n&&c(e)}}}function la(a){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=f("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),Oe(e)!=="svelte-to07og"&&(e.innerHTML=t),this.h()},h(){r(e,"class","self-center")},m(l,n){re(l,e,n)},d(l){l&&c(e)}}}function tl(a){let e,t=a[11].t("Select a model")+"",l;return{c(){e=f("option"),l=Z(t),this.h()},l(n){e=h(n,"OPTION",{});var o=m(e);l=R(o,t),o.forEach(c),this.h()},h(){e.__value="",be(e,e.__value),e.disabled=!0,e.selected=!0},m(n,o){re(n,e,o),s(e,l)},p(n,o){o[0]&2048&&t!==(t=n[11].t("Select a model")+"")&&K(l,t)},d(n){n&&c(e)}}}function ll(a){let e,t=a[36].name+" ("+(a[36].size/1073741824).toFixed(1)+" GB)",l,n;return{c(){e=f("option"),l=Z(t),this.h()},l(o){e=h(o,"OPTION",{class:!0});var i=m(e);l=R(i,t),i.forEach(c),this.h()},h(){e.__value=n=a[36].name,be(e,e.__value),r(e,"class","bg-gray-100 dark:bg-gray-700")},m(o,i){re(o,e,i),s(e,l)},p(o,i){i[0]&4096&&t!==(t=o[36].name+" ("+(o[36].size/1024**3).toFixed(1)+" GB)")&&K(l,t),i[0]&4096&&n!==(n=o[36].name)&&(e.__value=n,be(e,e.__value))},d(o){o&&c(e)}}}function al(a){let e,t,l=a[11].t("Reranking Model")+"",n,o,i,d,u,g,v,p,_,b;function k(E,L){return E[3]?sa:aa}let y=k(a),V=y(a);return{c(){e=f("div"),t=f("div"),n=Z(l),o=x(),i=f("div"),d=f("div"),u=f("input"),v=x(),p=f("button"),V.c(),this.h()},l(E){e=h(E,"DIV",{class:!0});var L=m(e);t=h(L,"DIV",{class:!0});var D=m(t);n=R(D,l),D.forEach(c),o=I(L),i=h(L,"DIV",{class:!0});var M=m(i);d=h(M,"DIV",{class:!0});var H=m(d);u=h(H,"INPUT",{class:!0,placeholder:!0}),H.forEach(c),v=I(M),p=h(M,"BUTTON",{class:!0});var W=m(p);V.l(W),W.forEach(c),M.forEach(c),L.forEach(c),this.h()},h(){r(t,"class","mb-2 text-sm font-medium"),r(u,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(u,"placeholder",g=a[11].t("Set reranking model (e.g. {{model}})",{model:"BAAI/bge-reranker-v2-m3"})),r(d,"class","flex-1 mr-2"),r(p,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),p.disabled=a[3],r(i,"class","flex w-full"),r(e,"class","")},m(E,L){re(E,e,L),s(e,t),s(t,n),s(e,o),s(e,i),s(i,d),s(d,u),be(u,a[7]),s(i,v),s(i,p),V.m(p,null),_||(b=[se(u,"input",a[28]),se(p,"click",a[29])],_=!0)},p(E,L){L[0]&2048&&l!==(l=E[11].t("Reranking Model")+"")&&K(n,l),L[0]&2048&&g!==(g=E[11].t("Set reranking model (e.g. {{model}})",{model:"BAAI/bge-reranker-v2-m3"}))&&r(u,"placeholder",g),L[0]&128&&u.value!==E[7]&&be(u,E[7]),y!==(y=k(E))&&(V.d(1),V=y(E),V&&(V.c(),V.m(p,null))),L[0]&8&&(p.disabled=E[3])},d(E){E&&c(e),V.d(),_=!1,lt(b)}}}function aa(a){let e,t,l;return{c(){e=He("svg"),t=He("path"),l=He("path"),this.h()},l(n){e=Le(n,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var o=m(e);t=Le(o,"path",{d:!0}),m(t).forEach(c),l=Le(o,"path",{d:!0}),m(l).forEach(c),o.forEach(c),this.h()},h(){r(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),r(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),r(e,"xmlns","http://www.w3.org/2000/svg"),r(e,"viewBox","0 0 16 16"),r(e,"fill","currentColor"),r(e,"class","w-4 h-4")},m(n,o){re(n,e,o),s(e,t),s(e,l)},d(n){n&&c(e)}}}function sa(a){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=f("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),Oe(e)!=="svelte-to07og"&&(e.innerHTML=t),this.h()},h(){r(e,"class","self-center")},m(l,n){re(l,e,n)},d(l){l&&c(e)}}}function ra(a){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M3.5 2A1.5 1.5 0 0 0 2 3.5v9A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 12.5 4H9.621a1.5 1.5 0 0 1-1.06-.44L7.439 2.44A1.5 1.5 0 0 0 6.38 2H3.5Zm6.75 7.75a.75.75 0 0 0 0-1.5h-4.5a.75.75 0 0 0 0 1.5h4.5Z" clip-rule="evenodd"></path></svg>',n,o,i=a[11].t("Reset Vector Storage")+"",d,u,g;return{c(){e=f("button"),t=f("div"),t.innerHTML=l,n=x(),o=f("div"),d=Z(i),this.h()},l(v){e=h(v,"BUTTON",{class:!0});var p=m(e);t=h(p,"DIV",{class:!0,"data-svelte-h":!0}),Oe(t)!=="svelte-16tyzd9"&&(t.innerHTML=l),n=I(p),o=h(p,"DIV",{class:!0});var _=m(o);d=R(_,i),_.forEach(c),p.forEach(c),this.h()},h(){r(t,"class","self-center mr-3"),r(o,"class","self-center text-sm font-medium"),r(e,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(v,p){re(v,e,p),s(e,t),s(e,n),s(e,o),s(o,d),u||(g=se(e,"click",a[32]),u=!0)},p(v,p){p[0]&2048&&i!==(i=v[11].t("Reset Vector Storage")+"")&&K(d,i)},d(v){v&&c(e),u=!1,g()}}}function na(a){let e,t,l,n,o,i,d,u=a[11].t("Are you sure?")+"",g,v,p,_,b='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',k,y,V='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',E,L;return{c(){e=f("div"),t=f("div"),l=He("svg"),n=He("path"),o=He("path"),i=x(),d=f("span"),g=Z(u),v=x(),p=f("div"),_=f("button"),_.innerHTML=b,k=x(),y=f("button"),y.innerHTML=V,this.h()},l(D){e=h(D,"DIV",{class:!0});var M=m(e);t=h(M,"DIV",{class:!0});var H=m(t);l=Le(H,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var W=m(l);n=Le(W,"path",{d:!0}),m(n).forEach(c),o=Le(W,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),m(o).forEach(c),W.forEach(c),i=I(H),d=h(H,"SPAN",{});var q=m(d);g=R(q,u),q.forEach(c),H.forEach(c),v=I(M),p=h(M,"DIV",{class:!0});var z=m(p);_=h(z,"BUTTON",{class:!0,"data-svelte-h":!0}),Oe(_)!=="svelte-utedoe"&&(_.innerHTML=b),k=I(z),y=h(z,"BUTTON",{class:!0,"data-svelte-h":!0}),Oe(y)!=="svelte-x16t1b"&&(y.innerHTML=V),z.forEach(c),M.forEach(c),this.h()},h(){r(n,"d","M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"),r(o,"fill-rule","evenodd"),r(o,"d","M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM5.72 7.47a.75.75 0 0 1 1.06 0L8 8.69l1.22-1.22a.75.75 0 1 1 1.06 1.06L9.06 9.75l1.22 1.22a.75.75 0 1 1-1.06 1.06L8 10.81l-1.22 1.22a.75.75 0 0 1-1.06-1.06l1.22-1.22-1.22-1.22a.75.75 0 0 1 0-1.06Z"),r(o,"clip-rule","evenodd"),r(l,"xmlns","http://www.w3.org/2000/svg"),r(l,"viewBox","0 0 16 16"),r(l,"fill","currentColor"),r(l,"class","w-4 h-4"),r(t,"class","flex items-center space-x-3"),r(_,"class","hover:text-white transition"),r(y,"class","hover:text-white transition"),r(p,"class","flex space-x-1.5 items-center"),r(e,"class","flex justify-between rounded-md items-center py-2 px-3.5 w-full transition")},m(D,M){re(D,e,M),s(e,t),s(t,l),s(l,n),s(l,o),s(t,i),s(t,d),s(d,g),s(e,v),s(e,p),s(p,_),s(p,k),s(p,y),E||(L=[se(_,"click",a[30]),se(y,"click",a[31])],E=!0)},p(D,M){M[0]&2048&&u!==(u=D[11].t("Are you sure?")+"")&&K(g,u)},d(D){D&&c(e),E=!1,lt(L)}}}function oa(a){let e,t,l,n,o=a[11].t("General Settings")+"",i,d,u,g,v=a[11].t("Scan for documents from {{path}}",{path:"/data/docs"})+"",p,_,b,k,y=a[11].t("Scan")+"",V,E,L,D,M,H,W=a[11].t("Embedding Model Engine")+"",q,z,ee,Q,C,le=a[11].t("Default (SentenceTransformers)")+"",ie,U,J=a[11].t("Ollama")+"",fe,F,Y=a[11].t("OpenAI")+"",B,P,te,G,T,w=a[11].t("Hybrid Search")+"",A,X,O,N,ve,ue,$,ne,j,de,ge=a[11].t("Embedding Model")+"",xe,ke,we,De,Ie=a[11].t("Warning: If you update or change your embedding model, you will need to re-import all documents.")+"",ce,me,Me,je,Ce,Ue,Pe,Se,Ze=a[11].t("Save")+"",Xe,Je,it,ye=a[1]&&Jt(),Be=a[5]==="openai"&&$t(a);function Re(oe,ae){return oe[10].hybrid===!0?Jl:Xl}let mt=Re(a),Ye=mt(a);function Ae(oe,ae){return oe[5]==="ollama"?ea:$l}let ze=Ae(a),$e=ze(a),Ne=a[10].hybrid===!0&&al(a);function Ut(oe,ae){return oe[4]?na:ra}let wt=Ut(a),_e=wt(a);return{c(){e=f("form"),t=f("div"),l=f("div"),n=f("div"),i=Z(o),d=x(),u=f("div"),g=f("div"),p=Z(v),_=x(),b=f("button"),k=f("div"),V=Z(y),E=x(),ye&&ye.c(),D=x(),M=f("div"),H=f("div"),q=Z(W),z=x(),ee=f("div"),Q=f("select"),C=f("option"),ie=Z(le),U=f("option"),fe=Z(J),F=f("option"),B=Z(Y),P=x(),Be&&Be.c(),te=x(),G=f("div"),T=f("div"),A=Z(w),X=x(),O=f("button"),Ye.c(),N=x(),ve=f("hr"),ue=x(),$=f("div"),ne=x(),j=f("div"),de=f("div"),xe=Z(ge),ke=x(),$e.c(),we=x(),De=f("div"),ce=Z(Ie),me=x(),Ne&&Ne.c(),Me=x(),je=f("hr"),Ce=x(),_e.c(),Ue=x(),Pe=f("div"),Se=f("button"),Xe=Z(Ze),this.h()},l(oe){e=h(oe,"FORM",{class:!0});var ae=m(e);t=h(ae,"DIV",{class:!0});var Ke=m(t);l=h(Ke,"DIV",{class:!0});var S=m(l);n=h(S,"DIV",{class:!0});var he=m(n);i=R(he,o),he.forEach(c),d=I(S),u=h(S,"DIV",{class:!0});var qe=m(u);g=h(qe,"DIV",{class:!0});var pt=m(g);p=R(pt,v),pt.forEach(c),_=I(qe),b=h(qe,"BUTTON",{class:!0,type:!0});var pe=m(b);k=h(pe,"DIV",{class:!0});var rt=m(k);V=R(rt,y),rt.forEach(c),E=I(pe),ye&&ye.l(pe),pe.forEach(c),qe.forEach(c),D=I(S),M=h(S,"DIV",{class:!0});var ct=m(M);H=h(ct,"DIV",{class:!0});var Mt=m(H);q=R(Mt,W),Mt.forEach(c),z=I(ct),ee=h(ct,"DIV",{class:!0});var St=m(ee);Q=h(St,"SELECT",{class:!0,placeholder:!0});var ut=m(Q);C=h(ut,"OPTION",{});var Ht=m(C);ie=R(Ht,le),Ht.forEach(c),U=h(ut,"OPTION",{});var Lt=m(U);fe=R(Lt,J),Lt.forEach(c),F=h(ut,"OPTION",{});var Dt=m(F);B=R(Dt,Y),Dt.forEach(c),ut.forEach(c),St.forEach(c),ct.forEach(c),P=I(S),Be&&Be.l(S),te=I(S),G=h(S,"DIV",{class:!0});var dt=m(G);T=h(dt,"DIV",{class:!0});var kt=m(T);A=R(kt,w),kt.forEach(c),X=I(dt),O=h(dt,"BUTTON",{class:!0,type:!0});var Bt=m(O);Ye.l(Bt),Bt.forEach(c),dt.forEach(c),S.forEach(c),N=I(Ke),ve=h(Ke,"HR",{class:!0}),ue=I(Ke),$=h(Ke,"DIV",{class:!0}),m($).forEach(c),ne=I(Ke),j=h(Ke,"DIV",{});var at=m(j);de=h(at,"DIV",{class:!0});var At=m(de);xe=R(At,ge),At.forEach(c),ke=I(at),$e.l(at),we=I(at),De=h(at,"DIV",{class:!0});var ft=m(De);ce=R(ft,Ie),ft.forEach(c),me=I(at),Ne&&Ne.l(at),at.forEach(c),Me=I(Ke),je=h(Ke,"HR",{class:!0}),Ce=I(Ke),_e.l(Ke),Ke.forEach(c),Ue=I(ae),Pe=h(ae,"DIV",{class:!0});var yt=m(Pe);Se=h(yt,"BUTTON",{class:!0,type:!0});var Ct=m(Se);Xe=R(Ct,Ze),Ct.forEach(c),yt.forEach(c),ae.forEach(c),this.h()},h(){r(n,"class","mb-0.5 text-sm font-medium"),r(g,"class","self-center text-xs font-medium"),r(k,"class","self-center font-medium"),r(b,"class",L="self-center text-xs p-1 px-3 bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 rounded-lg flex flex-row space-x-1 items-center "+(a[1]?" cursor-not-allowed":"")),r(b,"type","button"),b.disabled=a[1],r(u,"class","flex w-full justify-between"),r(H,"class","self-center text-xs font-medium"),C.__value="",be(C,C.__value),U.__value="ollama",be(U,U.__value),F.__value="openai",be(F,F.__value),r(Q,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),r(Q,"placeholder","Select an embedding model engine"),a[5]===void 0&&_l(()=>a[20].call(Q)),r(ee,"class","flex items-center relative"),r(M,"class","flex w-full justify-between"),r(T,"class","self-center text-xs font-medium"),r(O,"class","p-1 px-3 text-xs flex rounded transition"),r(O,"type","button"),r(G,"class","flex w-full justify-between"),r(l,"class","flex flex-col gap-0.5"),r(ve,"class","dark:border-gray-700 my-1"),r($,"class","space-y-2"),r(de,"class","mb-2 text-sm font-medium"),r(De,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),r(je,"class","dark:border-gray-700"),r(t,"class","space-y-2.5 pr-1.5 overflow-y-scroll max-h-[22rem]"),r(Se,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),r(Se,"type","submit"),r(Pe,"class","flex justify-end pt-3 text-sm font-medium"),r(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(oe,ae){re(oe,e,ae),s(e,t),s(t,l),s(l,n),s(n,i),s(l,d),s(l,u),s(u,g),s(g,p),s(u,_),s(u,b),s(b,k),s(k,V),s(b,E),ye&&ye.m(b,null),s(l,D),s(l,M),s(M,H),s(H,q),s(M,z),s(M,ee),s(ee,Q),s(Q,C),s(C,ie),s(Q,U),s(U,fe),s(Q,F),s(F,B),jt(Q,a[5],!0),s(l,P),Be&&Be.m(l,null),s(l,te),s(l,G),s(G,T),s(T,A),s(G,X),s(G,O),Ye.m(O,null),s(t,N),s(t,ve),s(t,ue),s(t,$),s(t,ne),s(t,j),s(j,de),s(de,xe),s(j,ke),$e.m(j,null),s(j,we),s(j,De),s(De,ce),s(j,me),Ne&&Ne.m(j,null),s(t,Me),s(t,je),s(t,Ce),_e.m(t,null),s(e,Ue),s(e,Pe),s(Pe,Se),s(Se,Xe),Je||(it=[se(b,"click",a[19]),se(Q,"change",a[20]),se(Q,"change",a[21]),se(O,"click",a[24]),se(e,"submit",Tt(a[33]))],Je=!0)},p(oe,ae){ae[0]&2048&&o!==(o=oe[11].t("General Settings")+"")&&K(i,o),ae[0]&2048&&v!==(v=oe[11].t("Scan for documents from {{path}}",{path:"/data/docs"})+"")&&K(p,v),ae[0]&2048&&y!==(y=oe[11].t("Scan")+"")&&K(V,y),oe[1]?ye||(ye=Jt(),ye.c(),ye.m(b,null)):ye&&(ye.d(1),ye=null),ae[0]&2&&L!==(L="self-center text-xs p-1 px-3 bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 rounded-lg flex flex-row space-x-1 items-center "+(oe[1]?" cursor-not-allowed":""))&&r(b,"class",L),ae[0]&2&&(b.disabled=oe[1]),ae[0]&2048&&W!==(W=oe[11].t("Embedding Model Engine")+"")&&K(q,W),ae[0]&2048&&le!==(le=oe[11].t("Default (SentenceTransformers)")+"")&&K(ie,le),ae[0]&2048&&J!==(J=oe[11].t("Ollama")+"")&&K(fe,J),ae[0]&2048&&Y!==(Y=oe[11].t("OpenAI")+"")&&K(B,Y),ae[0]&32&&jt(Q,oe[5]),oe[5]==="openai"?Be?Be.p(oe,ae):(Be=$t(oe),Be.c(),Be.m(l,te)):Be&&(Be.d(1),Be=null),ae[0]&2048&&w!==(w=oe[11].t("Hybrid Search")+"")&&K(A,w),mt===(mt=Re(oe))&&Ye?Ye.p(oe,ae):(Ye.d(1),Ye=mt(oe),Ye&&(Ye.c(),Ye.m(O,null))),ae[0]&2048&&ge!==(ge=oe[11].t("Embedding Model")+"")&&K(xe,ge),ze===(ze=Ae(oe))&&$e?$e.p(oe,ae):($e.d(1),$e=ze(oe),$e&&($e.c(),$e.m(j,we))),ae[0]&2048&&Ie!==(Ie=oe[11].t("Warning: If you update or change your embedding model, you will need to re-import all documents.")+"")&&K(ce,Ie),oe[10].hybrid===!0?Ne?Ne.p(oe,ae):(Ne=al(oe),Ne.c(),Ne.m(j,null)):Ne&&(Ne.d(1),Ne=null),wt===(wt=Ut(oe))&&_e?_e.p(oe,ae):(_e.d(1),_e=wt(oe),_e&&(_e.c(),_e.m(t,null))),ae[0]&2048&&Ze!==(Ze=oe[11].t("Save")+"")&&K(Xe,Ze)},i:tt,o:tt,d(oe){oe&&c(e),ye&&ye.d(),Be&&Be.d(),Ye.d(),$e.d(),Ne&&Ne.d(),_e.d(),Je=!1,lt(it)}}}const sl=a=>a.id&&!a.external;function ia(a,e,t){let l,n;st(a,Bl,T=>t(12,n=T));const o=bt("i18n");st(a,o,T=>t(11,l=T));let{saveHandler:i}=e,d=!1,u=!1,g=!1,v=!1,p="",_="",b="",k="",y="",V={template:"",r:0,k:4,hybrid:!1};const E=async()=>{t(1,d=!0);const T=await Ol(localStorage.token);t(1,d=!1),T&&(await et.set(await nt(localStorage.token)),Ve.success(l.t("Scan complete!")))},L=async()=>{if(p===""&&_.split("/").length-1>1){Ve.error(l.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(p==="ollama"&&_===""){Ve.error(l.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(p==="openai"&&_===""){Ve.error(l.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(p==="openai"&&k===""||y===""){Ve.error(l.t("OpenAI URL/Key required."));return}console.log("Update embedding model attempt:",_),t(2,u=!0);const T=await Zl(localStorage.token,{embedding_engine:p,embedding_model:_,...p==="openai"?{openai_config:{key:k,url:y}}:{}}).catch(async w=>(Ve.error(w),await H(),null));t(2,u=!1),T&&(console.log("embeddingModelUpdateHandler:",T),T.status===!0&&Ve.success(l.t('Embedding model set to "{{embedding_model}}"',T),{duration:1e3*10}))},D=async()=>{console.log("Update reranking model attempt:",b),t(3,g=!0);const T=await Nl(localStorage.token,{reranking_model:b}).catch(async w=>(Ve.error(w),await W(),null));t(3,g=!1),T&&(console.log("rerankingModelUpdateHandler:",T),T.status===!0&&(b===""?Ve.success(l.t("Reranking model disabled",T),{duration:1e3*10}):Ve.success(l.t('Reranking model set to "{{reranking_model}}"',T),{duration:1e3*10})))},M=async()=>{L(),V.hybrid&&D()},H=async()=>{const T=await Ul(localStorage.token);T&&(t(5,p=T.embedding_engine),t(6,_=T.embedding_model),t(8,k=T.openai_config.key),t(9,y=T.openai_config.url))},W=async()=>{const T=await Pl(localStorage.token);T&&t(7,b=T.reranking_model)},q=async()=>{t(10,V.hybrid=!V.hybrid,V),t(10,V=await yl(localStorage.token,V))};Et(async()=>{await H(),await W(),t(10,V=await kl(localStorage.token))});const z=()=>{E(),console.log("check")};function ee(){p=Qt(this),t(5,p)}const Q=T=>{T.target.value==="ollama"?t(6,_=""):T.target.value==="openai"&&t(6,_="text-embedding-3-small")};function C(){y=this.value,t(9,y)}function le(){k=this.value,t(8,k)}const ie=()=>{q()};function U(){_=Qt(this),t(6,_)}function J(){_=this.value,t(6,_)}const fe=()=>{L()};function F(){b=this.value,t(7,b)}const Y=()=>{D()},B=()=>{jl(localStorage.token).catch(w=>(Ve.error(w),null))&&Ve.success(l.t("Success")),t(4,v=!1)},P=()=>{t(4,v=!1)},te=()=>{t(4,v=!0)},G=()=>{M(),i()};return a.$$set=T=>{"saveHandler"in T&&t(0,i=T.saveHandler)},[i,d,u,g,v,p,_,b,k,y,V,l,n,o,E,L,D,M,q,z,ee,Q,C,le,ie,U,J,fe,F,Y,B,P,te,G]}class ca extends ht{constructor(e){super(),vt(this,e,ia,oa,ot,{saveHandler:0},null,[-1,-1])}}function ua(a){let e,t,l,n,o=a[4].t("Chunk Params")+"",i,d,u,g,v,p=a[4].t("Chunk Size")+"",_,b,k,y,V,E,L,D,M=a[4].t("Chunk Overlap")+"",H,W,q,z,ee,Q,C,le,ie,U=a[4].t("PDF Extract Images (OCR)")+"",J,fe,F,Y=(a[3]?a[4].t("On"):a[4].t("Off"))+"",B,P,te,G,T=a[4].t("Save")+"",w,A,X;return{c(){e=f("form"),t=f("div"),l=f("div"),n=f("div"),i=Z(o),d=x(),u=f("div"),g=f("div"),v=f("div"),_=Z(p),b=x(),k=f("div"),y=f("input"),E=x(),L=f("div"),D=f("div"),H=Z(M),W=x(),q=f("div"),z=f("input"),Q=x(),C=f("div"),le=f("div"),ie=f("div"),J=Z(U),fe=x(),F=f("button"),B=Z(Y),P=x(),te=f("div"),G=f("button"),w=Z(T),this.h()},l(O){e=h(O,"FORM",{class:!0});var N=m(e);t=h(N,"DIV",{class:!0});var ve=m(t);l=h(ve,"DIV",{class:!0});var ue=m(l);n=h(ue,"DIV",{class:!0});var $=m(n);i=R($,o),$.forEach(c),d=I(ue),u=h(ue,"DIV",{class:!0});var ne=m(u);g=h(ne,"DIV",{class:!0});var j=m(g);v=h(j,"DIV",{class:!0});var de=m(v);_=R(de,p),de.forEach(c),b=I(j),k=h(j,"DIV",{class:!0});var ge=m(k);y=h(ge,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),ge.forEach(c),j.forEach(c),E=I(ne),L=h(ne,"DIV",{class:!0});var xe=m(L);D=h(xe,"DIV",{class:!0});var ke=m(D);H=R(ke,M),ke.forEach(c),W=I(xe),q=h(xe,"DIV",{class:!0});var we=m(q);z=h(we,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),we.forEach(c),xe.forEach(c),ne.forEach(c),Q=I(ue),C=h(ue,"DIV",{class:!0});var De=m(C);le=h(De,"DIV",{class:!0});var Ie=m(le);ie=h(Ie,"DIV",{class:!0});var ce=m(ie);J=R(ce,U),ce.forEach(c),fe=I(Ie),F=h(Ie,"BUTTON",{class:!0,type:!0});var me=m(F);B=R(me,Y),me.forEach(c),Ie.forEach(c),De.forEach(c),ue.forEach(c),ve.forEach(c),P=I(N),te=h(N,"DIV",{class:!0});var Me=m(te);G=h(Me,"BUTTON",{class:!0,type:!0});var je=m(G);w=R(je,T),je.forEach(c),Me.forEach(c),N.forEach(c),this.h()},h(){r(n,"class","text-sm font-medium"),r(v,"class","self-center text-xs font-medium min-w-fit"),r(y,"class","w-full rounded-lg py-1.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(y,"type","number"),r(y,"placeholder",V=a[4].t("Enter Chunk Size")),r(y,"autocomplete","off"),r(y,"min","0"),r(k,"class","self-center p-3"),r(g,"class","flex w-full justify-between"),r(D,"class","self-center text-xs font-medium min-w-fit"),r(z,"class","w-full rounded-lg py-1.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(z,"type","number"),r(z,"placeholder",ee=a[4].t("Enter Chunk Overlap")),r(z,"autocomplete","off"),r(z,"min","0"),r(q,"class","self-center p-3"),r(L,"class","flex w-full"),r(u,"class","flex"),r(ie,"class","text-xs font-medium"),r(F,"class","text-xs font-medium text-gray-500"),r(F,"type","button"),r(le,"class","flex justify-between items-center text-xs"),r(C,"class","pr-2"),r(l,"class",""),r(t,"class","space-y-3 pr-1.5 overflow-y-scroll h-full max-h-[22rem]"),r(G,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),r(G,"type","submit"),r(te,"class","flex justify-end pt-3 text-sm font-medium"),r(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(O,N){re(O,e,N),s(e,t),s(t,l),s(l,n),s(n,i),s(l,d),s(l,u),s(u,g),s(g,v),s(v,_),s(g,b),s(g,k),s(k,y),be(y,a[1]),s(u,E),s(u,L),s(L,D),s(D,H),s(L,W),s(L,q),s(q,z),be(z,a[2]),s(l,Q),s(l,C),s(C,le),s(le,ie),s(ie,J),s(le,fe),s(le,F),s(F,B),s(e,P),s(e,te),s(te,G),s(G,w),A||(X=[se(y,"input",a[7]),se(z,"input",a[8]),se(F,"click",a[9]),se(e,"submit",Tt(a[10]))],A=!0)},p(O,[N]){N&16&&o!==(o=O[4].t("Chunk Params")+"")&&K(i,o),N&16&&p!==(p=O[4].t("Chunk Size")+"")&&K(_,p),N&16&&V!==(V=O[4].t("Enter Chunk Size"))&&r(y,"placeholder",V),N&2&&_t(y.value)!==O[1]&&be(y,O[1]),N&16&&M!==(M=O[4].t("Chunk Overlap")+"")&&K(H,M),N&16&&ee!==(ee=O[4].t("Enter Chunk Overlap"))&&r(z,"placeholder",ee),N&4&&_t(z.value)!==O[2]&&be(z,O[2]),N&16&&U!==(U=O[4].t("PDF Extract Images (OCR)")+"")&&K(J,U),N&24&&Y!==(Y=(O[3]?O[4].t("On"):O[4].t("Off"))+"")&&K(B,Y),N&16&&T!==(T=O[4].t("Save")+"")&&K(w,T)},i:tt,o:tt,d(O){O&&c(e),A=!1,lt(X)}}}function da(a,e,t){let l;const n=bt("i18n");st(a,n,k=>t(4,l=k));let{saveHandler:o}=e,i=0,d=0,u=!0;const g=async()=>{await Dl(localStorage.token,{pdf_extract_images:u,chunk:{chunk_overlap:d,chunk_size:i}})};Et(async()=>{const k=await El(localStorage.token);k&&(t(3,u=k.pdf_extract_images),t(1,i=k.chunk.chunk_size),t(2,d=k.chunk.chunk_overlap))});function v(){i=_t(this.value),t(1,i)}function p(){d=_t(this.value),t(2,d)}const _=()=>{t(3,u=!u)},b=()=>{g(),o()};return a.$$set=k=>{"saveHandler"in k&&t(0,o=k.saveHandler)},[o,i,d,u,l,n,g,v,p,_,b]}class fa extends ht{constructor(e){super(),vt(this,e,da,ua,ot,{saveHandler:0})}}function rl(a){let e,t,l=a[2].t("Minimum Score")+"",n,o,i,d,u,g,v,p;return{c(){e=f("div"),t=f("div"),n=Z(l),o=x(),i=f("div"),d=f("input"),this.h()},l(_){e=h(_,"DIV",{class:!0});var b=m(e);t=h(b,"DIV",{class:!0});var k=m(t);n=R(k,l),k.forEach(c),o=I(b),i=h(b,"DIV",{class:!0});var y=m(i);d=h(y,"INPUT",{class:!0,type:!0,step:!0,placeholder:!0,autocomplete:!0,min:!0,title:!0}),y.forEach(c),b.forEach(c),this.h()},h(){r(t,"class","self-center text-xs font-medium min-w-fit"),r(d,"class","w-full rounded-lg py-1.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(d,"type","number"),r(d,"step","0.01"),r(d,"placeholder",u=a[2].t("Enter Score")),r(d,"autocomplete","off"),r(d,"min","0.0"),r(d,"title",g=a[2].t("The score should be a value between 0.0 (0%) and 1.0 (100%).")),r(i,"class","self-center p-3"),r(e,"class","flex w-full")},m(_,b){re(_,e,b),s(e,t),s(t,n),s(e,o),s(e,i),s(i,d),be(d,a[1].r),v||(p=se(d,"input",a[6]),v=!0)},p(_,b){b&4&&l!==(l=_[2].t("Minimum Score")+"")&&K(n,l),b&4&&u!==(u=_[2].t("Enter Score"))&&r(d,"placeholder",u),b&4&&g!==(g=_[2].t("The score should be a value between 0.0 (0%) and 1.0 (100%)."))&&r(d,"title",g),b&2&&_t(d.value)!==_[1].r&&be(d,_[1].r)},d(_){_&&c(e),v=!1,p()}}}function nl(a){let e,t=a[2].t("Note: If you set a minimum score, the search will only return documents with a score greater than or equal to the minimum score.")+"",l,n,o;return{c(){e=f("div"),l=Z(t),n=x(),o=f("hr"),this.h()},l(i){e=h(i,"DIV",{class:!0});var d=m(e);l=R(d,t),d.forEach(c),n=I(i),o=h(i,"HR",{class:!0}),this.h()},h(){r(e,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),r(o,"class","dark:border-gray-700 my-3")},m(i,d){re(i,e,d),s(e,l),re(i,n,d),re(i,o,d)},p(i,d){d&4&&t!==(t=i[2].t("Note: If you set a minimum score, the search will only return documents with a score greater than or equal to the minimum score.")+"")&&K(l,t)},d(i){i&&(c(e),c(n),c(o))}}}function ha(a){let e,t,l,n,o=a[2].t("Query Params")+"",i,d,u,g,v,p=a[2].t("Top K")+"",_,b,k,y,V,E,L,D,M,H,W=a[2].t("RAG Template")+"",q,z,ee,Q,C,le,ie=a[2].t("Save")+"",U,J,fe,F=a[1].hybrid===!0&&rl(a),Y=a[1].hybrid===!0&&nl(a);return{c(){e=f("form"),t=f("div"),l=f("div"),n=f("div"),i=Z(o),d=x(),u=f("div"),g=f("div"),v=f("div"),_=Z(p),b=x(),k=f("div"),y=f("input"),E=x(),F&&F.c(),L=x(),Y&&Y.c(),D=x(),M=f("div"),H=f("div"),q=Z(W),z=x(),ee=f("textarea"),Q=x(),C=f("div"),le=f("button"),U=Z(ie),this.h()},l(B){e=h(B,"FORM",{class:!0});var P=m(e);t=h(P,"DIV",{class:!0});var te=m(t);l=h(te,"DIV",{class:!0});var G=m(l);n=h(G,"DIV",{class:!0});var T=m(n);i=R(T,o),T.forEach(c),d=I(G),u=h(G,"DIV",{class:!0});var w=m(u);g=h(w,"DIV",{class:!0});var A=m(g);v=h(A,"DIV",{class:!0});var X=m(v);_=R(X,p),X.forEach(c),b=I(A),k=h(A,"DIV",{class:!0});var O=m(k);y=h(O,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),O.forEach(c),A.forEach(c),E=I(w),F&&F.l(w),w.forEach(c),L=I(G),Y&&Y.l(G),D=I(G),M=h(G,"DIV",{});var N=m(M);H=h(N,"DIV",{class:!0});var ve=m(H);q=R(ve,W),ve.forEach(c),z=I(N),ee=h(N,"TEXTAREA",{class:!0,rows:!0}),m(ee).forEach(c),N.forEach(c),G.forEach(c),te.forEach(c),Q=I(P),C=h(P,"DIV",{class:!0});var ue=m(C);le=h(ue,"BUTTON",{class:!0,type:!0});var $=m(le);U=R($,ie),$.forEach(c),ue.forEach(c),P.forEach(c),this.h()},h(){r(n,"class","text-sm font-medium"),r(v,"class","self-center text-xs font-medium min-w-fit"),r(y,"class","w-full rounded-lg py-1.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(y,"type","number"),r(y,"placeholder",V=a[2].t("Enter Top K")),r(y,"autocomplete","off"),r(y,"min","0"),r(k,"class","self-center p-3"),r(g,"class","flex w-full justify-between"),r(u,"class","flex"),r(H,"class","mb-2.5 text-sm font-medium"),r(ee,"class","w-full rounded-lg px-4 py-3 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none resize-none"),r(ee,"rows","4"),r(l,"class",""),r(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-[22rem]"),r(le,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),r(le,"type","submit"),r(C,"class","flex justify-end pt-3 text-sm font-medium"),r(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(B,P){re(B,e,P),s(e,t),s(t,l),s(l,n),s(n,i),s(l,d),s(l,u),s(u,g),s(g,v),s(v,_),s(g,b),s(g,k),s(k,y),be(y,a[1].k),s(u,E),F&&F.m(u,null),s(l,L),Y&&Y.m(l,null),s(l,D),s(l,M),s(M,H),s(H,q),s(M,z),s(M,ee),be(ee,a[1].template),s(e,Q),s(e,C),s(C,le),s(le,U),J||(fe=[se(y,"input",a[5]),se(ee,"input",a[7]),se(e,"submit",Tt(a[8]))],J=!0)},p(B,[P]){P&4&&o!==(o=B[2].t("Query Params")+"")&&K(i,o),P&4&&p!==(p=B[2].t("Top K")+"")&&K(_,p),P&4&&V!==(V=B[2].t("Enter Top K"))&&r(y,"placeholder",V),P&2&&_t(y.value)!==B[1].k&&be(y,B[1].k),B[1].hybrid===!0?F?F.p(B,P):(F=rl(B),F.c(),F.m(u,null)):F&&(F.d(1),F=null),B[1].hybrid===!0?Y?Y.p(B,P):(Y=nl(B),Y.c(),Y.m(l,D)):Y&&(Y.d(1),Y=null),P&4&&W!==(W=B[2].t("RAG Template")+"")&&K(q,W),P&2&&be(ee,B[1].template),P&4&&ie!==(ie=B[2].t("Save")+"")&&K(U,ie)},i:tt,o:tt,d(B){B&&c(e),F&&F.d(),Y&&Y.d(),J=!1,lt(fe)}}}function va(a,e,t){let l;const n=bt("i18n");st(a,n,_=>t(2,l=_));let{saveHandler:o}=e,i={template:"",r:0,k:4,hybrid:!1};const d=async()=>{t(1,i=await yl(localStorage.token,i))};Et(async()=>{t(1,i=await kl(localStorage.token))});function u(){i.k=_t(this.value),t(1,i)}function g(){i.r=_t(this.value),t(1,i)}function v(){i.template=this.value,t(1,i)}const p=()=>{d(),o()};return a.$$set=_=>{"saveHandler"in _&&t(0,o=_.saveHandler)},[o,i,l,n,d,u,g,v,p]}class ma extends ht{constructor(e){super(),vt(this,e,va,ha,ot,{saveHandler:0})}}function pa(a){let e,t=a[3].t("Off")+"",l;return{c(){e=f("span"),l=Z(t),this.h()},l(n){e=h(n,"SPAN",{class:!0});var o=m(e);l=R(o,t),o.forEach(c),this.h()},h(){r(e,"class","ml-2 self-center")},m(n,o){re(n,e,o),s(e,l)},p(n,o){o&8&&t!==(t=n[3].t("Off")+"")&&K(l,t)},d(n){n&&c(e)}}}function ga(a){let e,t=a[3].t("On")+"",l;return{c(){e=f("span"),l=Z(t),this.h()},l(n){e=h(n,"SPAN",{class:!0});var o=m(e);l=R(o,t),o.forEach(c),this.h()},h(){r(e,"class","ml-2 self-center")},m(n,o){re(n,e,o),s(e,l)},p(n,o){o&8&&t!==(t=n[3].t("On")+"")&&K(l,t)},d(n){n&&c(e)}}}function _a(a){let e,t,l,n,o=a[3].t("Web Loader Settings")+"",i,d,u,g,v,p=a[3].t("Bypass SSL verification for Websites")+"",_,b,k,y,V,E=a[3].t("Youtube Loader Settings")+"",L,D,M,H,W,q=a[3].t("Language")+"",z,ee,Q,C,le,ie,U,J,fe=a[3].t("Save")+"",F,Y,B;function P(T,w){return T[1]===!0?ga:pa}let te=P(a),G=te(a);return{c(){e=f("form"),t=f("div"),l=f("div"),n=f("div"),i=Z(o),d=x(),u=f("div"),g=f("div"),v=f("div"),_=Z(p),b=x(),k=f("button"),G.c(),y=x(),V=f("div"),L=Z(E),D=x(),M=f("div"),H=f("div"),W=f("div"),z=Z(q),ee=x(),Q=f("div"),C=f("input"),ie=x(),U=f("div"),J=f("button"),F=Z(fe),this.h()},l(T){e=h(T,"FORM",{class:!0});var w=m(e);t=h(w,"DIV",{class:!0});var A=m(t);l=h(A,"DIV",{});var X=m(l);n=h(X,"DIV",{class:!0});var O=m(n);i=R(O,o),O.forEach(c),d=I(X),u=h(X,"DIV",{});var N=m(u);g=h(N,"DIV",{class:!0});var ve=m(g);v=h(ve,"DIV",{class:!0});var ue=m(v);_=R(ue,p),ue.forEach(c),b=I(ve),k=h(ve,"BUTTON",{class:!0,type:!0});var $=m(k);G.l($),$.forEach(c),ve.forEach(c),N.forEach(c),y=I(X),V=h(X,"DIV",{class:!0});var ne=m(V);L=R(ne,E),ne.forEach(c),D=I(X),M=h(X,"DIV",{});var j=m(M);H=h(j,"DIV",{class:!0});var de=m(H);W=h(de,"DIV",{class:!0});var ge=m(W);z=R(ge,q),ge.forEach(c),ee=I(de),Q=h(de,"DIV",{class:!0});var xe=m(Q);C=h(xe,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),xe.forEach(c),de.forEach(c),j.forEach(c),X.forEach(c),A.forEach(c),ie=I(w),U=h(w,"DIV",{class:!0});var ke=m(U);J=h(ke,"BUTTON",{class:!0,type:!0});var we=m(J);F=R(we,fe),we.forEach(c),ke.forEach(c),w.forEach(c),this.h()},h(){r(n,"class","mb-1 text-sm font-medium"),r(v,"class","self-center text-xs font-medium"),r(k,"class","p-1 px-3 text-xs flex rounded transition"),r(k,"type","button"),r(g,"class","py-0.5 flex w-full justify-between"),r(V,"class","mt-2 mb-1 text-sm font-medium"),r(W,"class","w-20 text-xs font-medium self-center"),r(C,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(C,"type","text"),r(C,"placeholder",le=a[3].t("Enter language codes")),r(C,"autocomplete","off"),r(Q,"class","flex-1 self-center"),r(H,"class","py-0.5 flex w-full justify-between"),r(t,"class","space-y-3 pr-1.5 overflow-y-scroll h-full max-h-[22rem]"),r(J,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),r(J,"type","submit"),r(U,"class","flex justify-end pt-3 text-sm font-medium"),r(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(T,w){re(T,e,w),s(e,t),s(t,l),s(l,n),s(n,i),s(l,d),s(l,u),s(u,g),s(g,v),s(v,_),s(g,b),s(g,k),G.m(k,null),s(l,y),s(l,V),s(V,L),s(l,D),s(l,M),s(M,H),s(H,W),s(W,z),s(H,ee),s(H,Q),s(Q,C),be(C,a[2]),s(e,ie),s(e,U),s(U,J),s(J,F),Y||(B=[se(k,"click",a[6]),se(C,"input",a[7]),se(e,"submit",Tt(a[8]))],Y=!0)},p(T,[w]){w&8&&o!==(o=T[3].t("Web Loader Settings")+"")&&K(i,o),w&8&&p!==(p=T[3].t("Bypass SSL verification for Websites")+"")&&K(_,p),te===(te=P(T))&&G?G.p(T,w):(G.d(1),G=te(T),G&&(G.c(),G.m(k,null))),w&8&&E!==(E=T[3].t("Youtube Loader Settings")+"")&&K(L,E),w&8&&q!==(q=T[3].t("Language")+"")&&K(z,q),w&8&&le!==(le=T[3].t("Enter language codes"))&&r(C,"placeholder",le),w&4&&C.value!==T[2]&&be(C,T[2]),w&8&&fe!==(fe=T[3].t("Save")+"")&&K(F,fe)},i:tt,o:tt,d(T){T&&c(e),G.d(),Y=!1,lt(B)}}}function ba(a,e,t){let l;const n=bt("i18n");st(a,n,b=>t(3,l=b));let{saveHandler:o}=e,i=!0,d="en",u=null;const g=async()=>{await Dl(localStorage.token,{web_loader_ssl_verification:i,youtube:{language:d.split(",").map(b=>b.trim()),translation:u}})};Et(async()=>{const b=await El(localStorage.token);b&&(t(1,i=b.web_loader_ssl_verification),t(2,d=b.youtube.language.join(",")),u=b.youtube.translation)});const v=()=>{t(1,i=!i),g()};function p(){d=this.value,t(2,d)}const _=()=>{g(),o()};return a.$$set=b=>{"saveHandler"in b&&t(0,o=b.saveHandler)},[o,i,d,l,n,g,v,p,_]}class wa extends ht{constructor(e){super(),vt(this,e,ba,_a,ot,{saveHandler:0})}}function ka(a){let e,t;return e=new wa({props:{saveHandler:a[12]}}),{c(){Fe(e.$$.fragment)},l(l){Ge(e.$$.fragment,l)},m(l,n){We(e,l,n),t=!0},p(l,n){const o={};n&4&&(o.saveHandler=l[12]),e.$set(o)},i(l){t||(Ee(e.$$.fragment,l),t=!0)},o(l){Te(e.$$.fragment,l),t=!1},d(l){Qe(e,l)}}}function ya(a){let e,t;return e=new ma({props:{saveHandler:a[11]}}),{c(){Fe(e.$$.fragment)},l(l){Ge(e.$$.fragment,l)},m(l,n){We(e,l,n),t=!0},p(l,n){const o={};n&4&&(o.saveHandler=l[11]),e.$set(o)},i(l){t||(Ee(e.$$.fragment,l),t=!0)},o(l){Te(e.$$.fragment,l),t=!1},d(l){Qe(e,l)}}}function Ea(a){let e,t;return e=new fa({props:{saveHandler:a[10]}}),{c(){Fe(e.$$.fragment)},l(l){Ge(e.$$.fragment,l)},m(l,n){We(e,l,n),t=!0},p(l,n){const o={};n&4&&(o.saveHandler=l[10]),e.$set(o)},i(l){t||(Ee(e.$$.fragment,l),t=!0)},o(l){Te(e.$$.fragment,l),t=!1},d(l){Qe(e,l)}}}function Da(a){let e,t;return e=new ca({props:{saveHandler:a[9]}}),{c(){Fe(e.$$.fragment)},l(l){Ge(e.$$.fragment,l)},m(l,n){We(e,l,n),t=!0},p(l,n){const o={};n&4&&(o.saveHandler=l[9]),e.$set(o)},i(l){t||(Ee(e.$$.fragment,l),t=!0)},o(l){Te(e.$$.fragment,l),t=!1},d(l){Qe(e,l)}}}function xa(a){let e,t,l,n=a[2].t("Document Settings")+"",o,i,d,u='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',g,v,p,_,b,k='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M6.955 1.45A.5.5 0 0 1 7.452 1h1.096a.5.5 0 0 1 .497.45l.17 1.699c.484.12.94.312 1.356.562l1.321-1.081a.5.5 0 0 1 .67.033l.774.775a.5.5 0 0 1 .034.67l-1.08 1.32c.25.417.44.873.561 1.357l1.699.17a.5.5 0 0 1 .45.497v1.096a.5.5 0 0 1-.45.497l-1.699.17c-.12.484-.312.94-.562 1.356l1.082 1.322a.5.5 0 0 1-.034.67l-.774.774a.5.5 0 0 1-.67.033l-1.322-1.08c-.416.25-.872.44-1.356.561l-.17 1.699a.5.5 0 0 1-.497.45H7.452a.5.5 0 0 1-.497-.45l-.17-1.699a4.973 4.973 0 0 1-1.356-.562L4.108 13.37a.5.5 0 0 1-.67-.033l-.774-.775a.5.5 0 0 1-.034-.67l1.08-1.32a4.971 4.971 0 0 1-.561-1.357l-1.699-.17A.5.5 0 0 1 1 8.548V7.452a.5.5 0 0 1 .45-.497l1.699-.17c.12-.484.312-.94.562-1.356L2.629 4.107a.5.5 0 0 1 .034-.67l.774-.774a.5.5 0 0 1 .67-.033L5.43 3.71a4.97 4.97 0 0 1 1.356-.561l.17-1.699ZM6 8c0 .538.212 1.026.558 1.385l.057.057a2 2 0 0 0 2.828-2.828l-.058-.056A2 2 0 0 0 6 8Z" clip-rule="evenodd"></path></svg>',y,V,E=a[2].t("General")+"",L,D,M,H,W,q='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875ZM12.75 12a.75.75 0 0 0-1.5 0v2.25H9a.75.75 0 0 0 0 1.5h2.25V18a.75.75 0 0 0 1.5 0v-2.25H15a.75.75 0 0 0 0-1.5h-2.25V12Z" clip-rule="evenodd"></path><path d="M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"></path></svg>',z,ee,Q=a[2].t("Chunk Params")+"",C,le,ie,U,J,fe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path d="M11.625 16.5a1.875 1.875 0 1 0 0-3.75 1.875 1.875 0 0 0 0 3.75Z"></path><path fill-rule="evenodd" d="M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875Zm6 16.5c.66 0 1.277-.19 1.797-.518l1.048 1.048a.75.75 0 0 0 1.06-1.06l-1.047-1.048A3.375 3.375 0 1 0 11.625 18Z" clip-rule="evenodd"></path><path d="M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"></path></svg>',F,Y,B=a[2].t("Query Params")+"",P,te,G,T,w,A='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path d="M21.721 12.752a9.711 9.711 0 0 0-.945-5.003 12.754 12.754 0 0 1-4.339 2.708 18.991 18.991 0 0 1-.214 4.772 17.165 17.165 0 0 0 5.498-2.477ZM14.634 15.55a17.324 17.324 0 0 0 .332-4.647c-.952.227-1.945.347-2.966.347-1.021 0-2.014-.12-2.966-.347a17.515 17.515 0 0 0 .332 4.647 17.385 17.385 0 0 0 5.268 0ZM9.772 17.119a18.963 18.963 0 0 0 4.456 0A17.182 17.182 0 0 1 12 21.724a17.18 17.18 0 0 1-2.228-4.605ZM7.777 15.23a18.87 18.87 0 0 1-.214-4.774 12.753 12.753 0 0 1-4.34-2.708 9.711 9.711 0 0 0-.944 5.004 17.165 17.165 0 0 0 5.498 2.477ZM21.356 14.752a9.765 9.765 0 0 1-7.478 6.817 18.64 18.64 0 0 0 1.988-4.718 18.627 18.627 0 0 0 5.49-2.098ZM2.644 14.752c1.682.971 3.53 1.688 5.49 2.099a18.64 18.64 0 0 0 1.988 4.718 9.765 9.765 0 0 1-7.478-6.816ZM13.878 2.43a9.755 9.755 0 0 1 6.116 3.986 11.267 11.267 0 0 1-3.746 2.504 18.63 18.63 0 0 0-2.37-6.49ZM12 2.276a17.152 17.152 0 0 1 2.805 7.121c-.897.23-1.837.353-2.805.353-.968 0-1.908-.122-2.805-.353A17.151 17.151 0 0 1 12 2.276ZM10.122 2.43a18.629 18.629 0 0 0-2.37 6.49 11.266 11.266 0 0 1-3.746-2.504 9.754 9.754 0 0 1 6.116-3.985Z"></path></svg>',X,O,N=a[2].t("Web Params")+"",ve,ue,$,ne,j,de,ge,xe,ke;const we=[Da,Ea,ya,ka],De=[];function Ie(ce,me){return ce[1]==="general"?0:ce[1]==="chunk"?1:ce[1]==="query"?2:ce[1]==="web"?3:-1}return~(j=Ie(a))&&(de=De[j]=we[j](a)),{c(){e=f("div"),t=f("div"),l=f("div"),o=Z(n),i=x(),d=f("button"),d.innerHTML=u,g=x(),v=f("div"),p=f("div"),_=f("button"),b=f("div"),b.innerHTML=k,y=x(),V=f("div"),L=Z(E),M=x(),H=f("button"),W=f("div"),W.innerHTML=q,z=x(),ee=f("div"),C=Z(Q),ie=x(),U=f("button"),J=f("div"),J.innerHTML=fe,F=x(),Y=f("div"),P=Z(B),G=x(),T=f("button"),w=f("div"),w.innerHTML=A,X=x(),O=f("div"),ve=Z(N),$=x(),ne=f("div"),de&&de.c(),this.h()},l(ce){e=h(ce,"DIV",{});var me=m(e);t=h(me,"DIV",{class:!0});var Me=m(t);l=h(Me,"DIV",{class:!0});var je=m(l);o=R(je,n),je.forEach(c),i=I(Me),d=h(Me,"BUTTON",{class:!0,"data-svelte-h":!0}),Oe(d)!=="svelte-745w2y"&&(d.innerHTML=u),Me.forEach(c),g=I(me),v=h(me,"DIV",{class:!0});var Ce=m(v);p=h(Ce,"DIV",{class:!0});var Ue=m(p);_=h(Ue,"BUTTON",{class:!0});var Pe=m(_);b=h(Pe,"DIV",{class:!0,"data-svelte-h":!0}),Oe(b)!=="svelte-1k1ieum"&&(b.innerHTML=k),y=I(Pe),V=h(Pe,"DIV",{class:!0});var Se=m(V);L=R(Se,E),Se.forEach(c),Pe.forEach(c),M=I(Ue),H=h(Ue,"BUTTON",{class:!0});var Ze=m(H);W=h(Ze,"DIV",{class:!0,"data-svelte-h":!0}),Oe(W)!=="svelte-sarula"&&(W.innerHTML=q),z=I(Ze),ee=h(Ze,"DIV",{class:!0});var Xe=m(ee);C=R(Xe,Q),Xe.forEach(c),Ze.forEach(c),ie=I(Ue),U=h(Ue,"BUTTON",{class:!0});var Je=m(U);J=h(Je,"DIV",{class:!0,"data-svelte-h":!0}),Oe(J)!=="svelte-1ray9mb"&&(J.innerHTML=fe),F=I(Je),Y=h(Je,"DIV",{class:!0});var it=m(Y);P=R(it,B),it.forEach(c),Je.forEach(c),G=I(Ue),T=h(Ue,"BUTTON",{class:!0});var ye=m(T);w=h(ye,"DIV",{class:!0,"data-svelte-h":!0}),Oe(w)!=="svelte-17j0plg"&&(w.innerHTML=A),X=I(ye),O=h(ye,"DIV",{class:!0});var Be=m(O);ve=R(Be,N),Be.forEach(c),ye.forEach(c),Ue.forEach(c),$=I(Ce),ne=h(Ce,"DIV",{class:!0});var Re=m(ne);de&&de.l(Re),Re.forEach(c),Ce.forEach(c),me.forEach(c),this.h()},h(){r(l,"class","text-lg font-medium self-center"),r(d,"class","self-center"),r(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4"),r(b,"class","self-center mr-2"),r(V,"class","self-center"),r(_,"class",D="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(a[1]==="general"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),r(W,"class","self-center mr-2"),r(ee,"class","self-center"),r(H,"class",le="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(a[1]==="chunk"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),r(J,"class","self-center mr-2"),r(Y,"class","self-center"),r(U,"class",te="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(a[1]==="query"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),r(w,"class","self-center mr-2"),r(O,"class","self-center"),r(T,"class",ue="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(a[1]==="web"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),r(p,"class","tabs flex flex-row overflow-x-auto space-x-1 md:space-x-0 md:space-y-1 md:flex-col flex-1 md:flex-none md:w-40 dark:text-gray-200 text-xs text-left mb-3 md:mb-0"),r(ne,"class","flex-1 md:min-h-[380px]"),r(v,"class","flex flex-col md:flex-row w-full p-4 md:space-x-4")},m(ce,me){re(ce,e,me),s(e,t),s(t,l),s(l,o),s(t,i),s(t,d),s(e,g),s(e,v),s(v,p),s(p,_),s(_,b),s(_,y),s(_,V),s(V,L),s(p,M),s(p,H),s(H,W),s(H,z),s(H,ee),s(ee,C),s(p,ie),s(p,U),s(U,J),s(U,F),s(U,Y),s(Y,P),s(p,G),s(p,T),s(T,w),s(T,X),s(T,O),s(O,ve),s(v,$),s(v,ne),~j&&De[j].m(ne,null),ge=!0,xe||(ke=[se(d,"click",a[4]),se(_,"click",a[5]),se(H,"click",a[6]),se(U,"click",a[7]),se(T,"click",a[8])],xe=!0)},p(ce,me){(!ge||me&4)&&n!==(n=ce[2].t("Document Settings")+"")&&K(o,n),(!ge||me&4)&&E!==(E=ce[2].t("General")+"")&&K(L,E),(!ge||me&2&&D!==(D="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(ce[1]==="general"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&r(_,"class",D),(!ge||me&4)&&Q!==(Q=ce[2].t("Chunk Params")+"")&&K(C,Q),(!ge||me&2&&le!==(le="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(ce[1]==="chunk"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&r(H,"class",le),(!ge||me&4)&&B!==(B=ce[2].t("Query Params")+"")&&K(P,B),(!ge||me&2&&te!==(te="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(ce[1]==="query"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&r(U,"class",te),(!ge||me&4)&&N!==(N=ce[2].t("Web Params")+"")&&K(ve,N),(!ge||me&2&&ue!==(ue="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(ce[1]==="web"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&r(T,"class",ue);let Me=j;j=Ie(ce),j===Me?~j&&De[j].p(ce,me):(de&&(Ot(),Te(De[Me],1,1,()=>{De[Me]=null}),Nt()),~j?(de=De[j],de?de.p(ce,me):(de=De[j]=we[j](ce),de.c()),Ee(de,1),de.m(ne,null)):de=null)},i(ce){ge||(Ee(de),ge=!0)},o(ce){Te(de),ge=!1},d(ce){ce&&c(e),~j&&De[j].d(),xe=!1,lt(ke)}}}function Ia(a){let e,t,l;function n(i){a[13](i)}let o={$$slots:{default:[xa]},$$scope:{ctx:a}};return a[0]!==void 0&&(o.show=a[0]),e=new Gt({props:o}),gt.push(()=>It(e,"show",n)),{c(){Fe(e.$$.fragment)},l(i){Ge(e.$$.fragment,i)},m(i,d){We(e,i,d),l=!0},p(i,[d]){const u={};d&16391&&(u.$$scope={dirty:d,ctx:i}),!t&&d&1&&(t=!0,u.show=i[0],xt(()=>t=!1)),e.$set(u)},i(i){l||(Ee(e.$$.fragment,i),l=!0)},o(i){Te(e.$$.fragment,i),l=!1},d(i){Qe(e,i)}}}function Va(a,e,t){let l;const n=bt("i18n");st(a,n,E=>t(2,l=E));let{show:o=!1}=e,i="general";const d=()=>{t(0,o=!1)},u=()=>{t(1,i="general")},g=()=>{t(1,i="chunk")},v=()=>{t(1,i="query")},p=()=>{t(1,i="web")},_=()=>{Ve.success(l.t("Settings saved successfully!"))},b=()=>{Ve.success(l.t("Settings saved successfully!"))},k=()=>{Ve.success(l.t("Settings saved successfully!"))},y=()=>{Ve.success(l.t("Settings saved successfully!"))};function V(E){o=E,t(0,o)}return a.$$set=E=>{"show"in E&&t(0,o=E.show)},[o,i,l,n,d,u,g,v,p,_,b,k,y,V]}class Ta extends ht{constructor(e){super(),vt(this,e,Va,Ia,ot,{show:0})}}function Ma(a){let e=a[4].t("Click here to select documents.")+"",t;return{c(){t=Z(e)},l(l){t=R(l,e)},m(l,n){re(l,t,n)},p(l,n){n&16&&e!==(e=l[4].t("Click here to select documents.")+"")&&K(t,e)},d(l){l&&c(t)}}}function Sa(a){let e=a[2].length>0?`${a[2].length}`:"",t,l;return{c(){t=Z(e),l=Z(" document(s) selected.")},l(n){t=R(n,e),l=R(n," document(s) selected.")},m(n,o){re(n,t,o),re(n,l,o)},p(n,o){o&4&&e!==(e=n[2].length>0?`${n[2].length}`:"")&&K(t,e)},d(n){n&&(c(t),c(l))}}}function Ha(a){let e,t,l,n=a[4].t("Add Docs")+"",o,i,d,u='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',g,v,p,_,b,k,y,V,E,L,D,M,H=a[4].t("Tags")+"",W,q,z,ee,Q,C,le=a[4].t("Save")+"",ie,U,J,fe;function F(P,te){return P[2]?Sa:Ma}let Y=F(a),B=Y(a);return z=new Vl({props:{tags:a[3],addTag:a[7],deleteTag:a[8]}}),{c(){e=f("div"),t=f("div"),l=f("div"),o=Z(n),i=x(),d=f("button"),d.innerHTML=u,g=x(),v=f("div"),p=f("div"),_=f("form"),b=f("div"),k=f("input"),y=x(),V=f("button"),B.c(),E=x(),L=f("div"),D=f("div"),M=f("div"),W=Z(H),q=x(),Fe(z.$$.fragment),ee=x(),Q=f("div"),C=f("button"),ie=Z(le),this.h()},l(P){e=h(P,"DIV",{});var te=m(e);t=h(te,"DIV",{class:!0});var G=m(t);l=h(G,"DIV",{class:!0});var T=m(l);o=R(T,n),T.forEach(c),i=I(G),d=h(G,"BUTTON",{class:!0,"data-svelte-h":!0}),Oe(d)!=="svelte-745w2y"&&(d.innerHTML=u),G.forEach(c),g=I(te),v=h(te,"DIV",{class:!0});var w=m(v);p=h(w,"DIV",{class:!0});var A=m(p);_=h(A,"FORM",{class:!0});var X=m(_);b=h(X,"DIV",{class:!0});var O=m(b);k=h(O,"INPUT",{id:!0,type:!0,class:!0}),y=I(O),V=h(O,"BUTTON",{class:!0,type:!0});var N=m(V);B.l(N),N.forEach(c),O.forEach(c),E=I(X),L=h(X,"DIV",{class:!0});var ve=m(L);D=h(ve,"DIV",{class:!0});var ue=m(D);M=h(ue,"DIV",{class:!0});var $=m(M);W=R($,H),$.forEach(c),q=I(ue),Ge(z.$$.fragment,ue),ue.forEach(c),ve.forEach(c),ee=I(X),Q=h(X,"DIV",{class:!0});var ne=m(Q);C=h(ne,"BUTTON",{class:!0,type:!0});var j=m(C);ie=R(j,le),j.forEach(c),ne.forEach(c),X.forEach(c),A.forEach(c),w.forEach(c),te.forEach(c),this.h()},h(){r(l,"class","text-lg font-medium self-center"),r(d,"class","self-center"),r(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4"),r(k,"id","upload-doc-input"),k.hidden=!0,r(k,"type","file"),k.multiple=!0,r(k,"class","svelte-1vx7r9s"),r(V,"class","w-full text-sm font-medium py-3 bg-gray-100 hover:bg-gray-200 dark:bg-gray-850 dark:hover:bg-gray-800 text-center rounded-xl"),r(V,"type","button"),r(b,"class","mb-3 w-full"),r(M,"class","mb-1.5 text-xs text-gray-500"),r(D,"class","flex flex-col w-full"),r(L,"class","flex flex-col space-y-1.5"),r(C,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),r(C,"type","submit"),r(Q,"class","flex justify-end pt-5 text-sm font-medium"),r(_,"class","flex flex-col w-full"),r(p,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),r(v,"class","flex flex-col md:flex-row w-full px-5 py-4 md:space-x-4 dark:text-gray-200")},m(P,te){re(P,e,te),s(e,t),s(t,l),s(l,o),s(t,i),s(t,d),s(e,g),s(e,v),s(v,p),s(p,_),s(_,b),s(b,k),a[10](k),s(b,y),s(b,V),B.m(V,null),s(_,E),s(_,L),s(L,D),s(D,M),s(M,W),s(D,q),We(z,D,null),s(_,ee),s(_,Q),s(Q,C),s(C,ie),U=!0,J||(fe=[se(d,"click",a[9]),se(k,"change",a[11]),se(V,"click",a[12]),se(_,"submit",Tt(a[13]))],J=!0)},p(P,te){(!U||te&16)&&n!==(n=P[4].t("Add Docs")+"")&&K(o,n),Y===(Y=F(P))&&B?B.p(P,te):(B.d(1),B=Y(P),B&&(B.c(),B.m(V,null))),(!U||te&16)&&H!==(H=P[4].t("Tags")+"")&&K(W,H);const G={};te&8&&(G.tags=P[3]),z.$set(G),(!U||te&16)&&le!==(le=P[4].t("Save")+"")&&K(ie,le)},i(P){U||(Ee(z.$$.fragment,P),U=!0)},o(P){Te(z.$$.fragment,P),U=!1},d(P){P&&c(e),a[10](null),B.d(),Qe(z),J=!1,lt(fe)}}}function La(a){let e,t,l;function n(i){a[14](i)}let o={size:"sm",$$slots:{default:[Ha]},$$scope:{ctx:a}};return a[0]!==void 0&&(o.show=a[0]),e=new Gt({props:o}),gt.push(()=>It(e,"show",n)),{c(){Fe(e.$$.fragment)},l(i){Ge(e.$$.fragment,i)},m(i,d){We(e,i,d),l=!0},p(i,[d]){const u={};d&131103&&(u.$$scope={dirty:d,ctx:i}),!t&&d&1&&(t=!0,u.show=i[0],xt(()=>t=!1)),e.$set(u)},i(i){l||(Ee(e.$$.fragment,i),l=!0)},o(i){Te(e.$$.fragment,i),l=!1},d(i){Qe(e,i)}}}function Ba(a,e,t){let l;const n=bt("i18n");st(a,n,D=>t(4,l=D));let{show:o=!1}=e,i,d,u=[];const g=async D=>{const M=await xl(localStorage.token,"",D).catch(H=>(Ve.error(H),null));M&&(await qt(localStorage.token,M.collection_name,M.filename,Il(M.filename),M.filename,u.length>0?{tags:u}:null).catch(H=>(Ve.error(H),null)),await et.set(await nt(localStorage.token)))},v=async()=>{if(d&&d.length>0){for(const D of d)console.log(D,D.name.split(".").at(-1)),bl.includes(D.type)||wl.includes(D.name.split(".").at(-1))||Ve.error(`Unknown File Type '${D.type}', but accepting and treating as plain text`),g(D);t(2,d=null),t(1,i.value="",i)}else Ve.error(l.t("File not found."));t(0,o=!1),et.set(await nt(localStorage.token))},p=async D=>{!u.find(M=>M.name===D)&&D!==""?t(3,u=[...u,{name:D}]):console.log("tag already exists")},_=async D=>{t(3,u=u.filter(M=>M.name!==D))};Et(()=>{});const b=()=>{t(0,o=!1)};function k(D){gt[D?"unshift":"push"](()=>{i=D,t(1,i)})}function y(){d=this.files,t(2,d)}const V=()=>{i.click()},E=()=>{v()};function L(D){o=D,t(0,o)}return a.$$set=D=>{"show"in D&&t(0,o=D.show)},[o,i,d,u,l,n,v,p,_,b,k,y,V,E,L]}class Aa extends ht{constructor(e){super(),vt(this,e,Ba,La,ot,{show:0})}}const{document:zt}=Hl;function ol(a,e,t){const l=a.slice();return l[37]=e[t],l[38]=e,l[39]=t,l}function il(a,e,t){const l=a.slice();return l[40]=e[t],l}function cl(a){let e,t,l,n,o,i;return o=new Rl({props:{$$slots:{default:[Ca]},$$scope:{ctx:a}}}),{c(){e=f("div"),t=f("div"),l=f("div"),n=f("div"),Fe(o.$$.fragment),this.h()},l(d){e=h(d,"DIV",{class:!0,id:!0,role:!0,"aria-label":!0});var u=m(e);t=h(u,"DIV",{class:!0});var g=m(t);l=h(g,"DIV",{class:!0});var v=m(l);n=h(v,"DIV",{class:!0});var p=m(n);Ge(o.$$.fragment,p),p.forEach(c),v.forEach(c),g.forEach(c),u.forEach(c),this.h()},h(){r(n,"class","max-w-md"),r(l,"class","m-auto pt-64 flex flex-col justify-center"),r(t,"class","absolute rounded-xl w-full h-full backdrop-blur bg-gray-800/40 flex justify-center"),r(e,"class","fixed w-full h-full flex z-50 touch-none pointer-events-none"),r(e,"id","dropzone"),r(e,"role","region"),r(e,"aria-label","Drag and Drop Container")},m(d,u){re(d,e,u),s(e,t),s(t,l),s(l,n),We(o,n,null),i=!0},i(d){i||(Ee(o.$$.fragment,d),i=!0)},o(d){Te(o.$$.fragment,d),i=!1},d(d){d&&c(e),Qe(o)}}}function Ca(a){let e,t="Drop any files here to add to my documents";return{c(){e=f("div"),e.textContent=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),Oe(e)!=="svelte-19eg75t"&&(e.textContent=t),this.h()},h(){r(e,"class","mt-2 text-center text-sm dark:text-gray-200 w-full")},m(l,n){re(l,e,n)},p:tt,d(l){l&&c(e)}}}function ul(a){let e,t,l;function n(i){a[18](i)}let o={selectedDoc:a[9]};return a[8]!==void 0&&(o.show=a[8]),e=new Kl({props:o}),gt.push(()=>It(e,"show",n)),{c(){Fe(e.$$.fragment)},l(i){Ge(e.$$.fragment,i)},m(i,d){We(e,i,d),l=!0},p(i,d){const u={};d[0]&512&&(u.selectedDoc=i[9]),!t&&d[0]&256&&(t=!0,u.show=i[8],xt(()=>t=!1)),e.$set(u)},i(i){l||(Ee(e.$$.fragment,i),l=!0)},o(i){Te(e.$$.fragment,i),l=!1},d(i){Qe(e,i)}}}function dl(a){let e,t,l,n,o,i;l=new Tl({props:{state:a[11].filter(vl).length===a[11].length?"checked":"unchecked",indeterminate:a[11].filter(ml).length>0&&a[11].filter(pl).length!==a[11].length}}),l.$on("change",a[24]);function d(v,p){return p[0]&2048&&(o=null),o==null&&(o=v[11].filter(Za).length===0),o?Na:Oa}let u=d(a,[-1,-1]),g=u(a);return{c(){e=f("div"),t=f("div"),Fe(l.$$.fragment),n=x(),g.c(),this.h()},l(v){e=h(v,"DIV",{class:!0});var p=m(e);t=h(p,"DIV",{class:!0});var _=m(t);Ge(l.$$.fragment,_),_.forEach(c),n=I(p),g.l(p),p.forEach(c),this.h()},h(){r(t,"class","ml-0.5 pr-3 my-auto flex items-center"),r(e,"class","px-2.5 pt-1 flex gap-1 flex-wrap")},m(v,p){re(v,e,p),s(e,t),We(l,t,null),s(e,n),g.m(e,null),i=!0},p(v,p){const _={};p[0]&2048&&(_.state=v[11].filter(vl).length===v[11].length?"checked":"unchecked"),p[0]&2048&&(_.indeterminate=v[11].filter(ml).length>0&&v[11].filter(pl).length!==v[11].length),l.$set(_),u===(u=d(v,p))&&g?g.p(v,p):(g.d(1),g=u(v),g&&(g.c(),g.m(e,null)))},i(v){i||(Ee(l.$$.fragment,v),i=!0)},o(v){Te(l.$$.fragment,v),i=!1},d(v){v&&c(e),Qe(l),g.d()}}}function Oa(a){let e,t,l=a[11].filter(gl).length+"",n,o,i,d,u,g,v=a[12].t("delete")+"",p,_,b;return{c(){e=f("div"),t=f("div"),n=Z(l),o=Z(" Selected"),i=x(),d=f("div"),u=f("button"),g=f("div"),p=Z(v),this.h()},l(k){e=h(k,"DIV",{class:!0});var y=m(e);t=h(y,"DIV",{class:!0});var V=m(t);n=R(V,l),o=R(V," Selected"),V.forEach(c),i=I(y),d=h(y,"DIV",{class:!0});var E=m(d);u=h(E,"BUTTON",{class:!0});var L=m(u);g=h(L,"DIV",{class:!0});var D=m(g);p=R(D,v),D.forEach(c),L.forEach(c),E.forEach(c),y.forEach(c),this.h()},h(){r(t,"class","text-xs font-medium py-0.5 self-center mr-1"),r(g,"class","text-xs font-medium self-center line-clamp-1"),r(u,"class","px-2 py-0.5 space-x-1 flex h-fit items-center rounded-full transition bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:text-white"),r(d,"class","flex gap-1"),r(e,"class","flex-1 flex w-full justify-between items-center")},m(k,y){re(k,e,y),s(e,t),s(t,n),s(t,o),s(e,i),s(e,d),s(d,u),s(u,g),s(g,p),_||(b=se(u,"click",a[27]),_=!0)},p(k,y){y[0]&2048&&l!==(l=k[11].filter(gl).length+"")&&K(n,l),y[0]&4096&&v!==(v=k[12].t("delete")+"")&&K(p,v)},d(k){k&&c(e),_=!1,b()}}}function Na(a){let e,t,l=a[12].t("all")+"",n,o,i,d,u,g=Vt(a[5]),v=[];for(let p=0;p<g.length;p+=1)v[p]=fl(il(a,g,p));return{c(){e=f("button"),t=f("div"),n=Z(l),o=x();for(let p=0;p<v.length;p+=1)v[p].c();i=Zt(),this.h()},l(p){e=h(p,"BUTTON",{class:!0});var _=m(e);t=h(_,"DIV",{class:!0});var b=m(t);n=R(b,l),b.forEach(c),_.forEach(c),o=I(p);for(let k=0;k<v.length;k+=1)v[k].l(p);i=Zt(),this.h()},h(){r(t,"class","text-xs font-medium self-center line-clamp-1"),r(e,"class","px-2 py-0.5 space-x-1 flex h-fit items-center rounded-full transition bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:text-white")},m(p,_){re(p,e,_),s(e,t),s(t,n),re(p,o,_);for(let b=0;b<v.length;b+=1)v[b]&&v[b].m(p,_);re(p,i,_),d||(u=se(e,"click",a[25]),d=!0)},p(p,_){if(_[0]&4096&&l!==(l=p[12].t("all")+"")&&K(n,l),_[0]&34){g=Vt(p[5]);let b;for(b=0;b<g.length;b+=1){const k=il(p,g,b);v[b]?v[b].p(k,_):(v[b]=fl(k),v[b].c(),v[b].m(i.parentNode,i))}for(;b<v.length;b+=1)v[b].d(1);v.length=g.length}},d(p){p&&(c(e),c(o),c(i)),Ft(v,p),d=!1,u()}}}function fl(a){let e,t,l,n=a[40]+"",o,i,d,u;function g(){return a[26](a[40])}return{c(){e=f("button"),t=f("div"),l=Z("#"),o=Z(n),i=x(),this.h()},l(v){e=h(v,"BUTTON",{class:!0});var p=m(e);t=h(p,"DIV",{class:!0});var _=m(t);l=R(_,"#"),o=R(_,n),_.forEach(c),i=I(p),p.forEach(c),this.h()},h(){r(t,"class","text-xs font-medium self-center line-clamp-1"),r(e,"class","px-2 py-0.5 space-x-1 flex h-fit items-center rounded-full transition bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:text-white")},m(v,p){re(v,e,p),s(e,t),s(t,l),s(t,o),s(e,i),d||(u=se(e,"click",g),d=!0)},p(v,p){a=v,p[0]&32&&n!==(n=a[40]+"")&&K(o,n)},d(v){v&&c(e),d=!1,u()}}}function Ua(a){let e,t,l,n,o,i;return{c(){e=He("svg"),t=He("style"),l=Z(`.spinner_qM83 {
													animation: spinner_8HQG 1.05s infinite;
												}
												.spinner_oXPr {
													animation-delay: 0.1s;
												}
												.spinner_ZTLf {
													animation-delay: 0.2s;
												}
												@keyframes spinner_8HQG {
													0%,
													57.14% {
														animation-timing-function: cubic-bezier(0.33, 0.66, 0.66, 1);
														transform: translate(0);
													}
													28.57% {
														animation-timing-function: cubic-bezier(0.33, 0, 0.66, 0.33);
														transform: translateY(-6px);
													}
													100% {
														transform: translate(0);
													}
												}
											`),n=He("circle"),o=He("circle"),i=He("circle"),this.h()},l(d){e=Le(d,"svg",{class:!0,fill:!0,viewBox:!0,xmlns:!0});var u=m(e);t=Le(u,"style",{});var g=m(t);l=R(g,`.spinner_qM83 {
													animation: spinner_8HQG 1.05s infinite;
												}
												.spinner_oXPr {
													animation-delay: 0.1s;
												}
												.spinner_ZTLf {
													animation-delay: 0.2s;
												}
												@keyframes spinner_8HQG {
													0%,
													57.14% {
														animation-timing-function: cubic-bezier(0.33, 0.66, 0.66, 1);
														transform: translate(0);
													}
													28.57% {
														animation-timing-function: cubic-bezier(0.33, 0, 0.66, 0.33);
														transform: translateY(-6px);
													}
													100% {
														transform: translate(0);
													}
												}
											`),g.forEach(c),n=Le(u,"circle",{class:!0,cx:!0,cy:!0,r:!0}),m(n).forEach(c),o=Le(u,"circle",{class:!0,cx:!0,cy:!0,r:!0}),m(o).forEach(c),i=Le(u,"circle",{class:!0,cx:!0,cy:!0,r:!0}),m(i).forEach(c),u.forEach(c),this.h()},h(){r(n,"class","spinner_qM83"),r(n,"cx","4"),r(n,"cy","12"),r(n,"r","2.5"),r(o,"class","spinner_qM83 spinner_oXPr"),r(o,"cx","12"),r(o,"cy","12"),r(o,"r","2.5"),r(i,"class","spinner_qM83 spinner_ZTLf"),r(i,"cx","20"),r(i,"cy","12"),r(i,"r","2.5"),r(e,"class","w-6 h-6 translate-y-[0.5px]"),r(e,"fill","currentColor"),r(e,"viewBox","0 0 24 24"),r(e,"xmlns","http://www.w3.org/2000/svg")},m(d,u){re(d,e,u),s(e,t),s(t,l),s(e,n),s(e,o),s(e,i)},d(d){d&&c(e)}}}function Pa(a){let e,t,l;return{c(){e=He("svg"),t=He("path"),l=He("path"),this.h()},l(n){e=Le(n,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var o=m(e);t=Le(o,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),m(t).forEach(c),l=Le(o,"path",{d:!0}),m(l).forEach(c),o.forEach(c),this.h()},h(){r(t,"fill-rule","evenodd"),r(t,"d","M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z"),r(t,"clip-rule","evenodd"),r(l,"d","M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"),r(e,"xmlns","http://www.w3.org/2000/svg"),r(e,"viewBox","0 0 24 24"),r(e,"fill","currentColor"),r(e,"class","w-6 h-6")},m(n,o){re(n,e,o),s(e,t),s(e,l)},d(n){n&&c(e)}}}function hl(a){var T;let e,t,l,n,o,i,d,u,g,v,p,_=a[37].name+"",b,k,y=a[37].filename+"",V,E,L,D,M=a[37].title+"",H,W,q,z,ee='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"></path></svg>',Q,C,le='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"></path></svg>',ie,U,J,fe;l=new Tl({props:{state:((T=a[37])==null?void 0:T.selected)??"unchecked"}});function F(w,A){return w[37]?Pa:Ua}let Y=F(a),B=Y(a);function P(...w){return a[28](a[37],...w)}function te(...w){return a[29](a[37],...w)}function G(){return a[30](a[37],a[38],a[39])}return{c(){e=f("button"),t=f("div"),Fe(l.$$.fragment),n=x(),o=f("div"),i=f("div"),d=f("div"),B.c(),u=x(),g=f("div"),v=f("div"),p=Z("#"),b=Z(_),k=Z(" ("),V=Z(y),E=Z(")"),L=x(),D=f("div"),H=Z(M),W=x(),q=f("div"),z=f("button"),z.innerHTML=ee,Q=x(),C=f("button"),C.innerHTML=le,ie=x(),this.h()},l(w){e=h(w,"BUTTON",{class:!0});var A=m(e);t=h(A,"DIV",{class:!0});var X=m(t);Ge(l.$$.fragment,X),X.forEach(c),n=I(A),o=h(A,"DIV",{class:!0});var O=m(o);i=h(O,"DIV",{class:!0});var N=m(i);d=h(N,"DIV",{class:!0});var ve=m(d);B.l(ve),ve.forEach(c),u=I(N),g=h(N,"DIV",{class:!0});var ue=m(g);v=h(ue,"DIV",{class:!0});var $=m(v);p=R($,"#"),b=R($,_),k=R($," ("),V=R($,y),E=R($,")"),$.forEach(c),L=I(ue),D=h(ue,"DIV",{class:!0});var ne=m(D);H=R(ne,M),ne.forEach(c),ue.forEach(c),N.forEach(c),O.forEach(c),W=I(A),q=h(A,"DIV",{class:!0});var j=m(q);z=h(j,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Oe(z)!=="svelte-mdhrvt"&&(z.innerHTML=ee),Q=I(j),C=h(j,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Oe(C)!=="svelte-smh81r"&&(C.innerHTML=le),j.forEach(c),ie=I(A),A.forEach(c),this.h()},h(){r(t,"class","my-auto flex items-center"),r(d,"class","p-2.5 bg-red-400 text-white rounded-lg"),r(v,"class","font-bold line-clamp-1"),r(D,"class","text-xs overflow-hidden text-ellipsis line-clamp-1"),r(g,"class","self-center flex-1"),r(i,"class","flex items-center space-x-3"),r(o,"class","flex flex-1 space-x-4 cursor-pointer w-full"),r(z,"class","self-center w-fit text-sm z-20 px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),r(z,"type","button"),r(C,"class","self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),r(C,"type","button"),r(q,"class","flex flex-row space-x-1 self-center"),r(e,"class","flex space-x-4 cursor-pointer text-left w-full px-3 py-2 dark:hover:bg-white/5 hover:bg-black/5 rounded-xl")},m(w,A){re(w,e,A),s(e,t),We(l,t,null),s(e,n),s(e,o),s(o,i),s(i,d),B.m(d,null),s(i,u),s(i,g),s(g,v),s(v,p),s(v,b),s(v,k),s(v,V),s(v,E),s(g,L),s(g,D),s(D,H),s(e,W),s(e,q),s(q,z),s(q,Q),s(q,C),s(e,ie),U=!0,J||(fe=[se(z,"click",P),se(C,"click",te),se(e,"click",G)],J=!0)},p(w,A){var O;a=w;const X={};A[0]&2048&&(X.state=((O=a[37])==null?void 0:O.selected)??"unchecked"),l.$set(X),Y!==(Y=F(a))&&(B.d(1),B=Y(a),B&&(B.c(),B.m(d,null))),(!U||A[0]&2048)&&_!==(_=a[37].name+"")&&K(b,_),(!U||A[0]&2048)&&y!==(y=a[37].filename+"")&&K(V,y),(!U||A[0]&2048)&&M!==(M=a[37].title+"")&&K(H,M)},i(w){U||(Ee(l.$$.fragment,w),U=!0)},o(w){Te(l.$$.fragment,w),U=!1},d(w){w&&c(e),Qe(l),B.d(),J=!1,lt(fe)}}}function ja(a){let e,t,l,n=a[9],o,i,d,u,g,v,p,_,b,k,y,V,E,L=a[12].t("My Documents")+"",D,M,H,W,q,z,ee,Q,C=a[12].t("Document Settings")+"",le,ie,U,J,fe=a[12].t("Use '#' in the prompt input to load and select your documents.")+"",F,Y,B,P,te,G='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',T,w,A,X,O,N,ve='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',ue,$,ne,j,de,ge,xe,ke,we,De,Ie,ce,me=a[12].t("Import Documents Mapping")+"",Me,je,Ce,Ue='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg>',Pe,Se,Ze,Xe=a[12].t("Export Documents Mapping")+"",Je,it,ye,Be='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg>',Re,mt,Ye;zt.title=e=a[12].t("Documents")+" | "+a[13];let Ae=a[10]&&cl(a),ze=ul(a);function $e(S){a[19](S)}let Ne={};a[7]!==void 0&&(Ne.show=a[7]),i=new Aa({props:Ne}),gt.push(()=>It(i,"show",$e));function Ut(S){a[20](S)}let wt={};a[6]!==void 0&&(wt.show=a[6]),g=new Ta({props:wt}),gt.push(()=>It(g,"show",Ut));let _e=a[5].length>0&&dl(a),oe=Vt(a[11]),ae=[];for(let S=0;S<oe.length;S+=1)ae[S]=hl(ol(a,oe,S));const Ke=S=>Te(ae[S],1,1,()=>{ae[S]=null});return{c(){t=x(),Ae&&Ae.c(),l=x(),ze.c(),o=x(),Fe(i.$$.fragment),u=x(),Fe(g.$$.fragment),p=x(),_=f("div"),b=f("div"),k=f("div"),y=f("div"),V=f("div"),E=f("div"),D=Z(L),M=x(),H=f("div"),W=f("button"),q=He("svg"),z=He("path"),ee=x(),Q=f("div"),le=Z(C),ie=x(),U=f("div"),J=Z(" "),F=Z(fe),Y=x(),B=f("div"),P=f("div"),te=f("div"),te.innerHTML=G,T=x(),w=f("input"),X=x(),O=f("div"),N=f("button"),N.innerHTML=ve,ue=x(),$=f("hr"),ne=x(),_e&&_e.c(),j=x(),de=f("div");for(let S=0;S<ae.length;S+=1)ae[S].c();ge=x(),xe=f("div"),ke=f("div"),we=f("input"),De=x(),Ie=f("button"),ce=f("div"),Me=Z(me),je=x(),Ce=f("div"),Ce.innerHTML=Ue,Pe=x(),Se=f("button"),Ze=f("div"),Je=Z(Xe),it=x(),ye=f("div"),ye.innerHTML=Be,this.h()},l(S){Sl("svelte-1ihck1h",zt.head).forEach(c),t=I(S),Ae&&Ae.l(S),l=I(S),ze.l(S),o=I(S),Ge(i.$$.fragment,S),u=I(S),Ge(g.$$.fragment,S),p=I(S),_=h(S,"DIV",{class:!0});var qe=m(_);b=h(qe,"DIV",{class:!0});var pt=m(b);k=h(pt,"DIV",{class:!0});var pe=m(k);y=h(pe,"DIV",{class:!0});var rt=m(y);V=h(rt,"DIV",{class:!0});var ct=m(V);E=h(ct,"DIV",{class:!0});var Mt=m(E);D=R(Mt,L),Mt.forEach(c),M=I(ct),H=h(ct,"DIV",{});var St=m(H);W=h(St,"BUTTON",{class:!0,type:!0});var ut=m(W);q=Le(ut,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var Ht=m(q);z=Le(Ht,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),m(z).forEach(c),Ht.forEach(c),ee=I(ut),Q=h(ut,"DIV",{class:!0});var Lt=m(Q);le=R(Lt,C),Lt.forEach(c),ut.forEach(c),St.forEach(c),ct.forEach(c),ie=I(rt),U=h(rt,"DIV",{class:!0});var Dt=m(U);J=R(Dt," "),F=R(Dt,fe),Dt.forEach(c),rt.forEach(c),Y=I(pe),B=h(pe,"DIV",{class:!0});var dt=m(B);P=h(dt,"DIV",{class:!0});var kt=m(P);te=h(kt,"DIV",{class:!0,"data-svelte-h":!0}),Oe(te)!=="svelte-kinl2y"&&(te.innerHTML=G),T=I(kt),w=h(kt,"INPUT",{class:!0,placeholder:!0}),kt.forEach(c),X=I(dt),O=h(dt,"DIV",{});var Bt=m(O);N=h(Bt,"BUTTON",{class:!0,"data-svelte-h":!0}),Oe(N)!=="svelte-1mfes9a"&&(N.innerHTML=ve),Bt.forEach(c),dt.forEach(c),ue=I(pe),$=h(pe,"HR",{class:!0}),ne=I(pe),_e&&_e.l(pe),j=I(pe),de=h(pe,"DIV",{class:!0});var at=m(de);for(let Rt=0;Rt<ae.length;Rt+=1)ae[Rt].l(at);at.forEach(c),ge=I(pe),xe=h(pe,"DIV",{class:!0});var At=m(xe);ke=h(At,"DIV",{class:!0});var ft=m(ke);we=h(ft,"INPUT",{id:!0,type:!0,accept:!0}),De=I(ft),Ie=h(ft,"BUTTON",{class:!0});var yt=m(Ie);ce=h(yt,"DIV",{class:!0});var Ct=m(ce);Me=R(Ct,me),Ct.forEach(c),je=I(yt),Ce=h(yt,"DIV",{class:!0,"data-svelte-h":!0}),Oe(Ce)!=="svelte-1ml9hw2"&&(Ce.innerHTML=Ue),yt.forEach(c),Pe=I(ft),Se=h(ft,"BUTTON",{class:!0});var Pt=m(Se);Ze=h(Pt,"DIV",{class:!0});var Wt=m(Ze);Je=R(Wt,Xe),Wt.forEach(c),it=I(Pt),ye=h(Pt,"DIV",{class:!0,"data-svelte-h":!0}),Oe(ye)!=="svelte-12vm9hf"&&(ye.innerHTML=Be),Pt.forEach(c),ft.forEach(c),At.forEach(c),pe.forEach(c),pt.forEach(c),qe.forEach(c),this.h()},h(){r(E,"class","text-2xl font-semibold self-center"),r(z,"fill-rule","evenodd"),r(z,"d","M6.955 1.45A.5.5 0 0 1 7.452 1h1.096a.5.5 0 0 1 .497.45l.17 1.699c.484.12.94.312 1.356.562l1.321-1.081a.5.5 0 0 1 .67.033l.774.775a.5.5 0 0 1 .034.67l-1.08 1.32c.25.417.44.873.561 1.357l1.699.17a.5.5 0 0 1 .45.497v1.096a.5.5 0 0 1-.45.497l-1.699.17c-.12.484-.312.94-.562 1.356l1.082 1.322a.5.5 0 0 1-.034.67l-.774.774a.5.5 0 0 1-.67.033l-1.322-1.08c-.416.25-.872.44-1.356.561l-.17 1.699a.5.5 0 0 1-.497.45H7.452a.5.5 0 0 1-.497-.45l-.17-1.699a4.973 4.973 0 0 1-1.356-.562L4.108 13.37a.5.5 0 0 1-.67-.033l-.774-.775a.5.5 0 0 1-.034-.67l1.08-1.32a4.971 4.971 0 0 1-.561-1.357l-1.699-.17A.5.5 0 0 1 1 8.548V7.452a.5.5 0 0 1 .45-.497l1.699-.17c.12-.484.312-.94.562-1.356L2.629 4.107a.5.5 0 0 1 .034-.67l.774-.774a.5.5 0 0 1 .67-.033L5.43 3.71a4.97 4.97 0 0 1 1.356-.561l.17-1.699ZM6 8c0 .538.212 1.026.558 1.385l.057.057a2 2 0 0 0 2.828-2.828l-.058-.056A2 2 0 0 0 6 8Z"),r(z,"clip-rule","evenodd"),r(q,"xmlns","http://www.w3.org/2000/svg"),r(q,"viewBox","0 0 16 16"),r(q,"fill","currentColor"),r(q,"class","w-4 h-4"),r(Q,"class","text-xs"),r(W,"class","flex items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 transition"),r(W,"type","button"),r(V,"class","flex justify-between items-center"),r(U,"class","text-gray-500 text-xs mt-1"),r(y,"class","mb-6"),r(te,"class","self-center ml-1 mr-3"),r(w,"class","w-full text-sm pr-4 py-1 rounded-r-xl outline-none bg-transparent"),r(w,"placeholder",A=a[12].t("Search Documents")),r(P,"class","flex flex-1"),r(N,"class","px-2 py-2 rounded-xl border border-gray-200 dark:border-gray-600 dark:border-0 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 transition font-medium text-sm flex items-center space-x-1"),r(B,"class","flex w-full space-x-2"),r($,"class","dark:border-gray-700 my-2.5"),r(de,"class","my-3 mb-5"),r(we,"id","documents-import-input"),r(we,"type","file"),r(we,"accept",".json"),we.hidden=!0,r(ce,"class","self-center mr-2 font-medium"),r(Ce,"class","self-center"),r(Ie,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),r(Ze,"class","self-center mr-2 font-medium"),r(ye,"class","self-center"),r(Se,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),r(ke,"class","flex space-x-2"),r(xe,"class","flex justify-end w-full mb-2"),r(k,"class","max-w-2xl mx-auto w-full px-3 md:px-0 my-10"),r(b,"class","flex flex-col justify-between w-full overflow-y-auto"),r(_,"class","min-h-screen max-h-[100dvh] w-full flex justify-center dark:text-white")},m(S,he){re(S,t,he),Ae&&Ae.m(S,he),re(S,l,he),ze.m(S,he),re(S,o,he),We(i,S,he),re(S,u,he),We(g,S,he),re(S,p,he),re(S,_,he),s(_,b),s(b,k),s(k,y),s(y,V),s(V,E),s(E,D),s(V,M),s(V,H),s(H,W),s(W,q),s(q,z),s(W,ee),s(W,Q),s(Q,le),s(y,ie),s(y,U),s(U,J),s(U,F),s(k,Y),s(k,B),s(B,P),s(P,te),s(P,T),s(P,w),be(w,a[0]),s(B,X),s(B,O),s(O,N),s(k,ue),s(k,$),s(k,ne),_e&&_e.m(k,null),s(k,j),s(k,de);for(let qe=0;qe<ae.length;qe+=1)ae[qe]&&ae[qe].m(de,null);s(k,ge),s(k,xe),s(xe,ke),s(ke,we),a[31](we),s(ke,De),s(ke,Ie),s(Ie,ce),s(ce,Me),s(Ie,je),s(Ie,Ce),s(ke,Pe),s(ke,Se),s(Se,Ze),s(Ze,Je),s(Se,it),s(Se,ye),Re=!0,mt||(Ye=[se(W,"click",a[21]),se(w,"input",a[22]),se(N,"click",a[23]),se(we,"change",a[32]),se(we,"change",a[33]),se(Ie,"click",a[34]),se(Se,"click",a[35])],mt=!0)},p(S,he){(!Re||he[0]&12288)&&e!==(e=S[12].t("Documents")+" | "+S[13])&&(zt.title=e),S[10]?Ae?he[0]&1024&&Ee(Ae,1):(Ae=cl(S),Ae.c(),Ee(Ae,1),Ae.m(l.parentNode,l)):Ae&&(Ot(),Te(Ae,1,1,()=>{Ae=null}),Nt()),he[0]&512&&ot(n,n=S[9])?(Ot(),Te(ze,1,1,tt),Nt(),ze=ul(S),ze.c(),Ee(ze,1),ze.m(o.parentNode,o)):ze.p(S,he);const qe={};!d&&he[0]&128&&(d=!0,qe.show=S[7],xt(()=>d=!1)),i.$set(qe);const pt={};if(!v&&he[0]&64&&(v=!0,pt.show=S[6],xt(()=>v=!1)),g.$set(pt),(!Re||he[0]&4096)&&L!==(L=S[12].t("My Documents")+"")&&K(D,L),(!Re||he[0]&4096)&&C!==(C=S[12].t("Document Settings")+"")&&K(le,C),(!Re||he[0]&4096)&&fe!==(fe=S[12].t("Use '#' in the prompt input to load and select your documents.")+"")&&K(F,fe),(!Re||he[0]&4096&&A!==(A=S[12].t("Search Documents")))&&r(w,"placeholder",A),he[0]&1&&w.value!==S[0]&&be(w,S[0]),S[5].length>0?_e?(_e.p(S,he),he[0]&32&&Ee(_e,1)):(_e=dl(S),_e.c(),Ee(_e,1),_e.m(k,j)):_e&&(Ot(),Te(_e,1,1,()=>{_e=null}),Nt()),he[0]&68352){oe=Vt(S[11]);let pe;for(pe=0;pe<oe.length;pe+=1){const rt=ol(S,oe,pe);ae[pe]?(ae[pe].p(rt,he),Ee(ae[pe],1)):(ae[pe]=hl(rt),ae[pe].c(),Ee(ae[pe],1),ae[pe].m(de,null))}for(Ot(),pe=oe.length;pe<ae.length;pe+=1)Ke(pe);Nt()}(!Re||he[0]&4096)&&me!==(me=S[12].t("Import Documents Mapping")+"")&&K(Me,me),(!Re||he[0]&4096)&&Xe!==(Xe=S[12].t("Export Documents Mapping")+"")&&K(Je,Xe)},i(S){if(!Re){Ee(Ae),Ee(ze),Ee(i.$$.fragment,S),Ee(g.$$.fragment,S),Ee(_e);for(let he=0;he<oe.length;he+=1)Ee(ae[he]);Re=!0}},o(S){Te(Ae),Te(ze),Te(i.$$.fragment,S),Te(g.$$.fragment,S),Te(_e),ae=ae.filter(Boolean);for(let he=0;he<ae.length;he+=1)Te(ae[he]);Re=!1},d(S){S&&(c(t),c(l),c(o),c(u),c(p),c(_)),Ae&&Ae.d(S),ze.d(S),Qe(i,S),Qe(g,S),_e&&_e.d(),Ft(ae,S),a[31](null),mt=!1,lt(Ye)}}}const Za=a=>(a==null?void 0:a.selected)==="checked",vl=a=>(a==null?void 0:a.selected)==="checked",ml=a=>(a==null?void 0:a.selected)==="checked",pl=a=>(a==null?void 0:a.selected)==="checked",gl=a=>(a==null?void 0:a.selected)==="checked";function Ra(a,e,t){let l,n,o;st(a,et,w=>t(2,l=w)),st(a,Al,w=>t(13,o=w));const{saveAs:i}=Ll,d=bt("i18n");st(a,d,w=>t(12,n=w));let u="",g="",v,p=[],_=!1,b=!1,k=!1,y,V="",E=!1;const L=async w=>{await Kt(localStorage.token,w),await et.set(await nt(localStorage.token))},D=async w=>{await Promise.all(w.map(async A=>await Kt(localStorage.token,A.name))),await et.set(await nt(localStorage.token))},M=async w=>{const A=await xl(localStorage.token,"",w).catch(X=>(Ve.error(X),null));A&&(await qt(localStorage.token,A.collection_name,A.filename,Il(A.filename),A.filename).catch(X=>(Ve.error(X),null)),await et.set(await nt(localStorage.token)))};Et(()=>{et.subscribe(N=>{t(5,p=N.reduce((ve,ue,$,ne)=>{var j;return[...new Set([...ve,...(((j=ue==null?void 0:ue.content)==null?void 0:j.tags)??[]).map(de=>de.name)])]},[]))});const w=document.querySelector("body"),A=N=>{N.preventDefault(),t(10,E=!0)},X=()=>{t(10,E=!1)},O=async N=>{var ve,ue;if(N.preventDefault(),console.log(N),(ve=N.dataTransfer)!=null&&ve.files){let $=new FileReader;$.onload=j=>{files=[...files,{type:"image",url:`${j.target.result}`}]};const ne=(ue=N.dataTransfer)==null?void 0:ue.files;if(ne&&ne.length>0)for(const j of ne)console.log(j,j.name.split(".").at(-1)),bl.includes(j.type)||wl.includes(j.name.split(".").at(-1))||Ve.error(`Unknown File Type '${j.type}', but accepting and treating as plain text`),M(j);else Ve.error(n.t("File not found."))}t(10,E=!1)};return w==null||w.addEventListener("dragover",A),w==null||w.addEventListener("drop",O),w==null||w.addEventListener("dragleave",X),()=>{w==null||w.removeEventListener("dragover",A),w==null||w.removeEventListener("drop",O),w==null||w.removeEventListener("dragleave",X)}});let H;function W(w){k=w,t(8,k)}function q(w){b=w,t(7,b)}function z(w){_=w,t(6,_)}const ee=()=>{t(6,_=!_)};function Q(){g=this.value,t(0,g)}const C=()=>{t(7,b=!0)},le=w=>{w.detail==="checked"?t(11,H=H.map(A=>({...A,selected:"checked"}))):w.detail==="unchecked"&&t(11,H=H.map(A=>({...A,selected:"unchecked"})))},ie=async()=>{t(1,V="")},U=async w=>{t(1,V=w)},J=async()=>{D(H.filter(w=>w.selected==="checked"))},fe=async(w,A)=>{A.stopPropagation(),t(8,k=!k),t(9,y=w)},F=(w,A)=>{A.stopPropagation(),L(w.name)},Y=(w,A,X)=>{(w==null?void 0:w.selected)==="checked"?t(11,A[X].selected="unchecked",H):t(11,A[X].selected="checked",H)};function B(w){gt[w?"unshift":"push"](()=>{v=w,t(4,v)})}function P(){u=this.files,t(3,u)}const te=()=>{console.log(u);const w=new FileReader;w.onload=async A=>{const X=JSON.parse(A.target.result);console.log(X);for(const O of X)await qt(localStorage.token,O.collection_name,O.filename,O.name,O.title).catch(N=>(Ve.error(N),null));await et.set(await nt(localStorage.token))},w.readAsText(u[0])},G=()=>{v.click()},T=async()=>{let w=new Blob([JSON.stringify(l)],{type:"application/json"});i(w,`documents-mapping-export-${Date.now()}.json`)};return a.$$.update=()=>{a.$$.dirty[0]&7&&t(11,H=l.filter(w=>{var A;return(V===""||(((A=w==null?void 0:w.content)==null?void 0:A.tags)??[]).map(X=>X.name).includes(V))&&(g===""||w.name.includes(g))}))},[g,V,l,u,v,p,_,b,k,y,E,H,n,o,i,d,L,D,W,q,z,ee,Q,C,le,ie,U,J,fe,F,Y,B,P,te,G,T]}class ls extends ht{constructor(e){super(),vt(this,e,Ra,ja,ot,{},null,[-1,-1])}}export{ls as component};
