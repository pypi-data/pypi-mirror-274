import{s as ne,z as x,A as ee,h as N,d as g,j as c,i as E,r as b,C as J,p as Ne,Y as Ve,w as ce,P as Ie,X as Oe,o as Te,a as j,c as S,f as M,g as D,E as Ce,F as Pe,G as ze,H as Be,K as me,l as A,m as H,n as Z,Q as ge,u as ae,R as oe}from"./scheduler.7238b518.js";import{S as ie,i as ue,f as je,b as R,d as U,m as F,a as V,t as T,e as G,g as le,c as se}from"./index.4c8b96e2.js";import{e as re}from"./each.7b9c02b5.js";import{T as de}from"./create.92fd517e.js";import{a as Se,b as We,M as Le}from"./menu-trigger.45608dc4.js";import{f as Ae}from"./index.1df8947f.js";import{g as He,p as qe,c as Ze,d as Re}from"./index.295018b5.js";import{M as X,u as Ue,m as Fe}from"./index.bf1cda65.js";import{a as Y}from"./Toaster.svelte_svelte_type_style_lang.93775e0f.js";import{s as Ge,m as Ye}from"./index.2773335b.js";/* empty css                                               */function Je(r){let e,t;return{c(){e=x("svg"),t=x("path"),this.h()},l(s){e=ee(s,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var l=N(e);t=ee(l,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),N(t).forEach(g),l.forEach(g),this.h()},h(){c(t,"stroke-linecap","round"),c(t,"stroke-linejoin","round"),c(t,"d","m19.5 8.25-7.5 7.5-7.5-7.5"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"fill","none"),c(e,"viewBox","0 0 24 24"),c(e,"stroke-width",r[1]),c(e,"stroke","currentColor"),c(e,"class",r[0])},m(s,l){E(s,e,l),b(e,t)},p(s,[l]){l&2&&c(e,"stroke-width",s[1]),l&1&&c(e,"class",s[0])},i:J,o:J,d(s){s&&g(e)}}}function Ke(r,e,t){let{className:s="w-4 h-4"}=e,{strokeWidth:l="1.5"}=e;return r.$$set=n=>{"className"in n&&t(0,s=n.className),"strokeWidth"in n&&t(1,l=n.strokeWidth)},[s,l]}class Qe extends ie{constructor(e){super(),ue(this,e,Ke,Je,ne,{className:0,strokeWidth:1})}}function Xe(r){let e,t;return{c(){e=x("svg"),t=x("path"),this.h()},l(s){e=ee(s,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var l=N(e);t=ee(l,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),N(t).forEach(g),l.forEach(g),this.h()},h(){c(t,"stroke-linecap","round"),c(t,"stroke-linejoin","round"),c(t,"d","m4.5 12.75 6 6 9-13.5"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"fill","none"),c(e,"viewBox","0 0 24 24"),c(e,"stroke-width",r[1]),c(e,"stroke","currentColor"),c(e,"class",r[0])},m(s,l){E(s,e,l),b(e,t)},p(s,[l]){l&2&&c(e,"stroke-width",s[1]),l&1&&c(e,"class",s[0])},i:J,o:J,d(s){s&&g(e)}}}function xe(r,e,t){let{className:s="w-4 h-4"}=e,{strokeWidth:l="1.5"}=e;return r.$$set=n=>{"className"in n&&t(0,s=n.className),"strokeWidth"in n&&t(1,l=n.strokeWidth)},[s,l]}class et extends ie{constructor(e){super(),ue(this,e,xe,Xe,ne,{className:0,strokeWidth:1})}}function tt(r){let e,t;return{c(){e=x("svg"),t=x("path"),this.h()},l(s){e=ee(s,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var l=N(e);t=ee(l,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),N(t).forEach(g),l.forEach(g),this.h()},h(){c(t,"stroke-linecap","round"),c(t,"stroke-linejoin","round"),c(t,"d","m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"fill","none"),c(e,"viewBox","0 0 24 24"),c(e,"stroke-width",r[1]),c(e,"stroke","currentColor"),c(e,"class",r[0])},m(s,l){E(s,e,l),b(e,t)},p(s,[l]){l&2&&c(e,"stroke-width",s[1]),l&1&&c(e,"class",s[0])},i:J,o:J,d(s){s&&g(e)}}}function lt(r,e,t){let{className:s="w-4 h-4"}=e,{strokeWidth:l="1.5"}=e;return r.$$set=n=>{"className"in n&&t(0,s=n.className),"strokeWidth"in n&&t(1,l=n.strokeWidth)},[s,l]}class st extends ie{constructor(e){super(),ue(this,e,lt,tt,ne,{className:0,strokeWidth:1})}}function _e(r,e,t){const s=r.slice();return s[26]=e[t],s}function pe(r,e,t){const s=r.slice();return s[29]=e[t],s}function rt(r){let e;return{c(){e=A(r[1])},l(t){e=H(t,r[1])},m(t,s){E(t,e,s)},p(t,s){s[0]&2&&Z(e,t[1])},d(t){t&&g(e)}}}function nt(r){let e=r[7].label+"",t;return{c(){t=A(e)},l(s){t=H(s,e)},m(s,l){E(s,t,l)},p(s,l){l[0]&128&&e!==(e=s[7].label+"")&&Z(t,e)},d(s){s&&g(t)}}}function at(r){let e,t,s,l;function n(m,w){return m[7]?nt:rt}let o=n(r),i=o(r);return s=new Qe({props:{className:" self-center ml-2 size-3",strokeWidth:"2.5"}}),{c(){e=M("div"),i.c(),t=j(),R(s.$$.fragment),this.h()},l(m){e=D(m,"DIV",{class:!0});var w=N(e);i.l(w),t=S(w),U(s.$$.fragment,w),w.forEach(g),this.h()},h(){c(e,"class","flex w-full text-left px-0.5 outline-none bg-transparent truncate text-lg font-semibold placeholder-gray-400 focus:outline-none")},m(m,w){E(m,e,w),i.m(e,null),b(e,t),F(s,e,null),l=!0},p(m,w){o===(o=n(m))&&i?i.p(m,w):(i.d(1),i=o(m),i&&(i.c(),i.m(e,t)))},i(m){l||(V(s.$$.fragment,m),l=!0)},o(m){T(s.$$.fragment,m),l=!1},d(m){m&&g(e),i.d(),G(s)}}}function ve(r){let e,t,s,l,n,o,i,m,w;return t=new st({props:{className:"size-4",strokeWidth:"2.5"}}),{c(){e=M("div"),R(t.$$.fragment),s=j(),l=M("input"),n=j(),o=M("hr"),this.h()},l(p){e=D(p,"DIV",{class:!0});var h=N(e);U(t.$$.fragment,h),s=S(h),l=D(h,"INPUT",{id:!0,class:!0,placeholder:!0,autocomplete:!0}),h.forEach(g),n=S(p),o=D(p,"HR",{class:!0}),this.h()},h(){c(l,"id","model-search-input"),c(l,"class","w-full text-sm bg-transparent outline-none"),c(l,"placeholder",r[3]),c(l,"autocomplete","off"),c(e,"class","flex items-center gap-2.5 px-5 mt-3.5 mb-3"),c(o,"class","border-gray-100 dark:border-gray-800")},m(p,h){E(p,e,h),F(t,e,null),b(e,s),b(e,l),ge(l,r[5]),E(p,n,h),E(p,o,h),i=!0,m||(w=ae(l,"input",r[18]),m=!0)},p(p,h){(!i||h[0]&8)&&c(l,"placeholder",p[3]),h[0]&32&&l.value!==p[5]&&ge(l,p[5])},i(p){i||(V(t.$$.fragment,p),i=!0)},o(p){T(t.$$.fragment,p),i=!1},d(p){p&&(g(e),g(n),g(o)),G(t),m=!1,w()}}}function we(r){let e,t,s=r[11].t("No results found")+"",l;return{c(){e=M("div"),t=M("div"),l=A(s),this.h()},l(n){e=D(n,"DIV",{});var o=N(e);t=D(o,"DIV",{class:!0});var i=N(t);l=H(i,s),i.forEach(g),o.forEach(g),this.h()},h(){c(t,"class","block px-3 py-2 text-sm text-gray-700 dark:text-gray-100")},m(n,o){E(n,e,o),b(e,t),b(t,l)},p(n,o){o[0]&2048&&s!==(s=n[11].t("No results found")+"")&&Z(l,s)},d(n){n&&g(e)}}}function ot(r){var s,l,n,o;let e,t;return e=new de({props:{content:`${(l=(s=r[29].info)==null?void 0:s.details)!=null&&l.quantization_level?((o=(n=r[29].info)==null?void 0:n.details)==null?void 0:o.quantization_level)+" ":""}${r[29].info.size?`(${(r[29].info.size/1024**3).toFixed(1)}GB)`:""}`,$$slots:{default:[ut]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},l(i){U(e.$$.fragment,i)},m(i,m){F(e,i,m),t=!0},p(i,m){var p,h,k,v;const w={};m[0]&512&&(w.content=`${(h=(p=i[29].info)==null?void 0:p.details)!=null&&h.quantization_level?((v=(k=i[29].info)==null?void 0:k.details)==null?void 0:v.quantization_level)+" ":""}${i[29].info.size?`(${(i[29].info.size/1024**3).toFixed(1)}GB)`:""}`),m[0]&16777216&&(w.$$scope={dirty:m,ctx:i}),e.$set(w)},i(i){t||(V(e.$$.fragment,i),t=!0)},o(i){T(e.$$.fragment,i),t=!1},d(i){G(e,i)}}}function it(r){var s;let e,t;return e=new de({props:{content:((s=r[29].info)==null?void 0:s.source)??"External",$$slots:{default:[ft]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment)},l(l){U(e.$$.fragment,l)},m(l,n){F(e,l,n),t=!0},p(l,n){var i;const o={};n[0]&512&&(o.content=((i=l[29].info)==null?void 0:i.source)??"External"),n[0]&16777216&&(o.$$scope={dirty:n,ctx:l}),e.$set(o)},i(l){t||(V(e.$$.fragment,l),t=!0)},o(l){T(e.$$.fragment,l),t=!1},d(l){G(e,l)}}}function ut(r){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"></path></svg>';return{c(){e=M("div"),e.innerHTML=t,this.h()},l(s){e=D(s,"DIV",{class:!0,"data-svelte-h":!0}),oe(e)!=="svelte-1gyx42g"&&(e.innerHTML=t),this.h()},h(){c(e,"class","mr-2")},m(s,l){E(s,e,l)},p:J,d(s){s&&g(e)}}}function ft(r){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-3"><path fill-rule="evenodd" d="M8.914 6.025a.75.75 0 0 1 1.06 0 3.5 3.5 0 0 1 0 4.95l-2 2a3.5 3.5 0 0 1-5.396-4.402.75.75 0 0 1 1.251.827 2 2 0 0 0 3.085 2.514l2-2a2 2 0 0 0 0-2.828.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M7.086 9.975a.75.75 0 0 1-1.06 0 3.5 3.5 0 0 1 0-4.95l2-2a3.5 3.5 0 0 1 5.396 4.402.75.75 0 0 1-1.251-.827 2 2 0 0 0-3.085-2.514l-2 2a2 2 0 0 0 0 2.828.75.75 0 0 1 0 1.06Z" clip-rule="evenodd"></path></svg>';return{c(){e=M("div"),e.innerHTML=t,this.h()},l(s){e=D(s,"DIV",{class:!0,"data-svelte-h":!0}),oe(e)!=="svelte-1y35m72"&&(e.innerHTML=t),this.h()},h(){c(e,"class","mr-2")},m(s,l){E(s,e,l)},p:J,d(s){s&&g(e)}}}function ke(r){let e,t,s;return t=new et({}),{c(){e=M("div"),R(t.$$.fragment),this.h()},l(l){e=D(l,"DIV",{class:!0});var n=N(e);U(t.$$.fragment,n),n.forEach(g),this.h()},h(){c(e,"class","ml-auto")},m(l,n){E(l,e,n),F(t,e,null),s=!0},i(l){s||(V(t.$$.fragment,l),s=!0)},o(l){T(t.$$.fragment,l),s=!1},d(l){l&&g(e),G(t)}}}function be(r){var f,C;let e,t,s,l=r[29].label+"",n,o,i,m=(((C=(f=r[29].info)==null?void 0:f.details)==null?void 0:C.parameter_size)??"")+"",w,p,h,k,v,P,y,$;const I=[it,ot],_=[];function W(z,O){return z[29].info.external?0:1}h=W(r),k=_[h]=I[h](r);let a=r[0]===r[29].value&&ke();function u(){return r[19](r[29])}return{c(){e=M("button"),t=M("div"),s=M("div"),n=A(l),o=j(),i=M("span"),w=A(m),p=j(),k.c(),v=j(),a&&a.c(),this.h()},l(z){e=D(z,"BUTTON",{"aria-label":!0,class:!0});var O=N(e);t=D(O,"DIV",{class:!0});var L=N(t);s=D(L,"DIV",{class:!0});var q=N(s);n=H(q,l),o=S(q),i=D(q,"SPAN",{class:!0});var d=N(i);w=H(d,m),d.forEach(g),q.forEach(g),p=S(L),k.l(L),L.forEach(g),v=S(O),a&&a.l(O),O.forEach(g),this.h()},h(){c(i,"class","text-xs font-medium text-gray-600 dark:text-gray-400"),c(s,"class","line-clamp-1"),c(t,"class","flex items-center gap-2"),c(e,"aria-label","model-item"),c(e,"class","flex w-full text-left font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-none transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-850 rounded-lg cursor-pointer data-[highlighted]:bg-muted")},m(z,O){E(z,e,O),b(e,t),b(t,s),b(s,n),b(s,o),b(s,i),b(i,w),b(t,p),_[h].m(t,null),b(e,v),a&&a.m(e,null),P=!0,y||($=ae(e,"click",u),y=!0)},p(z,O){var q,d;r=z,(!P||O[0]&512)&&l!==(l=r[29].label+"")&&Z(n,l),(!P||O[0]&512)&&m!==(m=(((d=(q=r[29].info)==null?void 0:q.details)==null?void 0:d.parameter_size)??"")+"")&&Z(w,m);let L=h;h=W(r),h===L?_[h].p(r,O):(le(),T(_[L],1,1,()=>{_[L]=null}),se(),k=_[h],k?k.p(r,O):(k=_[h]=I[h](r),k.c()),V(k,1),k.m(t,null)),r[0]===r[29].value?a?O[0]&513&&V(a,1):(a=ke(),a.c(),V(a,1),a.m(e,null)):a&&(le(),T(a,1,1,()=>{a=null}),se())},i(z){P||(V(k),V(a),P=!0)},o(z){T(k),T(a),P=!1},d(z){z&&g(e),_[h].d(),a&&a.d(),y=!1,$()}}}function $e(r){let e,t=r[11].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:r[5]})+"",s,l,n;return{c(){e=M("button"),s=A(t),this.h()},l(o){e=D(o,"BUTTON",{class:!0});var i=N(e);s=H(i,t),i.forEach(g),this.h()},h(){c(e,"class","flex w-full font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-none transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-850 rounded-lg cursor-pointer data-[highlighted]:bg-muted")},m(o,i){E(o,e,i),b(e,s),l||(n=ae(e,"click",r[20]),l=!0)},p(o,i){i[0]&2080&&t!==(t=o[11].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:o[5]})+"")&&Z(s,t)},d(o){o&&g(e),l=!1,n()}}}function ye(r){let e,t=r[10][r[26]].digest+"",s;return{c(){e=M("div"),s=A(t),this.h()},l(l){e=D(l,"DIV",{class:!0});var n=N(e);s=H(n,t),n.forEach(g),this.h()},h(){c(e,"class","-mt-1 h-fit text-[0.7rem] dark:text-gray-500 line-clamp-1")},m(l,n){E(l,e,n),b(e,s)},p(l,n){n[0]&1024&&t!==(t=l[10][l[26]].digest+"")&&Z(s,t)},d(l){l&&g(e)}}}function ct(r){let e,t='<svg class="w-4 h-4 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 17.94 6M18 18 6.06 6"></path></svg>',s,l;function n(){return r[21](r[26])}return{c(){e=M("button"),e.innerHTML=t,this.h()},l(o){e=D(o,"BUTTON",{class:!0,"data-svelte-h":!0}),oe(e)!=="svelte-19bzgft"&&(e.innerHTML=t),this.h()},h(){c(e,"class","text-gray-800 dark:text-gray-100")},m(o,i){E(o,e,i),s||(l=ae(e,"click",n),s=!0)},p(o,i){r=o},d(o){o&&g(e),s=!1,l()}}}function Ee(r){let e,t,s,l=`<svg class="size-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
											transform-origin: center;
											animation: spinner_AtaB 0.75s infinite linear;
										}
										@keyframes spinner_AtaB {
											100% {
												transform: rotate(360deg);
											}
										}
									</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`,n,o,i,m,w=r[26]+"",p,h,k="pullProgress"in r[10][r[26]]?`(${r[10][r[26]].pullProgress}%)`:"",v,P,y,$,I,_,W,a="digest"in r[10][r[26]]&&r[10][r[26]].digest&&ye(r);return I=new de({props:{content:r[11].t("Cancel"),$$slots:{default:[ct]},$$scope:{ctx:r}}}),{c(){e=M("div"),t=M("div"),s=M("div"),s.innerHTML=l,n=j(),o=M("div"),i=M("div"),m=A('Downloading "'),p=A(w),h=A('" '),v=A(k),P=j(),a&&a.c(),y=j(),$=M("div"),R(I.$$.fragment),_=j(),this.h()},l(u){e=D(u,"DIV",{class:!0});var f=N(e);t=D(f,"DIV",{class:!0});var C=N(t);s=D(C,"DIV",{class:!0,"data-svelte-h":!0}),oe(s)!=="svelte-102rp4j"&&(s.innerHTML=l),n=S(C),o=D(C,"DIV",{class:!0});var z=N(o);i=D(z,"DIV",{class:!0});var O=N(i);m=H(O,'Downloading "'),p=H(O,w),h=H(O,'" '),v=H(O,k),O.forEach(g),P=S(z),a&&a.l(z),z.forEach(g),C.forEach(g),y=S(f),$=D(f,"DIV",{class:!0});var L=N($);U(I.$$.fragment,L),L.forEach(g),_=S(f),f.forEach(g),this.h()},h(){c(s,"class","-ml-2 mr-2.5 translate-y-0.5"),c(i,"class","line-clamp-1"),c(o,"class","flex flex-col self-start"),c(t,"class","flex"),c($,"class","mr-2 translate-y-0.5"),c(e,"class","flex w-full justify-between font-medium select-none rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-none transition-all duration-75 rounded-lg cursor-pointer data-[highlighted]:bg-muted")},m(u,f){E(u,e,f),b(e,t),b(t,s),b(t,n),b(t,o),b(o,i),b(i,m),b(i,p),b(i,h),b(i,v),b(o,P),a&&a.m(o,null),b(e,y),b(e,$),F(I,$,null),b(e,_),W=!0},p(u,f){(!W||f[0]&1024)&&w!==(w=u[26]+"")&&Z(p,w),(!W||f[0]&1024)&&k!==(k="pullProgress"in u[10][u[26]]?`(${u[10][u[26]].pullProgress}%)`:"")&&Z(v,k),"digest"in u[10][u[26]]&&u[10][u[26]].digest?a?a.p(u,f):(a=ye(u),a.c(),a.m(o,null)):a&&(a.d(1),a=null);const C={};f[0]&2048&&(C.content=u[11].t("Cancel")),f[0]&16778240&&(C.$$scope={dirty:f,ctx:u}),I.$set(C)},i(u){W||(V(I.$$.fragment,u),W=!0)},o(u){T(I.$$.fragment,u),W=!1},d(u){u&&g(e),a&&a.d(),G(I)}}}function dt(r){let e,t,s,l=!(r[5].trim()in r[10])&&r[5]&&r[8]&&r[12].role==="admin",n,o,i,m,w,p,h=r[2]&&ve(r),k=re(r[9]),v=[];for(let a=0;a<k.length;a+=1)v[a]=be(pe(r,k,a));const P=a=>T(v[a],1,1,()=>{v[a]=null});let y=null;k.length||(y=we(r));let $=l&&$e(r),I=re(Object.keys(r[10])),_=[];for(let a=0;a<I.length;a+=1)_[a]=Ee(_e(r,I,a));const W=a=>T(_[a],1,1,()=>{_[a]=null});return{c(){h&&h.c(),e=j(),t=M("div");for(let a=0;a<v.length;a+=1)v[a].c();y&&y.c(),s=j(),$&&$.c(),n=j();for(let a=0;a<_.length;a+=1)_[a].c();o=j(),i=M("div"),m=j(),w=M("div"),this.h()},l(a){h&&h.l(a),e=S(a),t=D(a,"DIV",{class:!0});var u=N(t);for(let f=0;f<v.length;f+=1)v[f].l(u);y&&y.l(u),s=S(u),$&&$.l(u),n=S(u);for(let f=0;f<_.length;f+=1)_[f].l(u);u.forEach(g),o=S(a),i=D(a,"DIV",{class:!0}),N(i).forEach(g),m=S(a),w=D(a,"DIV",{class:!0}),N(w).forEach(g),this.h()},h(){c(t,"class","px-3 my-2 max-h-72 overflow-y-auto scrollbar-none svelte-4kxdzh"),c(i,"class","hidden w-[42rem]"),c(w,"class","hidden w-[32rem]")},m(a,u){h&&h.m(a,u),E(a,e,u),E(a,t,u);for(let f=0;f<v.length;f+=1)v[f]&&v[f].m(t,null);y&&y.m(t,null),b(t,s),$&&$.m(t,null),b(t,n);for(let f=0;f<_.length;f+=1)_[f]&&_[f].m(t,null);E(a,o,u),E(a,i,u),E(a,m,u),E(a,w,u),p=!0},p(a,u){if(a[2]?h?(h.p(a,u),u[0]&4&&V(h,1)):(h=ve(a),h.c(),V(h,1),h.m(e.parentNode,e)):h&&(le(),T(h,1,1,()=>{h=null}),se()),u[0]&2625){k=re(a[9]);let f;for(f=0;f<k.length;f+=1){const C=pe(a,k,f);v[f]?(v[f].p(C,u),V(v[f],1)):(v[f]=be(C),v[f].c(),V(v[f],1),v[f].m(t,s))}for(le(),f=k.length;f<v.length;f+=1)P(f);se(),!k.length&&y?y.p(a,u):k.length?y&&(y.d(1),y=null):(y=we(a),y.c(),y.m(t,s))}if(u[0]&5408&&(l=!(a[5].trim()in a[10])&&a[5]&&a[8]&&a[12].role==="admin"),l?$?$.p(a,u):($=$e(a),$.c(),$.m(t,n)):$&&($.d(1),$=null),u[0]&35840){I=re(Object.keys(a[10]));let f;for(f=0;f<I.length;f+=1){const C=_e(a,I,f);_[f]?(_[f].p(C,u),V(_[f],1)):(_[f]=Ee(C),_[f].c(),V(_[f],1),_[f].m(t,null))}for(le(),f=I.length;f<_.length;f+=1)W(f);se()}},i(a){if(!p){V(h);for(let u=0;u<k.length;u+=1)V(v[u]);for(let u=0;u<I.length;u+=1)V(_[u]);p=!0}},o(a){T(h),v=v.filter(Boolean);for(let u=0;u<v.length;u+=1)T(v[u]);_=_.filter(Boolean);for(let u=0;u<_.length;u+=1)T(_[u]);p=!1},d(a){a&&(g(e),g(t),g(o),g(i),g(m),g(w)),h&&h.d(a),me(v,a),y&&y.d(),$&&$.d(),me(_,a)}}}function ht(r){let e;const t=r[17].default,s=Ce(t,r,r[24],null),l=s||dt(r);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,o){l&&l.m(n,o),e=!0},p(n,o){s?s.p&&(!e||o[0]&16777216)&&Pe(s,t,n,n[24],e?Be(t,n[24],o,null):ze(n[24]),null):l&&l.p&&(!e||o[0]&8045)&&l.p(n,e?o:[-1,-1])},i(n){e||(V(l,n),e=!0)},o(n){T(l,n),e=!1},d(n){l&&l.d(n)}}}function mt(r){let e,t,s,l;return e=new We({props:{class:"relative w-full","aria-label":r[1],$$slots:{default:[at]},$$scope:{ctx:r}}}),s=new Le({props:{class:" z-40 "+r[4]+" max-w-[calc(100vw-1rem)] justify-start rounded-lg  bg-white dark:bg-gray-900 dark:text-white shadow-lg border border-gray-300/30 dark:border-gray-700/50  outline-none ",transition:Ae,side:"bottom-start",sideOffset:4,$$slots:{default:[ht]},$$scope:{ctx:r}}}),{c(){R(e.$$.fragment),t=j(),R(s.$$.fragment)},l(n){U(e.$$.fragment,n),t=S(n),U(s.$$.fragment,n)},m(n,o){F(e,n,o),E(n,t,o),F(s,n,o),l=!0},p(n,o){const i={};o[0]&2&&(i["aria-label"]=n[1]),o[0]&16777346&&(i.$$scope={dirty:o,ctx:n}),e.$set(i);const m={};o[0]&16&&(m.class=" z-40 "+n[4]+" max-w-[calc(100vw-1rem)] justify-start rounded-lg  bg-white dark:bg-gray-900 dark:text-white shadow-lg border border-gray-300/30 dark:border-gray-700/50  outline-none "),o[0]&16785261&&(m.$$scope={dirty:o,ctx:n}),s.$set(m)},i(n){l||(V(e.$$.fragment,n),V(s.$$.fragment,n),l=!0)},o(n){T(e.$$.fragment,n),T(s.$$.fragment,n),l=!1},d(n){n&&g(t),G(e,n),G(s,n)}}}function gt(r){let e,t,s;function l(o){r[23](o)}let n={onOpenChange:r[22],$$slots:{default:[mt]},$$scope:{ctx:r}};return r[6]!==void 0&&(n.open=r[6]),e=new Se({props:n}),Ne.push(()=>je(e,"open",l)),{c(){R(e.$$.fragment)},l(o){U(e.$$.fragment,o)},m(o,i){F(e,o,i),s=!0},p(o,i){const m={};i[0]&32&&(m.onOpenChange=o[22]),i[0]&16785407&&(m.$$scope={dirty:i,ctx:o}),!t&&i[0]&64&&(t=!0,m.open=o[6],Ve(()=>t=!1)),e.$set(m)},i(o){s||(V(e.$$.fragment,o),s=!0)},o(o){T(e.$$.fragment,o),s=!1},d(o){G(e,o)}}}function _t(r,e,t){let s,l,n,o;ce(r,X,d=>t(10,l=d)),ce(r,Ue,d=>t(12,o=d));let{$$slots:i={},$$scope:m}=e;const w=Ie("i18n");ce(r,w,d=>t(11,n=d)),Oe();let{value:p=""}=e,{placeholder:h="Select a model"}=e,{searchEnabled:k=!0}=e,{searchPlaceholder:v=n.t("Search a model")}=e,{items:P=[{value:"mango",label:"Mango"}]}=e,{className:y=" w-[32rem]"}=e,$=!1,I="",_="",W=null;const a=async()=>{const d=_.trim().replace(/^ollama\s+(run|pull)\s+/,"");if(console.log(l),l[d]){Y.error(n.t("Model '{{modelTag}}' is already in queue for downloading.",{modelTag:d}));return}if(Object.keys(l).length===3){Y.error(n.t("Maximum of 3 models can be downloaded simultaneously. Please try again later."));return}const te=await qe(localStorage.token,d,"0").catch(Q=>(Y.error(Q),null));if(te){const Q=te.body.pipeThrough(new TextDecoderStream).pipeThrough(Ge(`
`)).getReader();for(;;)try{const{value:K,done:Me}=await Q.read();if(Me)break;let De=K.split(`
`);for(const he of De)if(he!==""){let B=JSON.parse(he);if(console.log(B),B.error)throw B.error;if(B.detail)throw B.detail;if(B.id&&(X.set({...l,[d]:{...l[d],requestId:B.id,reader:Q,done:!1}}),console.log(B)),B.status)if(B.digest){let fe=0;B.completed?fe=Math.round(B.completed/B.total*1e3)/10:fe=100,X.set({...l,[d]:{...l[d],pullProgress:fe,digest:B.digest}})}else Y.success(B.status),X.set({...l,[d]:{...l[d],done:B.status==="success"}})}}catch(K){console.log(K),typeof K!="string"&&(K=K.message),Y.error(K)}l[d].done?(Y.success(n.t("Model '{{modelName}}' has been successfully downloaded.",{modelName:d})),Fe.set(await Ye(localStorage.token))):Y.error(n.t("Download canceled")),delete l[d],X.set({...l})}};Te(async()=>{t(8,W=await He(localStorage.token).catch(d=>!1))});const u=async d=>{const{reader:te,requestId:Q}=l[d];te&&(await te.cancel(),await Ze(localStorage.token,Q),delete l[d],X.set({...l}),await Re(localStorage.token,d),Y.success(`${d} download has been canceled`))};function f(){_=this.value,t(5,_)}const C=d=>{t(0,p=d.value),t(6,$=!1)},z=()=>{a()},O=d=>{u(d)},L=async()=>{t(5,_=""),window.setTimeout(()=>{var d;return(d=document.getElementById("model-search-input"))==null?void 0:d.focus()},0)};function q(d){$=d,t(6,$)}return r.$$set=d=>{"value"in d&&t(0,p=d.value),"placeholder"in d&&t(1,h=d.placeholder),"searchEnabled"in d&&t(2,k=d.searchEnabled),"searchPlaceholder"in d&&t(3,v=d.searchPlaceholder),"items"in d&&t(16,P=d.items),"className"in d&&t(4,y=d.className),"$$scope"in d&&t(24,m=d.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&65537&&t(7,I=P.find(d=>d.value===p)??""),r.$$.dirty[0]&65568&&t(9,s=_?P.filter(d=>d.value.includes(_.toLowerCase())):P)},[p,h,k,v,y,_,$,I,W,s,l,n,o,w,a,u,P,i,f,C,z,O,L,q,m]}class Vt extends ie{constructor(e){super(),ue(this,e,_t,gt,ne,{value:0,placeholder:1,searchEnabled:2,searchPlaceholder:3,items:16,className:4},null,[-1,-1])}}export{Vt as S};
