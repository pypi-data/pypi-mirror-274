import{s as nl,f as n,a as y,l as U,g as i,h as c,c as k,R as dt,m as A,d as u,j as a,i as we,r as e,Q as de,u as X,O as il,n as Z,C as Pt,K as Xt,v as ol,w as Vt,P as dl,o as ul,k as Tt,p as cl,z as Gt,A as Jt,S as Kt}from"../chunks/scheduler.bcadb9af.js";import{e as it}from"../chunks/each.f3e982ad.js";import{S as fl,i as hl}from"../chunks/index.bbb895f1.js";import{a as Mt}from"../chunks/Toaster.svelte_svelte_type_style_lang.a4036649.js";import{g as Qt}from"../chunks/navigation.c17c440e.js";import{p as vl}from"../chunks/stores.9641f28f.js";import{l as $t}from"../chunks/index.9487f70b.js";import{s as pl}from"../chunks/index.146e7b79.js";import{e as gl}from"../chunks/index.8cda1db3.js";import{u as ml,g as _l}from"../chunks/index.ad993ff1.js";function el(s,l,t){const d=s.slice();return d[33]=l[t],d[34]=l,d[35]=t,d}function tl(s,l,t){const d=s.slice();return d[36]=l[t],d[37]=l,d[38]=t,d}function bl(s){let l,t;return{c(){l=Gt("svg"),t=Gt("path"),this.h()},l(d){l=Jt(d,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var v=c(l);t=Jt(v,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),c(t).forEach(u),v.forEach(u),this.h()},h(){a(t,"fill-rule","evenodd"),a(t,"d","M12 3.75a.75.75 0 01.75.75v6.75h6.75a.75.75 0 010 1.5h-6.75v6.75a.75.75 0 01-1.5 0v-6.75H4.5a.75.75 0 010-1.5h6.75V4.5a.75.75 0 01.75-.75z"),a(t,"clip-rule","evenodd"),a(l,"xmlns","http://www.w3.org/2000/svg"),a(l,"viewBox","0 0 24 24"),a(l,"fill","currentColor"),a(l,"class","w-8")},m(d,v){we(d,l,v),e(l,t)},p:Pt,d(d){d&&u(l)}}}function wl(s){let l,t;return{c(){l=n("img"),this.h()},l(d){l=i(d,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Kt(l.src,t=s[3])||a(l,"src",t),a(l,"alt","modelfile profile"),a(l,"class","rounded-full w-20 h-20 object-cover")},m(d,v){we(d,l,v)},p(d,v){v[0]&8&&!Kt(l.src,t=d[3])&&a(l,"src",t)},d(d){d&&u(l)}}}function ll(s){let l,t,d,v,m,T='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',E,I,b;function C(){s[24].call(t,s[37],s[38])}function M(){return s[25](s[38])}return{c(){l=n("div"),t=n("input"),v=y(),m=n("button"),m.innerHTML=T,E=y(),this.h()},l(o){l=i(o,"DIV",{class:!0});var _=c(l);t=i(_,"INPUT",{class:!0,placeholder:!0}),v=k(_),m=i(_,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),dt(m)!=="svelte-2tlgcm"&&(m.innerHTML=T),E=k(_),_.forEach(u),this.h()},h(){a(t,"class","px-3 py-1.5 text-sm w-full bg-transparent outline-none border-r dark:border-gray-600"),a(t,"placeholder",d=s[12].t("Write a prompt suggestion (e.g. Who are you?)")),a(m,"class","px-2"),a(m,"type","button"),a(l,"class","flex border dark:border-gray-600 rounded-lg")},m(o,_){we(o,l,_),e(l,t),de(t,s[36].content),e(l,v),e(l,m),e(l,E),I||(b=[X(t,"input",C),X(m,"click",M)],I=!0)},p(o,_){s=o,_[0]&4096&&d!==(d=s[12].t("Write a prompt suggestion (e.g. Who are you?)"))&&a(t,"placeholder",d),_[0]&1024&&t.value!==s[36].content&&de(t,s[36].content)},d(o){o&&u(l),I=!1,ol(b)}}}function sl(s){let l,t,d,v,m=s[33]+"",T,E,I,b;function C(){s[26].call(t,s[33])}return{c(){l=n("div"),t=n("input"),d=y(),v=n("div"),T=U(m),E=y(),this.h()},l(M){l=i(M,"DIV",{class:!0});var o=c(l);t=i(o,"INPUT",{type:!0}),d=k(o),v=i(o,"DIV",{class:!0});var _=c(v);T=A(_,m),_.forEach(u),E=k(o),o.forEach(u),this.h()},h(){a(t,"type","checkbox"),a(v,"class","capitalize"),a(l,"class","flex space-x-2 text-sm")},m(M,o){we(M,l,o),e(l,t),t.checked=s[11][s[33]],e(l,d),e(l,v),e(v,T),e(l,E),I||(b=X(t,"change",C),I=!0)},p(M,o){s=M,o[0]&2048&&(t.checked=s[11][s[33]]),o[0]&2048&&m!==(m=s[33]+"")&&Z(T,m)},d(M){M&&u(l),I=!1,b()}}}function al(s){let l,t,d=s[12].t("Pull Progress")+"",v,m,T,E,I=(s[5]??0)+"",b,C,M,o,_;return{c(){l=n("div"),t=n("div"),v=U(d),m=y(),T=n("div"),E=n("div"),b=U(I),C=U("%"),M=y(),o=n("div"),_=U(s[4]),this.h()},l(w){l=i(w,"DIV",{class:!0});var g=c(l);t=i(g,"DIV",{class:!0});var q=c(t);v=A(q,d),q.forEach(u),m=k(g),T=i(g,"DIV",{class:!0});var x=c(T);E=i(x,"DIV",{class:!0,style:!0});var P=c(E);b=A(P,I),C=A(P,"%"),P.forEach(u),x.forEach(u),M=k(g),o=i(g,"DIV",{class:!0,style:!0});var V=c(o);_=A(V,s[4]),V.forEach(u),g.forEach(u),this.h()},h(){a(t,"class","text-sm font-semibold mb-2"),a(E,"class","dark:bg-gray-600 text-xs font-medium text-blue-100 text-center p-0.5 leading-none rounded-full"),Tt(E,"width",Math.max(15,s[5]??0)+"%"),a(T,"class","w-full rounded-full dark:bg-gray-800"),a(o,"class","mt-1 text-xs dark:text-gray-500"),Tt(o,"font-size","0.5rem"),a(l,"class","my-2")},m(w,g){we(w,l,g),e(l,t),e(t,v),e(l,m),e(l,T),e(T,E),e(E,b),e(E,C),e(l,M),e(l,o),e(o,_)},p(w,g){g[0]&4096&&d!==(d=w[12].t("Pull Progress")+"")&&Z(v,d),g[0]&32&&I!==(I=(w[5]??0)+"")&&Z(b,I),g[0]&32&&Tt(E,"width",Math.max(15,w[5]??0)+"%"),g[0]&16&&Z(_,w[4])},d(w){w&&u(l)}}}function rl(s){let l,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
									transform-origin: center;
									animation: spinner_AtaB 0.75s infinite linear;
								}
								@keyframes spinner_AtaB {
									100% {
										transform: rotate(360deg);
									}
								}
							</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){l=n("div"),l.innerHTML=t,this.h()},l(d){l=i(d,"DIV",{class:!0,"data-svelte-h":!0}),dt(l)!=="svelte-qf5fty"&&(l.innerHTML=t),this.h()},h(){a(l,"class","ml-1.5 self-center")},m(d,v){we(d,l,v)},d(d){d&&u(l)}}}function yl(s){let l,t,d,v,m,T='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M17 10a.75.75 0 01-.75.75H5.612l4.158 3.96a.75.75 0 11-1.04 1.08l-5.5-5.25a.75.75 0 010-1.08l5.5-5.25a.75.75 0 111.04 1.08L5.612 9.25H16.25A.75.75 0 0117 10z" clip-rule="evenodd"></path></svg>',E,I,b=s[12].t("Back")+"",C,M,o,_,w,g,q,x,P,V,N,ue=s[12].t("Name")+"",ce,Ce,Be,fe,F,ye,Le,Q,$,he=s[12].t("Model Tag Name")+"",ke,je,Se,Ee,f,z,ve,S,B,G=s[12].t("Description")+"",D,te,le,pe,W,Ie,ut,se,De,Ve,Oe=s[12].t("Modelfile")+"",Fe,ct,ae,ge,He=s[12].t("Content")+"",We,ft,ht,Re,J,vt,re,oe,Te,qe=s[12].t("Prompt suggestions")+"",Ye,pt,ee,Nt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',gt,me,mt,ne,Me,ze=s[12].t("Categories")+"",Ze,_t,_e,bt,Xe,Pe,Y,Ne,xe=s[12].t("Save & Update")+"",Ge,wt,Je,yt,Ut;function At(r,p){return r[3]?wl:bl}let Ke=At(s),K=Ke(s),Ue=it(s[10]),L=[];for(let r=0;r<Ue.length;r+=1)L[r]=ll(tl(s,Ue,r));let Ae=it(Object.keys(s[11])),j=[];for(let r=0;r<Ae.length;r+=1)j[r]=sl(el(s,Ae,r));let O=s[5]!==null&&al(s),R=s[0]&&rl();return{c(){l=n("div"),t=n("input"),d=y(),v=n("button"),m=n("div"),m.innerHTML=T,E=y(),I=n("div"),C=U(b),M=y(),o=n("form"),_=n("div"),w=n("div"),g=n("button"),K.c(),x=y(),P=n("div"),V=n("div"),N=n("div"),ce=U(ue),Ce=U("*"),Be=y(),fe=n("div"),F=n("input"),Le=y(),Q=n("div"),$=n("div"),ke=U(he),je=U("*"),Se=y(),Ee=n("div"),f=n("input"),ve=y(),S=n("div"),B=n("div"),D=U(G),te=U("*"),le=y(),pe=n("div"),W=n("input"),ut=y(),se=n("div"),De=n("div"),Ve=n("div"),Fe=U(Oe),ct=y(),ae=n("div"),ge=n("div"),We=U(He),ft=U("*"),ht=y(),Re=n("div"),J=n("textarea"),vt=y(),re=n("div"),oe=n("div"),Te=n("div"),Ye=U(qe),pt=y(),ee=n("button"),ee.innerHTML=Nt,gt=y(),me=n("div");for(let r=0;r<L.length;r+=1)L[r].c();mt=y(),ne=n("div"),Me=n("div"),Ze=U(ze),_t=y(),_e=n("div");for(let r=0;r<j.length;r+=1)j[r].c();bt=y(),O&&O.c(),Xe=y(),Pe=n("div"),Y=n("button"),Ne=n("div"),Ge=U(xe),wt=y(),R&&R.c(),this.h()},l(r){l=i(r,"DIV",{class:!0});var p=c(l);t=i(p,"INPUT",{type:!0,accept:!0}),d=k(p),v=i(p,"BUTTON",{class:!0});var h=c(v);m=i(h,"DIV",{class:!0,"data-svelte-h":!0}),dt(m)!=="svelte-1klo87r"&&(m.innerHTML=T),E=k(h),I=i(h,"DIV",{class:!0});var ie=c(I);C=A(ie,b),ie.forEach(u),h.forEach(u),M=k(p),o=i(p,"FORM",{class:!0});var H=c(o);_=i(H,"DIV",{class:!0});var Ct=c(_);w=i(Ct,"DIV",{class:!0});var Bt=c(w);g=i(Bt,"BUTTON",{class:!0,type:!0});var Lt=c(g);K.l(Lt),Lt.forEach(u),Bt.forEach(u),Ct.forEach(u),x=k(H),P=i(H,"DIV",{class:!0});var Qe=c(P);V=i(Qe,"DIV",{class:!0});var $e=c(V);N=i($e,"DIV",{class:!0});var kt=c(N);ce=A(kt,ue),Ce=A(kt,"*"),kt.forEach(u),Be=k($e),fe=i($e,"DIV",{});var jt=c(fe);F=i(jt,"INPUT",{class:!0,placeholder:!0}),jt.forEach(u),$e.forEach(u),Le=k(Qe),Q=i(Qe,"DIV",{class:!0});var et=c(Q);$=i(et,"DIV",{class:!0});var Et=c($);ke=A(Et,he),je=A(Et,"*"),Et.forEach(u),Se=k(et),Ee=i(et,"DIV",{});var St=c(Ee);f=i(St,"INPUT",{class:!0,placeholder:!0}),St.forEach(u),et.forEach(u),Qe.forEach(u),ve=k(H),S=i(H,"DIV",{class:!0});var tt=c(S);B=i(tt,"DIV",{class:!0});var It=c(B);D=A(It,G),te=A(It,"*"),It.forEach(u),le=k(tt),pe=i(tt,"DIV",{});var Ot=c(pe);W=i(Ot,"INPUT",{class:!0,placeholder:!0}),Ot.forEach(u),tt.forEach(u),ut=k(H),se=i(H,"DIV",{class:!0});var lt=c(se);De=i(lt,"DIV",{class:!0});var Ht=c(De);Ve=i(Ht,"DIV",{class:!0});var Rt=c(Ve);Fe=A(Rt,Oe),Rt.forEach(u),Ht.forEach(u),ct=k(lt),ae=i(lt,"DIV",{class:!0});var st=c(ae);ge=i(st,"DIV",{class:!0});var Dt=c(ge);We=A(Dt,He),ft=A(Dt,"*"),Dt.forEach(u),ht=k(st),Re=i(st,"DIV",{});var qt=c(Re);J=i(qt,"TEXTAREA",{class:!0,placeholder:!0,rows:!0}),c(J).forEach(u),qt.forEach(u),st.forEach(u),lt.forEach(u),vt=k(H),re=i(H,"DIV",{class:!0});var at=c(re);oe=i(at,"DIV",{class:!0});var rt=c(oe);Te=i(rt,"DIV",{class:!0});var zt=c(Te);Ye=A(zt,qe),zt.forEach(u),pt=k(rt),ee=i(rt,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),dt(ee)!=="svelte-1vn58fe"&&(ee.innerHTML=Nt),rt.forEach(u),gt=k(at),me=i(at,"DIV",{class:!0});var xt=c(me);for(let be=0;be<L.length;be+=1)L[be].l(xt);xt.forEach(u),at.forEach(u),mt=k(H),ne=i(H,"DIV",{class:!0});var ot=c(ne);Me=i(ot,"DIV",{class:!0});var Ft=c(Me);Ze=A(Ft,ze),Ft.forEach(u),_t=k(ot),_e=i(ot,"DIV",{class:!0});var Wt=c(_e);for(let be=0;be<j.length;be+=1)j[be].l(Wt);Wt.forEach(u),ot.forEach(u),bt=k(H),O&&O.l(H),Xe=k(H),Pe=i(H,"DIV",{class:!0});var Yt=c(Pe);Y=i(Yt,"BUTTON",{class:!0,type:!0});var nt=c(Y);Ne=i(nt,"DIV",{class:!0});var Zt=c(Ne);Ge=A(Zt,xe),Zt.forEach(u),wt=k(nt),R&&R.l(nt),nt.forEach(u),Yt.forEach(u),H.forEach(u),p.forEach(u),this.h()},h(){a(t,"type","file"),t.hidden=!0,a(t,"accept","image/*"),a(m,"class","self-center"),a(I,"class","self-center font-medium text-sm"),a(v,"class","flex space-x-1"),a(g,"class",q=(s[3]?"":"p-6")+" rounded-full dark:bg-gray-700 border border-dashed border-gray-200"),a(g,"type","button"),a(w,"class","self-center"),a(_,"class","flex justify-center my-4"),a(N,"class","text-sm font-semibold mb-2"),a(F,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),a(F,"placeholder",ye=s[12].t("Name your modelfile")),F.required=!0,a(V,"class","flex-1"),a($,"class","text-sm font-semibold mb-2"),a(f,"class","px-3 py-1.5 text-sm w-full bg-transparent disabled:text-gray-500 border dark:border-gray-600 outline-none rounded-lg"),a(f,"placeholder",z=s[12].t("Add a model tag name")),f.value=s[7],f.disabled=!0,f.required=!0,a(Q,"class","flex-1"),a(P,"class","my-2 flex space-x-2"),a(B,"class","text-sm font-semibold mb-2"),a(W,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),a(W,"placeholder",Ie=s[12].t("Add a short description about what this modelfile does")),W.required=!0,a(S,"class","my-2"),a(Ve,"class","self-center text-sm font-semibold"),a(De,"class","flex w-full justify-between"),a(ge,"class","text-xs font-semibold mb-2"),a(J,"class","px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg"),a(J,"placeholder",`FROM llama2
PARAMETER temperature 1
SYSTEM """
You are Mario from Super Mario Bros, acting as an assistant.
"""`),a(J,"rows","6"),J.required=!0,a(ae,"class","mt-2"),a(se,"class","my-2"),a(Te,"class","self-center text-sm font-semibold"),a(ee,"class","p-1 px-3 text-xs flex rounded transition"),a(ee,"type","button"),a(oe,"class","flex w-full justify-between mb-2"),a(me,"class","flex flex-col space-y-1"),a(re,"class","my-2"),a(Me,"class","text-sm font-semibold mb-2"),a(_e,"class","grid grid-cols-4"),a(ne,"class","my-2"),a(Ne,"class","self-center font-medium"),a(Y,"class",Je="text-sm px-3 py-2 transition rounded-xl "+(s[0]?" cursor-not-allowed bg-gray-100 dark:bg-gray-800":" bg-gray-50 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-800")+" flex"),a(Y,"type","submit"),Y.disabled=s[0],a(Pe,"class","my-2 flex justify-end"),a(o,"class","flex flex-col max-w-2xl mx-auto mt-4 mb-10"),a(l,"class","w-full max-h-full")},m(r,p){we(r,l,p),e(l,t),s[15](t),e(l,d),e(l,v),e(v,m),e(v,E),e(v,I),e(I,C),e(l,M),e(l,o),e(o,_),e(_,w),e(w,g),K.m(g,null),e(o,x),e(o,P),e(P,V),e(V,N),e(N,ce),e(N,Ce),e(V,Be),e(V,fe),e(fe,F),de(F,s[6]),e(P,Le),e(P,Q),e(Q,$),e($,ke),e($,je),e(Q,Se),e(Q,Ee),e(Ee,f),e(o,ve),e(o,S),e(S,B),e(B,D),e(B,te),e(S,le),e(S,pe),e(pe,W),de(W,s[8]),e(o,ut),e(o,se),e(se,De),e(De,Ve),e(Ve,Fe),e(se,ct),e(se,ae),e(ae,ge),e(ge,We),e(ge,ft),e(ae,ht),e(ae,Re),e(Re,J),de(J,s[9]),e(o,vt),e(o,re),e(re,oe),e(oe,Te),e(Te,Ye),e(oe,pt),e(oe,ee),e(re,gt),e(re,me);for(let h=0;h<L.length;h+=1)L[h]&&L[h].m(me,null);e(o,mt),e(o,ne),e(ne,Me),e(Me,Ze),e(ne,_t),e(ne,_e);for(let h=0;h<j.length;h+=1)j[h]&&j[h].m(_e,null);e(o,bt),O&&O.m(o,null),e(o,Xe),e(o,Pe),e(Pe,Y),e(Y,Ne),e(Ne,Ge),e(Y,wt),R&&R.m(Y,null),yt||(Ut=[X(t,"change",s[16]),X(t,"change",s[17]),X(v,"click",s[18]),X(g,"click",s[19]),X(F,"input",s[20]),X(W,"input",s[21]),X(J,"input",s[22]),X(ee,"click",s[23]),X(o,"submit",il(s[27]))],yt=!0)},p(r,p){if(p[0]&4096&&b!==(b=r[12].t("Back")+"")&&Z(C,b),Ke===(Ke=At(r))&&K?K.p(r,p):(K.d(1),K=Ke(r),K&&(K.c(),K.m(g,null))),p[0]&8&&q!==(q=(r[3]?"":"p-6")+" rounded-full dark:bg-gray-700 border border-dashed border-gray-200")&&a(g,"class",q),p[0]&4096&&ue!==(ue=r[12].t("Name")+"")&&Z(ce,ue),p[0]&4096&&ye!==(ye=r[12].t("Name your modelfile"))&&a(F,"placeholder",ye),p[0]&64&&F.value!==r[6]&&de(F,r[6]),p[0]&4096&&he!==(he=r[12].t("Model Tag Name")+"")&&Z(ke,he),p[0]&4096&&z!==(z=r[12].t("Add a model tag name"))&&a(f,"placeholder",z),p[0]&128&&f.value!==r[7]&&(f.value=r[7]),p[0]&4096&&G!==(G=r[12].t("Description")+"")&&Z(D,G),p[0]&4096&&Ie!==(Ie=r[12].t("Add a short description about what this modelfile does"))&&a(W,"placeholder",Ie),p[0]&256&&W.value!==r[8]&&de(W,r[8]),p[0]&4096&&Oe!==(Oe=r[12].t("Modelfile")+"")&&Z(Fe,Oe),p[0]&4096&&He!==(He=r[12].t("Content")+"")&&Z(We,He),p[0]&512&&de(J,r[9]),p[0]&4096&&qe!==(qe=r[12].t("Prompt suggestions")+"")&&Z(Ye,qe),p[0]&5120){Ue=it(r[10]);let h;for(h=0;h<Ue.length;h+=1){const ie=tl(r,Ue,h);L[h]?L[h].p(ie,p):(L[h]=ll(ie),L[h].c(),L[h].m(me,null))}for(;h<L.length;h+=1)L[h].d(1);L.length=Ue.length}if(p[0]&4096&&ze!==(ze=r[12].t("Categories")+"")&&Z(Ze,ze),p[0]&2048){Ae=it(Object.keys(r[11]));let h;for(h=0;h<Ae.length;h+=1){const ie=el(r,Ae,h);j[h]?j[h].p(ie,p):(j[h]=sl(ie),j[h].c(),j[h].m(_e,null))}for(;h<j.length;h+=1)j[h].d(1);j.length=Ae.length}r[5]!==null?O?O.p(r,p):(O=al(r),O.c(),O.m(o,Xe)):O&&(O.d(1),O=null),p[0]&4096&&xe!==(xe=r[12].t("Save & Update")+"")&&Z(Ge,xe),r[0]?R||(R=rl(),R.c(),R.m(Y,null)):R&&(R.d(1),R=null),p[0]&1&&Je!==(Je="text-sm px-3 py-2 transition rounded-xl "+(r[0]?" cursor-not-allowed bg-gray-100 dark:bg-gray-800":" bg-gray-50 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-800")+" flex")&&a(Y,"class",Je),p[0]&1&&(Y.disabled=r[0])},i:Pt,o:Pt,d(r){r&&u(l),s[15](null),K.d(),Xt(L,r),Xt(j,r),O&&O.d(),R&&R.d(),yt=!1,ol(Ut)}}}function kl(s,l,t){let d,v,m;Vt(s,$t,f=>t(30,d=f)),Vt(s,vl,f=>t(31,v=f));const T=dl("i18n");Vt(s,T,f=>t(12,m=f));let E=!1,I,b,C=null,M="",o=null,_=!1,w=null,g="",q="",x="",P="",V=[{content:""}],N={character:!1,assistant:!1,writing:!1,productivity:!1,programming:!1,"data analysis":!1,lifestyle:!1,education:!1,business:!1};ul(()=>{if(t(7,q=v.url.searchParams.get("tag")),q){w=d.filter(f=>f.tagName===q)[0],console.log(w),t(3,C=w.imageUrl),t(6,g=w.title),t(8,x=w.desc),t(9,P=w.content),t(10,V=w.suggestionPrompts.length!=0?w.suggestionPrompts:[{content:""}]);for(const f of w.categories)t(11,N[f.toLowerCase()]=!0,N)}else Qt("/workspace/modelfiles")});const ue=async f=>{await ml(localStorage.token,f.tagName,f),await $t.set(await _l(localStorage.token))},ce=async()=>{if(t(0,E=!0),Object.keys(N).filter(f=>N[f]).length==0&&Mt.error("Uh-oh! It looks like you missed selecting a category. Please choose one to complete your modelfile."),g!==""&&x!==""&&P!==""&&Object.keys(N).filter(f=>N[f]).length>0){const f=await gl(localStorage.token,q,P);if(f){const z=f.body.pipeThrough(new TextDecoderStream).pipeThrough(pl(`
`)).getReader();for(;;){const{value:ve,done:S}=await z.read();if(S)break;try{let B=ve.split(`
`);for(const G of B)if(G!==""){console.log(G);let D=JSON.parse(G);if(console.log(D),D.error)throw D.error;if(D.detail)throw D.detail;D.status&&(!D.digest&&!D.status.includes("writing")&&!D.status.includes("sha256")?(Mt.success(D.status),D.status==="success"&&(_=!0)):D.digest&&(t(4,M=D.digest),D.completed?t(5,o=Math.round(D.completed/D.total*1e3)/10):t(5,o=100)))}}catch(B){console.log(B),Mt.error(B)}}}_&&(await ue({tagName:q,imageUrl:C,title:g,desc:x,content:P,suggestionPrompts:V.filter(z=>z.content!==""),categories:Object.keys(N).filter(z=>N[z])}),await Qt("/workspace/modelfiles"))}t(0,E=!1),_=!1};function Ce(f){cl[f?"unshift":"push"](()=>{I=f,t(1,I)})}function Be(){b=this.files,t(2,b)}const fe=()=>{let f=new FileReader;f.onload=z=>{let ve=`${z.target.result}`;const S=new Image;S.src=ve,S.onload=function(){const B=document.createElement("canvas"),G=B.getContext("2d"),D=S.width/S.height;let te,le;D>1?(te=100*D,le=100):(te=100,le=100/D),B.width=100,B.height=100;const pe=(100-te)/2,W=(100-le)/2;G.drawImage(S,pe,W,te,le);const Ie=B.toDataURL("image/jpeg");t(3,C=Ie),t(2,b=null)}},b&&b.length>0&&["image/gif","image/webp","image/jpeg","image/png"].includes(b[0].type)?f.readAsDataURL(b[0]):(console.log(`Unsupported File Type '${b[0].type}'.`),t(2,b=null))},F=()=>{history.back()},ye=()=>{I.click()};function Le(){g=this.value,t(6,g)}function Q(){x=this.value,t(8,x)}function $(){P=this.value,t(9,P)}const he=()=>{(V.length===0||V.at(-1).content!=="")&&t(10,V=[...V,{content:""}])};function ke(f,z){f[z].content=this.value,t(10,V)}const je=f=>{V.splice(f,1),t(10,V)};function Se(f){N[f]=this.checked,t(11,N)}return[E,I,b,C,M,o,g,q,x,P,V,N,m,T,ce,Ce,Be,fe,F,ye,Le,Q,$,he,ke,je,Se,()=>{ce()}]}class Cl extends fl{constructor(l){super(),hl(this,l,kl,yl,nl,{},null,[-1,-1])}}export{Cl as component};
