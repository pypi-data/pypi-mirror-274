import{s as at,f,g as h,h as m,d as c,j as r,i as J,r as a,u as re,C as Je,X as Il,z as Me,A as Se,p as ht,Y as xt,P as mt,w as st,o as yt,l as P,a as x,m as j,c as I,R as Oe,Q as pe,O as Tt,n as Y,v as et,T as ml,U as Ot,W as Ft,e as Nt,K as jt,V as vt,M as Vl}from"../chunks/scheduler.bcadb9af.js";import{S as it,i as ct,f as It,b as ze,d as qe,m as Fe,a as be,t as Ee,e as Ge,g as Ct,c as At}from"../chunks/index.bbb895f1.js";import{g as Tl}from"../chunks/globals.7f7f1b26.js";import{e as Vt}from"../chunks/each.f3e982ad.js";import{a as ye}from"../chunks/Toaster.svelte_svelte_type_style_lang.a4036649.js";import{f as Ml}from"../chunks/FileSaver.min.898eb36f.js";import{n as $e,d as Sl,S as pl,o as gl,W as Hl}from"../chunks/index.4db2cdd2.js";import{u as Ll,g as ot,t as Gt,c as Pt,d as Wt}from"../chunks/index.85f1d29a.js";import{g as _l,s as Bl,c as Cl,d as Al,e as Ol,f as bl,r as Nl,h as Ul,i as wl,j as kl,u as yl,A as Pl}from"../chunks/AddFilesPlaceholder.69037e9a.js";import{z as El}from"../chunks/index.af7f8f90.js";import{M as Zt}from"../chunks/dayjs.min.e4172223.js";import{T as Dl}from"../chunks/Tags.d315b058.js";import"../chunks/index.b093923e.js";function jl(s){let e,t;return{c(){e=Me("svg"),t=Me("path"),this.h()},l(l){e=Se(l,"svg",{class:!0,"aria-hidden":!0,xmlns:!0,fill:!0,viewBox:!0});var n=m(e);t=Se(n,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),m(t).forEach(c),n.forEach(c),this.h()},h(){r(t,"stroke","currentColor"),r(t,"stroke-linecap","round"),r(t,"stroke-linejoin","round"),r(t,"stroke-width","3"),r(t,"d","M5 12h14"),r(e,"class","w-3 h-3.5 text-gray-800 dark:text-white"),r(e,"aria-hidden","true"),r(e,"xmlns","http://www.w3.org/2000/svg"),r(e,"fill","none"),r(e,"viewBox","0 0 24 24")},m(l,n){J(l,e,n),a(e,t)},d(l){l&&c(e)}}}function Zl(s){let e,t;return{c(){e=Me("svg"),t=Me("path"),this.h()},l(l){e=Se(l,"svg",{class:!0,"aria-hidden":!0,xmlns:!0,fill:!0,viewBox:!0});var n=m(e);t=Se(n,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),m(t).forEach(c),n.forEach(c),this.h()},h(){r(t,"stroke","currentColor"),r(t,"stroke-linecap","round"),r(t,"stroke-linejoin","round"),r(t,"stroke-width","3"),r(t,"d","m5 12 4.7 4.5 9.3-9"),r(e,"class","w-3.5 h-3.5"),r(e,"aria-hidden","true"),r(e,"xmlns","http://www.w3.org/2000/svg"),r(e,"fill","none"),r(e,"viewBox","0 0 24 24")},m(l,n){J(l,e,n),a(e,t)},d(l){l&&c(e)}}}function Rl(s){let e,t,l,n,o;function i(g,v){if(g[2]==="checked")return Zl;if(g[1])return jl}let d=i(s),u=d&&d(s);return{c(){e=f("button"),t=f("div"),u&&u.c(),this.h()},l(g){e=h(g,"BUTTON",{class:!0});var v=m(e);t=h(v,"DIV",{class:!0});var p=m(t);u&&u.l(p),p.forEach(c),v.forEach(c),this.h()},h(){r(t,"class","top-0 left-0 absolute w-full flex justify-center"),r(e,"class",l="outline -outline-offset-1 outline-[1.5px] outline-gray-200 dark:outline-gray-600 "+(s[0]!=="unchecked"?"bg-black outline-black ":"hover:outline-gray-500 hover:bg-gray-50 dark:hover:bg-gray-800")+" text-white transition-all rounded inline-block w-3.5 h-3.5 relative")},m(g,v){J(g,e,v),a(e,t),u&&u.m(t,null),n||(o=re(e,"click",s[4]),n=!0)},p(g,[v]){d!==(d=i(g))&&(u&&u.d(1),u=d&&d(g),u&&(u.c(),u.m(t,null))),v&1&&l!==(l="outline -outline-offset-1 outline-[1.5px] outline-gray-200 dark:outline-gray-600 "+(g[0]!=="unchecked"?"bg-black outline-black ":"hover:outline-gray-500 hover:bg-gray-50 dark:hover:bg-gray-800")+" text-white transition-all rounded inline-block w-3.5 h-3.5 relative")&&r(e,"class",l)},i:Je,o:Je,d(g){g&&c(e),u&&u.d(),n=!1,o()}}}function zl(s,e,t){const l=Il();let{state:n="unchecked"}=e,{indeterminate:o=!1}=e,i="unchecked";const d=()=>{i==="unchecked"?(t(2,i="checked"),l("change",i)):i==="checked"?(t(2,i="unchecked"),o||l("change",i)):o&&(t(2,i="checked"),l("change",i))};return s.$$set=u=>{"state"in u&&t(0,n=u.state),"indeterminate"in u&&t(1,o=u.indeterminate)},s.$$.update=()=>{s.$$.dirty&1&&t(2,i=n)},[n,o,i,l,d]}class xl extends it{constructor(e){super(),ct(this,e,zl,Rl,at,{state:0,indeterminate:1})}}function ql(s){let e,t,l,n=s[3].t("Edit Doc")+"",o,i,d,u='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',g,v,p,_,b,y,E,S=s[3].t("Name Tag")+"",V,L,D,M,H="#",$,Q,F,se,K,A=s[3].t("Title")+"",ae,oe,R,ee,ue,Z,G,N=s[3].t("Tags")+"",W,te,z,T,w,B,le=s[3].t("Save")+"",U,q,fe,ie;return z=new Dl({props:{tags:s[1],addTag:s[6],deleteTag:s[7]}}),{c(){e=f("div"),t=f("div"),l=f("div"),o=P(n),i=x(),d=f("button"),d.innerHTML=u,g=x(),v=f("div"),p=f("div"),_=f("form"),b=f("div"),y=f("div"),E=f("div"),V=P(S),L=x(),D=f("div"),M=f("div"),M.textContent=H,$=x(),Q=f("input"),F=x(),se=f("div"),K=f("div"),ae=P(A),oe=x(),R=f("div"),ee=f("input"),ue=x(),Z=f("div"),G=f("div"),W=P(N),te=x(),ze(z.$$.fragment),T=x(),w=f("div"),B=f("button"),U=P(le),this.h()},l(X){e=h(X,"DIV",{});var ne=m(e);t=h(ne,"DIV",{class:!0});var O=m(t);l=h(O,"DIV",{class:!0});var ce=m(l);o=j(ce,n),ce.forEach(c),i=I(O),d=h(O,"BUTTON",{class:!0,"data-svelte-h":!0}),Oe(d)!=="svelte-745w2y"&&(d.innerHTML=u),O.forEach(c),g=I(ne),v=h(ne,"DIV",{class:!0});var he=m(v);p=h(he,"DIV",{class:!0});var Ve=m(p);_=h(Ve,"FORM",{class:!0});var we=m(_);b=h(we,"DIV",{class:!0});var ke=m(b);y=h(ke,"DIV",{class:!0});var ge=m(y);E=h(ge,"DIV",{class:!0});var Be=m(E);V=j(Be,S),Be.forEach(c),L=I(ge),D=h(ge,"DIV",{class:!0});var de=m(D);M=h(de,"DIV",{class:!0,"data-svelte-h":!0}),Oe(M)!=="svelte-113b805"&&(M.textContent=H),$=I(de),Q=h(de,"INPUT",{class:!0,type:!0,autocomplete:!0}),de.forEach(c),ge.forEach(c),F=I(ke),se=h(ke,"DIV",{class:!0});var ve=m(se);K=h(ve,"DIV",{class:!0});var Ce=m(K);ae=j(Ce,A),Ce.forEach(c),oe=I(ve),R=h(ve,"DIV",{class:!0});var je=m(R);ee=h(je,"INPUT",{class:!0,type:!0,autocomplete:!0}),je.forEach(c),ve.forEach(c),ue=I(ke),Z=h(ke,"DIV",{class:!0});var Te=m(Z);G=h(Te,"DIV",{class:!0});var He=m(G);W=j(He,N),He.forEach(c),te=I(Te),qe(z.$$.fragment,Te),Te.forEach(c),ke.forEach(c),T=I(we),w=h(we,"DIV",{class:!0});var Ne=m(w);B=h(Ne,"BUTTON",{class:!0,type:!0});var Ue=m(B);U=j(Ue,le),Ue.forEach(c),Ne.forEach(c),we.forEach(c),Ve.forEach(c),he.forEach(c),ne.forEach(c),this.h()},h(){r(l,"class","text-lg font-medium self-center"),r(d,"class","self-center"),r(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4"),r(E,"class","mb-1 text-xs text-gray-500"),r(M,"class","bg-gray-200 dark:bg-gray-800 font-bold px-3 py-0.5 border border-r-0 dark:border-gray-800 rounded-l-xl flex items-center"),r(Q,"class","w-full rounded-r-xl py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 disabled:text-gray-500 dark:disabled:text-gray-500 outline-none svelte-1vx7r9s"),r(Q,"type","text"),r(Q,"autocomplete","off"),Q.required=!0,r(D,"class","flex flex-1"),r(y,"class","flex flex-col w-full"),r(K,"class","mb-1 text-xs text-gray-500"),r(ee,"class","w-full rounded-xl py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none svelte-1vx7r9s"),r(ee,"type","text"),r(ee,"autocomplete","off"),ee.required=!0,r(R,"class","flex-1"),r(se,"class","flex flex-col w-full"),r(G,"class","mb-2 text-xs text-gray-500"),r(Z,"class","flex flex-col w-full"),r(b,"class","flex flex-col space-y-1.5"),r(B,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),r(B,"type","submit"),r(w,"class","flex justify-end pt-5 text-sm font-medium"),r(_,"class","flex flex-col w-full"),r(p,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),r(v,"class","flex flex-col md:flex-row w-full px-5 py-4 md:space-x-4 dark:text-gray-200")},m(X,ne){J(X,e,ne),a(e,t),a(t,l),a(l,o),a(t,i),a(t,d),a(e,g),a(e,v),a(v,p),a(p,_),a(_,b),a(b,y),a(y,E),a(E,V),a(y,L),a(y,D),a(D,M),a(D,$),a(D,Q),pe(Q,s[2].name),a(b,F),a(b,se),a(se,K),a(K,ae),a(se,oe),a(se,R),a(R,ee),pe(ee,s[2].title),a(b,ue),a(b,Z),a(Z,G),a(G,W),a(Z,te),Fe(z,Z,null),a(_,T),a(_,w),a(w,B),a(B,U),q=!0,fe||(ie=[re(d,"click",s[9]),re(Q,"input",s[10]),re(ee,"input",s[11]),re(_,"submit",Tt(s[12]))],fe=!0)},p(X,ne){(!q||ne&8)&&n!==(n=X[3].t("Edit Doc")+"")&&Y(o,n),(!q||ne&8)&&S!==(S=X[3].t("Name Tag")+"")&&Y(V,S),ne&4&&Q.value!==X[2].name&&pe(Q,X[2].name),(!q||ne&8)&&A!==(A=X[3].t("Title")+"")&&Y(ae,A),ne&4&&ee.value!==X[2].title&&pe(ee,X[2].title),(!q||ne&8)&&N!==(N=X[3].t("Tags")+"")&&Y(W,N);const O={};ne&2&&(O.tags=X[1]),z.$set(O),(!q||ne&8)&&le!==(le=X[3].t("Save")+"")&&Y(U,le)},i(X){q||(be(z.$$.fragment,X),q=!0)},o(X){Ee(z.$$.fragment,X),q=!1},d(X){X&&c(e),Ge(z),fe=!1,et(ie)}}}function Fl(s){let e,t,l;function n(i){s[13](i)}let o={size:"sm",$$slots:{default:[ql]},$$scope:{ctx:s}};return s[0]!==void 0&&(o.show=s[0]),e=new Zt({props:o}),ht.push(()=>It(e,"show",n)),{c(){ze(e.$$.fragment)},l(i){qe(e.$$.fragment,i)},m(i,d){Fe(e,i,d),l=!0},p(i,[d]){const u={};d&16399&&(u.$$scope={dirty:d,ctx:i}),!t&&d&1&&(t=!0,u.show=i[0],xt(()=>t=!1)),e.$set(u)},i(i){l||(be(e.$$.fragment,i),l=!0)},o(i){Ee(e.$$.fragment,i),l=!1},d(i){Ge(e,i)}}}function Gl(s,e,t){let l;const n=mt("i18n");st(s,n,V=>t(3,l=V));let{show:o=!1}=e,{selectedDoc:i}=e,d=[],u={name:"",title:"",content:null};const g=async()=>{await Ll(localStorage.token,i.name,{title:u.title,name:u.name}).catch(L=>{ye.error(L)})&&(t(0,o=!1),$e.set(await ot(localStorage.token)))},v=async V=>{!d.find(L=>L.name===V)&&V!==""?(t(1,d=[...d,{name:V}]),await Gt(localStorage.token,u.name,{name:u.name,tags:d}),$e.set(await ot(localStorage.token))):console.log("tag already exists")},p=async V=>{t(1,d=d.filter(L=>L.name!==V)),await Gt(localStorage.token,u.name,{name:u.name,tags:d}),$e.set(await ot(localStorage.token))};yt(()=>{var V;i&&(t(2,u=JSON.parse(JSON.stringify(i))),t(1,d=((V=u==null?void 0:u.content)==null?void 0:V.tags)??[]))});const _=()=>{t(0,o=!1)};function b(){u.name=this.value,t(2,u)}function y(){u.title=this.value,t(2,u)}const E=()=>{g()};function S(V){o=V,t(0,o)}return s.$$set=V=>{"show"in V&&t(0,o=V.show),"selectedDoc"in V&&t(8,i=V.selectedDoc)},[o,d,u,l,n,g,v,p,i,_,b,y,E,S]}class Wl extends it{constructor(e){super(),ct(this,e,Gl,Fl,at,{show:0,selectedDoc:8})}}function Qt(s,e,t){const l=s.slice();return l[36]=e[t],l}function Yt(s){let e,t=`<svg class="w-3 h-3" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
										transform-origin: center;
										animation: spinner_AtaB 0.75s infinite linear;
									}
									@keyframes spinner_AtaB {
										100% {
											transform: rotate(360deg);
										}
									}
								</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=f("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),Oe(e)!=="svelte-1q5d1z1"&&(e.innerHTML=t),this.h()},h(){r(e,"class","ml-3 self-center")},m(l,n){J(l,e,n)},d(l){l&&c(e)}}}function Kt(s){let e,t,l,n,o,i,d,u;return{c(){e=f("div"),t=f("input"),n=x(),o=f("input"),this.h()},l(g){e=h(g,"DIV",{class:!0});var v=m(e);t=h(v,"INPUT",{class:!0,placeholder:!0}),n=I(v),o=h(v,"INPUT",{class:!0,placeholder:!0}),v.forEach(c),this.h()},h(){r(t,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(t,"placeholder",l=s[11].t("API Base URL")),t.required=!0,r(o,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(o,"placeholder",i=s[11].t("API Key")),o.required=!0,r(e,"class","my-0.5 flex gap-2")},m(g,v){J(g,e,v),a(e,t),pe(t,s[9]),a(e,n),a(e,o),pe(o,s[8]),d||(u=[re(t,"input",s[22]),re(o,"input",s[23])],d=!0)},p(g,v){v[0]&2048&&l!==(l=g[11].t("API Base URL"))&&r(t,"placeholder",l),v[0]&512&&t.value!==g[9]&&pe(t,g[9]),v[0]&2048&&i!==(i=g[11].t("API Key"))&&r(o,"placeholder",i),v[0]&256&&o.value!==g[8]&&pe(o,g[8])},d(g){g&&c(e),d=!1,et(u)}}}function Ql(s){let e,t=s[11].t("Off")+"",l;return{c(){e=f("span"),l=P(t),this.h()},l(n){e=h(n,"SPAN",{class:!0});var o=m(e);l=j(o,t),o.forEach(c),this.h()},h(){r(e,"class","ml-2 self-center")},m(n,o){J(n,e,o),a(e,l)},p(n,o){o[0]&2048&&t!==(t=n[11].t("Off")+"")&&Y(l,t)},d(n){n&&c(e)}}}function Yl(s){let e,t=s[11].t("On")+"",l;return{c(){e=f("span"),l=P(t),this.h()},l(n){e=h(n,"SPAN",{class:!0});var o=m(e);l=j(o,t),o.forEach(c),this.h()},h(){r(e,"class","ml-2 self-center")},m(n,o){J(n,e,o),a(e,l)},p(n,o){o[0]&2048&&t!==(t=n[11].t("On")+"")&&Y(l,t)},d(n){n&&c(e)}}}function Kl(s){let e,t,l,n,o,i,d,u=s[5]===""&&Xt(s);return{c(){e=f("div"),t=f("div"),l=f("input"),o=x(),u&&u.c(),this.h()},l(g){e=h(g,"DIV",{class:!0});var v=m(e);t=h(v,"DIV",{class:!0});var p=m(t);l=h(p,"INPUT",{class:!0,placeholder:!0}),p.forEach(c),o=I(v),u&&u.l(v),v.forEach(c),this.h()},h(){r(l,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(l,"placeholder",n=s[11].t("Set embedding model (e.g. {{model}})",{model:s[6].slice(-40)})),r(t,"class","flex-1 mr-2"),r(e,"class","flex w-full")},m(g,v){J(g,e,v),a(e,t),a(t,l),pe(l,s[6]),a(e,o),u&&u.m(e,null),i||(d=re(l,"input",s[26]),i=!0)},p(g,v){v[0]&6208&&n!==(n=g[11].t("Set embedding model (e.g. {{model}})",{model:g[6].slice(-40)}))&&r(l,"placeholder",n),v[0]&4160&&l.value!==g[6]&&pe(l,g[6]),g[5]===""?u?u.p(g,v):(u=Xt(g),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},d(g){g&&c(e),u&&u.d(),i=!1,d()}}}function Xl(s){let e,t,l,n,o,i,d,u=!s[6]&&Jt(s),g=Vt(s[12].filter(tl)),v=[];for(let p=0;p<g.length;p+=1)v[p]=$t(Qt(s,g,p));return{c(){e=f("div"),t=f("div"),l=f("select"),u&&u.c(),n=Nt();for(let p=0;p<v.length;p+=1)v[p].c();this.h()},l(p){e=h(p,"DIV",{class:!0});var _=m(e);t=h(_,"DIV",{class:!0});var b=m(t);l=h(b,"SELECT",{class:!0,placeholder:!0});var y=m(l);u&&u.l(y),n=Nt();for(let E=0;E<v.length;E+=1)v[E].l(y);y.forEach(c),b.forEach(c),_.forEach(c),this.h()},h(){r(l,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(l,"placeholder",o=s[11].t("Select a model")),l.required=!0,s[6]===void 0&&ml(()=>s[25].call(l)),r(t,"class","flex-1 mr-2"),r(e,"class","flex w-full")},m(p,_){J(p,e,_),a(e,t),a(t,l),u&&u.m(l,null),a(l,n);for(let b=0;b<v.length;b+=1)v[b]&&v[b].m(l,null);Ot(l,s[6],!0),i||(d=re(l,"change",s[25]),i=!0)},p(p,_){if(p[6]?u&&(u.d(1),u=null):u?u.p(p,_):(u=Jt(p),u.c(),u.m(l,n)),_[0]&4096){g=Vt(p[12].filter(tl));let b;for(b=0;b<g.length;b+=1){const y=Qt(p,g,b);v[b]?v[b].p(y,_):(v[b]=$t(y),v[b].c(),v[b].m(l,null))}for(;b<v.length;b+=1)v[b].d(1);v.length=g.length}_[0]&2048&&o!==(o=p[11].t("Select a model"))&&r(l,"placeholder",o),_[0]&4160&&Ot(l,p[6])},d(p){p&&c(e),u&&u.d(),jt(v,p),i=!1,d()}}}function Xt(s){let e,t,l;function n(d,u){return d[2]?$l:Jl}let o=n(s),i=o(s);return{c(){e=f("button"),i.c(),this.h()},l(d){e=h(d,"BUTTON",{class:!0});var u=m(e);i.l(u),u.forEach(c),this.h()},h(){r(e,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),e.disabled=s[2]},m(d,u){J(d,e,u),i.m(e,null),t||(l=re(e,"click",s[27]),t=!0)},p(d,u){o!==(o=n(d))&&(i.d(1),i=o(d),i&&(i.c(),i.m(e,null))),u[0]&4&&(e.disabled=d[2])},d(d){d&&c(e),i.d(),t=!1,l()}}}function Jl(s){let e,t,l;return{c(){e=Me("svg"),t=Me("path"),l=Me("path"),this.h()},l(n){e=Se(n,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var o=m(e);t=Se(o,"path",{d:!0}),m(t).forEach(c),l=Se(o,"path",{d:!0}),m(l).forEach(c),o.forEach(c),this.h()},h(){r(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),r(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),r(e,"xmlns","http://www.w3.org/2000/svg"),r(e,"viewBox","0 0 16 16"),r(e,"fill","currentColor"),r(e,"class","w-4 h-4")},m(n,o){J(n,e,o),a(e,t),a(e,l)},d(n){n&&c(e)}}}function $l(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=f("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),Oe(e)!=="svelte-to07og"&&(e.innerHTML=t),this.h()},h(){r(e,"class","self-center")},m(l,n){J(l,e,n)},d(l){l&&c(e)}}}function Jt(s){let e,t=s[11].t("Select a model")+"",l;return{c(){e=f("option"),l=P(t),this.h()},l(n){e=h(n,"OPTION",{});var o=m(e);l=j(o,t),o.forEach(c),this.h()},h(){e.__value="",pe(e,e.__value),e.disabled=!0,e.selected=!0},m(n,o){J(n,e,o),a(e,l)},p(n,o){o[0]&2048&&t!==(t=n[11].t("Select a model")+"")&&Y(l,t)},d(n){n&&c(e)}}}function $t(s){let e,t=s[36].name+" ("+(s[36].size/1073741824).toFixed(1)+" GB)",l,n;return{c(){e=f("option"),l=P(t),this.h()},l(o){e=h(o,"OPTION",{class:!0});var i=m(e);l=j(i,t),i.forEach(c),this.h()},h(){e.__value=n=s[36].name,pe(e,e.__value),r(e,"class","bg-gray-100 dark:bg-gray-700")},m(o,i){J(o,e,i),a(e,l)},p(o,i){i[0]&4096&&t!==(t=o[36].name+" ("+(o[36].size/1024**3).toFixed(1)+" GB)")&&Y(l,t),i[0]&4096&&n!==(n=o[36].name)&&(e.__value=n,pe(e,e.__value))},d(o){o&&c(e)}}}function el(s){let e,t,l=s[11].t("Reranking Model")+"",n,o,i,d,u,g,v,p,_,b;function y(V,L){return V[3]?ts:es}let E=y(s),S=E(s);return{c(){e=f("div"),t=f("div"),n=P(l),o=x(),i=f("div"),d=f("div"),u=f("input"),v=x(),p=f("button"),S.c(),this.h()},l(V){e=h(V,"DIV",{class:!0});var L=m(e);t=h(L,"DIV",{class:!0});var D=m(t);n=j(D,l),D.forEach(c),o=I(L),i=h(L,"DIV",{class:!0});var M=m(i);d=h(M,"DIV",{class:!0});var H=m(d);u=h(H,"INPUT",{class:!0,placeholder:!0}),H.forEach(c),v=I(M),p=h(M,"BUTTON",{class:!0});var $=m(p);S.l($),$.forEach(c),M.forEach(c),L.forEach(c),this.h()},h(){r(t,"class","mb-2 text-sm font-medium"),r(u,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(u,"placeholder",g=s[11].t("Set reranking model (e.g. {{model}})",{model:"BAAI/bge-reranker-v2-m3"})),r(d,"class","flex-1 mr-2"),r(p,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),p.disabled=s[3],r(i,"class","flex w-full"),r(e,"class","")},m(V,L){J(V,e,L),a(e,t),a(t,n),a(e,o),a(e,i),a(i,d),a(d,u),pe(u,s[7]),a(i,v),a(i,p),S.m(p,null),_||(b=[re(u,"input",s[28]),re(p,"click",s[29])],_=!0)},p(V,L){L[0]&2048&&l!==(l=V[11].t("Reranking Model")+"")&&Y(n,l),L[0]&2048&&g!==(g=V[11].t("Set reranking model (e.g. {{model}})",{model:"BAAI/bge-reranker-v2-m3"}))&&r(u,"placeholder",g),L[0]&128&&u.value!==V[7]&&pe(u,V[7]),E!==(E=y(V))&&(S.d(1),S=E(V),S&&(S.c(),S.m(p,null))),L[0]&8&&(p.disabled=V[3])},d(V){V&&c(e),S.d(),_=!1,et(b)}}}function es(s){let e,t,l;return{c(){e=Me("svg"),t=Me("path"),l=Me("path"),this.h()},l(n){e=Se(n,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var o=m(e);t=Se(o,"path",{d:!0}),m(t).forEach(c),l=Se(o,"path",{d:!0}),m(l).forEach(c),o.forEach(c),this.h()},h(){r(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),r(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),r(e,"xmlns","http://www.w3.org/2000/svg"),r(e,"viewBox","0 0 16 16"),r(e,"fill","currentColor"),r(e,"class","w-4 h-4")},m(n,o){J(n,e,o),a(e,t),a(e,l)},d(n){n&&c(e)}}}function ts(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=f("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),Oe(e)!=="svelte-to07og"&&(e.innerHTML=t),this.h()},h(){r(e,"class","self-center")},m(l,n){J(l,e,n)},d(l){l&&c(e)}}}function ls(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M3.5 2A1.5 1.5 0 0 0 2 3.5v9A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 12.5 4H9.621a1.5 1.5 0 0 1-1.06-.44L7.439 2.44A1.5 1.5 0 0 0 6.38 2H3.5Zm6.75 7.75a.75.75 0 0 0 0-1.5h-4.5a.75.75 0 0 0 0 1.5h4.5Z" clip-rule="evenodd"></path></svg>',n,o,i=s[11].t("Reset Vector Storage")+"",d,u,g;return{c(){e=f("button"),t=f("div"),t.innerHTML=l,n=x(),o=f("div"),d=P(i),this.h()},l(v){e=h(v,"BUTTON",{class:!0});var p=m(e);t=h(p,"DIV",{class:!0,"data-svelte-h":!0}),Oe(t)!=="svelte-16tyzd9"&&(t.innerHTML=l),n=I(p),o=h(p,"DIV",{class:!0});var _=m(o);d=j(_,i),_.forEach(c),p.forEach(c),this.h()},h(){r(t,"class","self-center mr-3"),r(o,"class","self-center text-sm font-medium"),r(e,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(v,p){J(v,e,p),a(e,t),a(e,n),a(e,o),a(o,d),u||(g=re(e,"click",s[32]),u=!0)},p(v,p){p[0]&2048&&i!==(i=v[11].t("Reset Vector Storage")+"")&&Y(d,i)},d(v){v&&c(e),u=!1,g()}}}function ss(s){let e,t,l,n,o,i,d,u=s[11].t("Are you sure?")+"",g,v,p,_,b='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',y,E,S='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',V,L;return{c(){e=f("div"),t=f("div"),l=Me("svg"),n=Me("path"),o=Me("path"),i=x(),d=f("span"),g=P(u),v=x(),p=f("div"),_=f("button"),_.innerHTML=b,y=x(),E=f("button"),E.innerHTML=S,this.h()},l(D){e=h(D,"DIV",{class:!0});var M=m(e);t=h(M,"DIV",{class:!0});var H=m(t);l=Se(H,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var $=m(l);n=Se($,"path",{d:!0}),m(n).forEach(c),o=Se($,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),m(o).forEach(c),$.forEach(c),i=I(H),d=h(H,"SPAN",{});var Q=m(d);g=j(Q,u),Q.forEach(c),H.forEach(c),v=I(M),p=h(M,"DIV",{class:!0});var F=m(p);_=h(F,"BUTTON",{class:!0,"data-svelte-h":!0}),Oe(_)!=="svelte-utedoe"&&(_.innerHTML=b),y=I(F),E=h(F,"BUTTON",{class:!0,"data-svelte-h":!0}),Oe(E)!=="svelte-x16t1b"&&(E.innerHTML=S),F.forEach(c),M.forEach(c),this.h()},h(){r(n,"d","M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"),r(o,"fill-rule","evenodd"),r(o,"d","M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM5.72 7.47a.75.75 0 0 1 1.06 0L8 8.69l1.22-1.22a.75.75 0 1 1 1.06 1.06L9.06 9.75l1.22 1.22a.75.75 0 1 1-1.06 1.06L8 10.81l-1.22 1.22a.75.75 0 0 1-1.06-1.06l1.22-1.22-1.22-1.22a.75.75 0 0 1 0-1.06Z"),r(o,"clip-rule","evenodd"),r(l,"xmlns","http://www.w3.org/2000/svg"),r(l,"viewBox","0 0 16 16"),r(l,"fill","currentColor"),r(l,"class","w-4 h-4"),r(t,"class","flex items-center space-x-3"),r(_,"class","hover:text-white transition"),r(E,"class","hover:text-white transition"),r(p,"class","flex space-x-1.5 items-center"),r(e,"class","flex justify-between rounded-md items-center py-2 px-3.5 w-full transition")},m(D,M){J(D,e,M),a(e,t),a(t,l),a(l,n),a(l,o),a(t,i),a(t,d),a(d,g),a(e,v),a(e,p),a(p,_),a(p,y),a(p,E),V||(L=[re(_,"click",s[30]),re(E,"click",s[31])],V=!0)},p(D,M){M[0]&2048&&u!==(u=D[11].t("Are you sure?")+"")&&Y(g,u)},d(D){D&&c(e),V=!1,et(L)}}}function as(s){let e,t,l,n,o=s[11].t("General Settings")+"",i,d,u,g,v=s[11].t("Scan for documents from {{path}}",{path:"DOCS_DIR (/data/docs)"})+"",p,_,b,y,E=s[11].t("Scan")+"",S,V,L,D,M,H,$=s[11].t("Embedding Model Engine")+"",Q,F,se,K,A,ae=s[11].t("Default (SentenceTransformers)")+"",oe,R,ee=s[11].t("Ollama")+"",ue,Z,G=s[11].t("OpenAI")+"",N,W,te,z,T,w=s[11].t("Hybrid Search")+"",B,le,U,q,fe,ie,X,ne,O,ce,he=s[11].t("Embedding Model")+"",Ve,we,ke,ge,Be=s[11].t("Warning: If you update or change your embedding model, you will need to re-import all documents.")+"",de,ve,Ce,je,Te,He,Ne,Ue,Qe=s[11].t("Save")+"",We,tt,Ze,Ie=s[1]&&Yt(),Le=s[5]==="openai"&&Kt(s);function De(k,C){return k[10].hybrid===!0?Yl:Ql}let Re=De(s),Ke=Re(s);function Mt(k,C){return k[5]==="ollama"?Xl:Kl}let Et=Mt(s),Ye=Et(s),me=s[10].hybrid===!0&&el(s);function rt(k,C){return k[4]?ss:ls}let _e=rt(s),Xe=_e(s);return{c(){e=f("form"),t=f("div"),l=f("div"),n=f("div"),i=P(o),d=x(),u=f("div"),g=f("div"),p=P(v),_=x(),b=f("button"),y=f("div"),S=P(E),V=x(),Ie&&Ie.c(),D=x(),M=f("div"),H=f("div"),Q=P($),F=x(),se=f("div"),K=f("select"),A=f("option"),oe=P(ae),R=f("option"),ue=P(ee),Z=f("option"),N=P(G),W=x(),Le&&Le.c(),te=x(),z=f("div"),T=f("div"),B=P(w),le=x(),U=f("button"),Ke.c(),q=x(),fe=f("hr"),ie=x(),X=f("div"),ne=x(),O=f("div"),ce=f("div"),Ve=P(he),we=x(),Ye.c(),ke=x(),ge=f("div"),de=P(Be),ve=x(),me&&me.c(),Ce=x(),je=f("hr"),Te=x(),Xe.c(),He=x(),Ne=f("div"),Ue=f("button"),We=P(Qe),this.h()},l(k){e=h(k,"FORM",{class:!0});var C=m(e);t=h(C,"DIV",{class:!0});var xe=m(t);l=h(xe,"DIV",{class:!0});var Pe=m(l);n=h(Pe,"DIV",{class:!0});var Ae=m(n);i=j(Ae,o),Ae.forEach(c),d=I(Pe),u=h(Pe,"DIV",{class:!0});var nt=m(u);g=h(nt,"DIV",{class:!0});var pt=m(g);p=j(pt,v),pt.forEach(c),_=I(nt),b=h(nt,"BUTTON",{class:!0,type:!0});var gt=m(b);y=h(gt,"DIV",{class:!0});var St=m(y);S=j(St,E),St.forEach(c),V=I(gt),Ie&&Ie.l(gt),gt.forEach(c),nt.forEach(c),D=I(Pe),M=h(Pe,"DIV",{class:!0});var ft=m(M);H=h(ft,"DIV",{class:!0});var _t=m(H);Q=j(_t,$),_t.forEach(c),F=I(ft),se=h(ft,"DIV",{class:!0});var bt=m(se);K=h(bt,"SELECT",{class:!0,placeholder:!0});var wt=m(K);A=h(wt,"OPTION",{});var Ht=m(A);oe=j(Ht,ae),Ht.forEach(c),R=h(wt,"OPTION",{});var Lt=m(R);ue=j(Lt,ee),Lt.forEach(c),Z=h(wt,"OPTION",{});var ut=m(Z);N=j(ut,G),ut.forEach(c),wt.forEach(c),bt.forEach(c),ft.forEach(c),W=I(Pe),Le&&Le.l(Pe),te=I(Pe),z=h(Pe,"DIV",{class:!0});var dt=m(z);T=h(dt,"DIV",{class:!0});var Bt=m(T);B=j(Bt,w),Bt.forEach(c),le=I(dt),U=h(dt,"BUTTON",{class:!0,type:!0});var kt=m(U);Ke.l(kt),kt.forEach(c),dt.forEach(c),Pe.forEach(c),q=I(xe),fe=h(xe,"HR",{class:!0}),ie=I(xe),X=h(xe,"DIV",{class:!0}),m(X).forEach(c),ne=I(xe),O=h(xe,"DIV",{});var lt=m(O);ce=h(lt,"DIV",{class:!0});var Dt=m(ce);Ve=j(Dt,he),Dt.forEach(c),we=I(lt),Ye.l(lt),ke=I(lt),ge=h(lt,"DIV",{class:!0});var Rt=m(ge);de=j(Rt,Be),Rt.forEach(c),ve=I(lt),me&&me.l(lt),lt.forEach(c),Ce=I(xe),je=h(xe,"HR",{class:!0}),Te=I(xe),Xe.l(xe),xe.forEach(c),He=I(C),Ne=h(C,"DIV",{class:!0});var zt=m(Ne);Ue=h(zt,"BUTTON",{class:!0,type:!0});var qt=m(Ue);We=j(qt,Qe),qt.forEach(c),zt.forEach(c),C.forEach(c),this.h()},h(){r(n,"class","mb-0.5 text-sm font-medium"),r(g,"class","self-center text-xs font-medium"),r(y,"class","self-center font-medium"),r(b,"class",L="self-center text-xs p-1 px-3 bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 rounded-lg flex flex-row space-x-1 items-center "+(s[1]?" cursor-not-allowed":"")),r(b,"type","button"),b.disabled=s[1],r(u,"class","flex w-full justify-between"),r(H,"class","self-center text-xs font-medium"),A.__value="",pe(A,A.__value),R.__value="ollama",pe(R,R.__value),Z.__value="openai",pe(Z,Z.__value),r(K,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),r(K,"placeholder","Select an embedding model engine"),s[5]===void 0&&ml(()=>s[20].call(K)),r(se,"class","flex items-center relative"),r(M,"class","flex w-full justify-between"),r(T,"class","self-center text-xs font-medium"),r(U,"class","p-1 px-3 text-xs flex rounded transition"),r(U,"type","button"),r(z,"class","flex w-full justify-between"),r(l,"class","flex flex-col gap-0.5"),r(fe,"class","dark:border-gray-700 my-1"),r(X,"class","space-y-2"),r(ce,"class","mb-2 text-sm font-medium"),r(ge,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),r(je,"class","dark:border-gray-700"),r(t,"class","space-y-2.5 pr-1.5 overflow-y-scroll max-h-[28rem]"),r(Ue,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),r(Ue,"type","submit"),r(Ne,"class","flex justify-end pt-3 text-sm font-medium"),r(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(k,C){J(k,e,C),a(e,t),a(t,l),a(l,n),a(n,i),a(l,d),a(l,u),a(u,g),a(g,p),a(u,_),a(u,b),a(b,y),a(y,S),a(b,V),Ie&&Ie.m(b,null),a(l,D),a(l,M),a(M,H),a(H,Q),a(M,F),a(M,se),a(se,K),a(K,A),a(A,oe),a(K,R),a(R,ue),a(K,Z),a(Z,N),Ot(K,s[5],!0),a(l,W),Le&&Le.m(l,null),a(l,te),a(l,z),a(z,T),a(T,B),a(z,le),a(z,U),Ke.m(U,null),a(t,q),a(t,fe),a(t,ie),a(t,X),a(t,ne),a(t,O),a(O,ce),a(ce,Ve),a(O,we),Ye.m(O,null),a(O,ke),a(O,ge),a(ge,de),a(O,ve),me&&me.m(O,null),a(t,Ce),a(t,je),a(t,Te),Xe.m(t,null),a(e,He),a(e,Ne),a(Ne,Ue),a(Ue,We),tt||(Ze=[re(b,"click",s[19]),re(K,"change",s[20]),re(K,"change",s[21]),re(U,"click",s[24]),re(e,"submit",Tt(s[33]))],tt=!0)},p(k,C){C[0]&2048&&o!==(o=k[11].t("General Settings")+"")&&Y(i,o),C[0]&2048&&v!==(v=k[11].t("Scan for documents from {{path}}",{path:"DOCS_DIR (/data/docs)"})+"")&&Y(p,v),C[0]&2048&&E!==(E=k[11].t("Scan")+"")&&Y(S,E),k[1]?Ie||(Ie=Yt(),Ie.c(),Ie.m(b,null)):Ie&&(Ie.d(1),Ie=null),C[0]&2&&L!==(L="self-center text-xs p-1 px-3 bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 rounded-lg flex flex-row space-x-1 items-center "+(k[1]?" cursor-not-allowed":""))&&r(b,"class",L),C[0]&2&&(b.disabled=k[1]),C[0]&2048&&$!==($=k[11].t("Embedding Model Engine")+"")&&Y(Q,$),C[0]&2048&&ae!==(ae=k[11].t("Default (SentenceTransformers)")+"")&&Y(oe,ae),C[0]&2048&&ee!==(ee=k[11].t("Ollama")+"")&&Y(ue,ee),C[0]&2048&&G!==(G=k[11].t("OpenAI")+"")&&Y(N,G),C[0]&32&&Ot(K,k[5]),k[5]==="openai"?Le?Le.p(k,C):(Le=Kt(k),Le.c(),Le.m(l,te)):Le&&(Le.d(1),Le=null),C[0]&2048&&w!==(w=k[11].t("Hybrid Search")+"")&&Y(B,w),Re===(Re=De(k))&&Ke?Ke.p(k,C):(Ke.d(1),Ke=Re(k),Ke&&(Ke.c(),Ke.m(U,null))),C[0]&2048&&he!==(he=k[11].t("Embedding Model")+"")&&Y(Ve,he),Et===(Et=Mt(k))&&Ye?Ye.p(k,C):(Ye.d(1),Ye=Et(k),Ye&&(Ye.c(),Ye.m(O,ke))),C[0]&2048&&Be!==(Be=k[11].t("Warning: If you update or change your embedding model, you will need to re-import all documents.")+"")&&Y(de,Be),k[10].hybrid===!0?me?me.p(k,C):(me=el(k),me.c(),me.m(O,null)):me&&(me.d(1),me=null),_e===(_e=rt(k))&&Xe?Xe.p(k,C):(Xe.d(1),Xe=_e(k),Xe&&(Xe.c(),Xe.m(t,null))),C[0]&2048&&Qe!==(Qe=k[11].t("Save")+"")&&Y(We,Qe)},i:Je,o:Je,d(k){k&&c(e),Ie&&Ie.d(),Le&&Le.d(),Ke.d(),Ye.d(),me&&me.d(),Xe.d(),tt=!1,et(Ze)}}}const tl=s=>s.id&&!s.external;function rs(s,e,t){let l,n;st(s,Sl,T=>t(12,n=T));const o=mt("i18n");st(s,o,T=>t(11,l=T));let{saveHandler:i}=e,d=!1,u=!1,g=!1,v=!1,p="",_="",b="",y="",E="",S={template:"",r:0,k:4,hybrid:!1};const V=async()=>{t(1,d=!0);const T=await Bl(localStorage.token);t(1,d=!1),T&&(await $e.set(await ot(localStorage.token)),ye.success(l.t("Scan complete!")))},L=async()=>{if(p===""&&_.split("/").length-1>1){ye.error(l.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(p==="ollama"&&_===""){ye.error(l.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(p==="openai"&&_===""){ye.error(l.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(p==="openai"&&y===""||E===""){ye.error(l.t("OpenAI URL/Key required."));return}console.log("Update embedding model attempt:",_),t(2,u=!0);const T=await Ul(localStorage.token,{embedding_engine:p,embedding_model:_,...p==="openai"?{openai_config:{key:y,url:E}}:{}}).catch(async w=>(ye.error(w),await H(),null));t(2,u=!1),T&&(console.log("embeddingModelUpdateHandler:",T),T.status===!0&&ye.success(l.t('Embedding model set to "{{embedding_model}}"',T),{duration:1e3*10}))},D=async()=>{console.log("Update reranking model attempt:",b),t(3,g=!0);const T=await Cl(localStorage.token,{reranking_model:b}).catch(async w=>(ye.error(w),await $(),null));t(3,g=!1),T&&(console.log("rerankingModelUpdateHandler:",T),T.status===!0&&(b===""?ye.success(l.t("Reranking model disabled",T),{duration:1e3*10}):ye.success(l.t('Reranking model set to "{{reranking_model}}"',T),{duration:1e3*10})))},M=async()=>{L(),S.hybrid&&D()},H=async()=>{const T=await Al(localStorage.token);T&&(t(5,p=T.embedding_engine),t(6,_=T.embedding_model),t(8,y=T.openai_config.key),t(9,E=T.openai_config.url))},$=async()=>{const T=await Ol(localStorage.token);T&&t(7,b=T.reranking_model)},Q=async()=>{t(10,S.hybrid=!S.hybrid,S),t(10,S=await bl(localStorage.token,S))};yt(async()=>{await H(),await $(),t(10,S=await _l(localStorage.token))});const F=()=>{V(),console.log("check")};function se(){p=Ft(this),t(5,p)}const K=T=>{T.target.value==="ollama"?t(6,_=""):T.target.value==="openai"?t(6,_="text-embedding-3-small"):T.target.value===""&&t(6,_="sentence-transformers/all-MiniLM-L6-v2")};function A(){E=this.value,t(9,E)}function ae(){y=this.value,t(8,y)}const oe=()=>{Q()};function R(){_=Ft(this),t(6,_)}function ee(){_=this.value,t(6,_)}const ue=()=>{L()};function Z(){b=this.value,t(7,b)}const G=()=>{D()},N=()=>{Nl(localStorage.token).catch(w=>(ye.error(w),null))&&ye.success(l.t("Success")),t(4,v=!1)},W=()=>{t(4,v=!1)},te=()=>{t(4,v=!0)},z=()=>{M(),i()};return s.$$set=T=>{"saveHandler"in T&&t(0,i=T.saveHandler)},[i,d,u,g,v,p,_,b,y,E,S,l,n,o,V,L,D,M,Q,F,se,K,A,ae,oe,R,ee,ue,Z,G,N,W,te,z]}class ns extends it{constructor(e){super(),ct(this,e,rs,as,at,{saveHandler:0},null,[-1,-1])}}function os(s){let e,t,l,n,o=s[4].t("Chunk Params")+"",i,d,u,g,v,p=s[4].t("Chunk Size")+"",_,b,y,E,S,V,L,D,M=s[4].t("Chunk Overlap")+"",H,$,Q,F,se,K,A,ae,oe,R=s[4].t("PDF Extract Images (OCR)")+"",ee,ue,Z,G=(s[3]?s[4].t("On"):s[4].t("Off"))+"",N,W,te,z,T=s[4].t("Save")+"",w,B,le;return{c(){e=f("form"),t=f("div"),l=f("div"),n=f("div"),i=P(o),d=x(),u=f("div"),g=f("div"),v=f("div"),_=P(p),b=x(),y=f("div"),E=f("input"),V=x(),L=f("div"),D=f("div"),H=P(M),$=x(),Q=f("div"),F=f("input"),K=x(),A=f("div"),ae=f("div"),oe=f("div"),ee=P(R),ue=x(),Z=f("button"),N=P(G),W=x(),te=f("div"),z=f("button"),w=P(T),this.h()},l(U){e=h(U,"FORM",{class:!0});var q=m(e);t=h(q,"DIV",{class:!0});var fe=m(t);l=h(fe,"DIV",{class:!0});var ie=m(l);n=h(ie,"DIV",{class:!0});var X=m(n);i=j(X,o),X.forEach(c),d=I(ie),u=h(ie,"DIV",{class:!0});var ne=m(u);g=h(ne,"DIV",{class:!0});var O=m(g);v=h(O,"DIV",{class:!0});var ce=m(v);_=j(ce,p),ce.forEach(c),b=I(O),y=h(O,"DIV",{class:!0});var he=m(y);E=h(he,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),he.forEach(c),O.forEach(c),V=I(ne),L=h(ne,"DIV",{class:!0});var Ve=m(L);D=h(Ve,"DIV",{class:!0});var we=m(D);H=j(we,M),we.forEach(c),$=I(Ve),Q=h(Ve,"DIV",{class:!0});var ke=m(Q);F=h(ke,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),ke.forEach(c),Ve.forEach(c),ne.forEach(c),K=I(ie),A=h(ie,"DIV",{class:!0});var ge=m(A);ae=h(ge,"DIV",{class:!0});var Be=m(ae);oe=h(Be,"DIV",{class:!0});var de=m(oe);ee=j(de,R),de.forEach(c),ue=I(Be),Z=h(Be,"BUTTON",{class:!0,type:!0});var ve=m(Z);N=j(ve,G),ve.forEach(c),Be.forEach(c),ge.forEach(c),ie.forEach(c),fe.forEach(c),W=I(q),te=h(q,"DIV",{class:!0});var Ce=m(te);z=h(Ce,"BUTTON",{class:!0,type:!0});var je=m(z);w=j(je,T),je.forEach(c),Ce.forEach(c),q.forEach(c),this.h()},h(){r(n,"class","text-sm font-medium"),r(v,"class","self-center text-xs font-medium min-w-fit"),r(E,"class","w-full rounded-lg py-1.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(E,"type","number"),r(E,"placeholder",S=s[4].t("Enter Chunk Size")),r(E,"autocomplete","off"),r(E,"min","0"),r(y,"class","self-center p-3"),r(g,"class","flex w-full justify-between"),r(D,"class","self-center text-xs font-medium min-w-fit"),r(F,"class","w-full rounded-lg py-1.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(F,"type","number"),r(F,"placeholder",se=s[4].t("Enter Chunk Overlap")),r(F,"autocomplete","off"),r(F,"min","0"),r(Q,"class","self-center p-3"),r(L,"class","flex w-full"),r(u,"class","flex"),r(oe,"class","text-xs font-medium"),r(Z,"class","text-xs font-medium text-gray-500"),r(Z,"type","button"),r(ae,"class","flex justify-between items-center text-xs"),r(A,"class","pr-2"),r(l,"class",""),r(t,"class","space-y-3 pr-1.5 overflow-y-scroll h-full max-h-[22rem]"),r(z,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),r(z,"type","submit"),r(te,"class","flex justify-end pt-3 text-sm font-medium"),r(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(U,q){J(U,e,q),a(e,t),a(t,l),a(l,n),a(n,i),a(l,d),a(l,u),a(u,g),a(g,v),a(v,_),a(g,b),a(g,y),a(y,E),pe(E,s[1]),a(u,V),a(u,L),a(L,D),a(D,H),a(L,$),a(L,Q),a(Q,F),pe(F,s[2]),a(l,K),a(l,A),a(A,ae),a(ae,oe),a(oe,ee),a(ae,ue),a(ae,Z),a(Z,N),a(e,W),a(e,te),a(te,z),a(z,w),B||(le=[re(E,"input",s[7]),re(F,"input",s[8]),re(Z,"click",s[9]),re(e,"submit",Tt(s[10]))],B=!0)},p(U,[q]){q&16&&o!==(o=U[4].t("Chunk Params")+"")&&Y(i,o),q&16&&p!==(p=U[4].t("Chunk Size")+"")&&Y(_,p),q&16&&S!==(S=U[4].t("Enter Chunk Size"))&&r(E,"placeholder",S),q&2&&vt(E.value)!==U[1]&&pe(E,U[1]),q&16&&M!==(M=U[4].t("Chunk Overlap")+"")&&Y(H,M),q&16&&se!==(se=U[4].t("Enter Chunk Overlap"))&&r(F,"placeholder",se),q&4&&vt(F.value)!==U[2]&&pe(F,U[2]),q&16&&R!==(R=U[4].t("PDF Extract Images (OCR)")+"")&&Y(ee,R),q&24&&G!==(G=(U[3]?U[4].t("On"):U[4].t("Off"))+"")&&Y(N,G),q&16&&T!==(T=U[4].t("Save")+"")&&Y(w,T)},i:Je,o:Je,d(U){U&&c(e),B=!1,et(le)}}}function is(s,e,t){let l;const n=mt("i18n");st(s,n,y=>t(4,l=y));let{saveHandler:o}=e,i=0,d=0,u=!0;const g=async()=>{await kl(localStorage.token,{pdf_extract_images:u,chunk:{chunk_overlap:d,chunk_size:i}})};yt(async()=>{const y=await wl(localStorage.token);y&&(t(3,u=y.pdf_extract_images),t(1,i=y.chunk.chunk_size),t(2,d=y.chunk.chunk_overlap))});function v(){i=vt(this.value),t(1,i)}function p(){d=vt(this.value),t(2,d)}const _=()=>{t(3,u=!u)},b=()=>{g(),o()};return s.$$set=y=>{"saveHandler"in y&&t(0,o=y.saveHandler)},[o,i,d,u,l,n,g,v,p,_,b]}class cs extends it{constructor(e){super(),ct(this,e,is,os,at,{saveHandler:0})}}function ll(s){let e,t,l=s[2].t("Minimum Score")+"",n,o,i,d,u,g,v,p;return{c(){e=f("div"),t=f("div"),n=P(l),o=x(),i=f("div"),d=f("input"),this.h()},l(_){e=h(_,"DIV",{class:!0});var b=m(e);t=h(b,"DIV",{class:!0});var y=m(t);n=j(y,l),y.forEach(c),o=I(b),i=h(b,"DIV",{class:!0});var E=m(i);d=h(E,"INPUT",{class:!0,type:!0,step:!0,placeholder:!0,autocomplete:!0,min:!0,title:!0}),E.forEach(c),b.forEach(c),this.h()},h(){r(t,"class","self-center text-xs font-medium min-w-fit"),r(d,"class","w-full rounded-lg py-1.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(d,"type","number"),r(d,"step","0.01"),r(d,"placeholder",u=s[2].t("Enter Score")),r(d,"autocomplete","off"),r(d,"min","0.0"),r(d,"title",g=s[2].t("The score should be a value between 0.0 (0%) and 1.0 (100%).")),r(i,"class","self-center p-3"),r(e,"class","flex w-full")},m(_,b){J(_,e,b),a(e,t),a(t,n),a(e,o),a(e,i),a(i,d),pe(d,s[1].r),v||(p=re(d,"input",s[6]),v=!0)},p(_,b){b&4&&l!==(l=_[2].t("Minimum Score")+"")&&Y(n,l),b&4&&u!==(u=_[2].t("Enter Score"))&&r(d,"placeholder",u),b&4&&g!==(g=_[2].t("The score should be a value between 0.0 (0%) and 1.0 (100%)."))&&r(d,"title",g),b&2&&vt(d.value)!==_[1].r&&pe(d,_[1].r)},d(_){_&&c(e),v=!1,p()}}}function sl(s){let e,t=s[2].t("Note: If you set a minimum score, the search will only return documents with a score greater than or equal to the minimum score.")+"",l,n,o;return{c(){e=f("div"),l=P(t),n=x(),o=f("hr"),this.h()},l(i){e=h(i,"DIV",{class:!0});var d=m(e);l=j(d,t),d.forEach(c),n=I(i),o=h(i,"HR",{class:!0}),this.h()},h(){r(e,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),r(o,"class","dark:border-gray-700 my-3")},m(i,d){J(i,e,d),a(e,l),J(i,n,d),J(i,o,d)},p(i,d){d&4&&t!==(t=i[2].t("Note: If you set a minimum score, the search will only return documents with a score greater than or equal to the minimum score.")+"")&&Y(l,t)},d(i){i&&(c(e),c(n),c(o))}}}function us(s){let e,t,l,n,o=s[2].t("Query Params")+"",i,d,u,g,v,p=s[2].t("Top K")+"",_,b,y,E,S,V,L,D,M,H,$=s[2].t("RAG Template")+"",Q,F,se,K,A,ae,oe=s[2].t("Save")+"",R,ee,ue,Z=s[1].hybrid===!0&&ll(s),G=s[1].hybrid===!0&&sl(s);return{c(){e=f("form"),t=f("div"),l=f("div"),n=f("div"),i=P(o),d=x(),u=f("div"),g=f("div"),v=f("div"),_=P(p),b=x(),y=f("div"),E=f("input"),V=x(),Z&&Z.c(),L=x(),G&&G.c(),D=x(),M=f("div"),H=f("div"),Q=P($),F=x(),se=f("textarea"),K=x(),A=f("div"),ae=f("button"),R=P(oe),this.h()},l(N){e=h(N,"FORM",{class:!0});var W=m(e);t=h(W,"DIV",{class:!0});var te=m(t);l=h(te,"DIV",{class:!0});var z=m(l);n=h(z,"DIV",{class:!0});var T=m(n);i=j(T,o),T.forEach(c),d=I(z),u=h(z,"DIV",{class:!0});var w=m(u);g=h(w,"DIV",{class:!0});var B=m(g);v=h(B,"DIV",{class:!0});var le=m(v);_=j(le,p),le.forEach(c),b=I(B),y=h(B,"DIV",{class:!0});var U=m(y);E=h(U,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),U.forEach(c),B.forEach(c),V=I(w),Z&&Z.l(w),w.forEach(c),L=I(z),G&&G.l(z),D=I(z),M=h(z,"DIV",{});var q=m(M);H=h(q,"DIV",{class:!0});var fe=m(H);Q=j(fe,$),fe.forEach(c),F=I(q),se=h(q,"TEXTAREA",{class:!0,rows:!0}),m(se).forEach(c),q.forEach(c),z.forEach(c),te.forEach(c),K=I(W),A=h(W,"DIV",{class:!0});var ie=m(A);ae=h(ie,"BUTTON",{class:!0,type:!0});var X=m(ae);R=j(X,oe),X.forEach(c),ie.forEach(c),W.forEach(c),this.h()},h(){r(n,"class","text-sm font-medium"),r(v,"class","self-center text-xs font-medium min-w-fit"),r(E,"class","w-full rounded-lg py-1.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(E,"type","number"),r(E,"placeholder",S=s[2].t("Enter Top K")),r(E,"autocomplete","off"),r(E,"min","0"),r(y,"class","self-center p-3"),r(g,"class","flex w-full justify-between"),r(u,"class","flex"),r(H,"class","mb-2.5 text-sm font-medium"),r(se,"class","w-full rounded-lg px-4 py-3 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none resize-none"),r(se,"rows","4"),r(l,"class",""),r(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-[25rem]"),r(ae,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),r(ae,"type","submit"),r(A,"class","flex justify-end pt-3 text-sm font-medium"),r(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(N,W){J(N,e,W),a(e,t),a(t,l),a(l,n),a(n,i),a(l,d),a(l,u),a(u,g),a(g,v),a(v,_),a(g,b),a(g,y),a(y,E),pe(E,s[1].k),a(u,V),Z&&Z.m(u,null),a(l,L),G&&G.m(l,null),a(l,D),a(l,M),a(M,H),a(H,Q),a(M,F),a(M,se),pe(se,s[1].template),a(e,K),a(e,A),a(A,ae),a(ae,R),ee||(ue=[re(E,"input",s[5]),re(se,"input",s[7]),re(e,"submit",Tt(s[8]))],ee=!0)},p(N,[W]){W&4&&o!==(o=N[2].t("Query Params")+"")&&Y(i,o),W&4&&p!==(p=N[2].t("Top K")+"")&&Y(_,p),W&4&&S!==(S=N[2].t("Enter Top K"))&&r(E,"placeholder",S),W&2&&vt(E.value)!==N[1].k&&pe(E,N[1].k),N[1].hybrid===!0?Z?Z.p(N,W):(Z=ll(N),Z.c(),Z.m(u,null)):Z&&(Z.d(1),Z=null),N[1].hybrid===!0?G?G.p(N,W):(G=sl(N),G.c(),G.m(l,D)):G&&(G.d(1),G=null),W&4&&$!==($=N[2].t("RAG Template")+"")&&Y(Q,$),W&2&&pe(se,N[1].template),W&4&&oe!==(oe=N[2].t("Save")+"")&&Y(R,oe)},i:Je,o:Je,d(N){N&&c(e),Z&&Z.d(),G&&G.d(),ee=!1,et(ue)}}}function ds(s,e,t){let l;const n=mt("i18n");st(s,n,_=>t(2,l=_));let{saveHandler:o}=e,i={template:"",r:0,k:4,hybrid:!1};const d=async()=>{t(1,i=await bl(localStorage.token,i))};yt(async()=>{t(1,i=await _l(localStorage.token))});function u(){i.k=vt(this.value),t(1,i)}function g(){i.r=vt(this.value),t(1,i)}function v(){i.template=this.value,t(1,i)}const p=()=>{d(),o()};return s.$$set=_=>{"saveHandler"in _&&t(0,o=_.saveHandler)},[o,i,l,n,d,u,g,v,p]}class fs extends it{constructor(e){super(),ct(this,e,ds,us,at,{saveHandler:0})}}function hs(s){let e,t=s[3].t("Off")+"",l;return{c(){e=f("span"),l=P(t),this.h()},l(n){e=h(n,"SPAN",{class:!0});var o=m(e);l=j(o,t),o.forEach(c),this.h()},h(){r(e,"class","ml-2 self-center")},m(n,o){J(n,e,o),a(e,l)},p(n,o){o&8&&t!==(t=n[3].t("Off")+"")&&Y(l,t)},d(n){n&&c(e)}}}function vs(s){let e,t=s[3].t("On")+"",l;return{c(){e=f("span"),l=P(t),this.h()},l(n){e=h(n,"SPAN",{class:!0});var o=m(e);l=j(o,t),o.forEach(c),this.h()},h(){r(e,"class","ml-2 self-center")},m(n,o){J(n,e,o),a(e,l)},p(n,o){o&8&&t!==(t=n[3].t("On")+"")&&Y(l,t)},d(n){n&&c(e)}}}function ms(s){let e,t,l,n,o=s[3].t("Web Loader Settings")+"",i,d,u,g,v,p=s[3].t("Bypass SSL verification for Websites")+"",_,b,y,E,S,V=s[3].t("Youtube Loader Settings")+"",L,D,M,H,$,Q=s[3].t("Language")+"",F,se,K,A,ae,oe,R,ee,ue=s[3].t("Save")+"",Z,G,N;function W(T,w){return T[1]===!0?vs:hs}let te=W(s),z=te(s);return{c(){e=f("form"),t=f("div"),l=f("div"),n=f("div"),i=P(o),d=x(),u=f("div"),g=f("div"),v=f("div"),_=P(p),b=x(),y=f("button"),z.c(),E=x(),S=f("div"),L=P(V),D=x(),M=f("div"),H=f("div"),$=f("div"),F=P(Q),se=x(),K=f("div"),A=f("input"),oe=x(),R=f("div"),ee=f("button"),Z=P(ue),this.h()},l(T){e=h(T,"FORM",{class:!0});var w=m(e);t=h(w,"DIV",{class:!0});var B=m(t);l=h(B,"DIV",{});var le=m(l);n=h(le,"DIV",{class:!0});var U=m(n);i=j(U,o),U.forEach(c),d=I(le),u=h(le,"DIV",{});var q=m(u);g=h(q,"DIV",{class:!0});var fe=m(g);v=h(fe,"DIV",{class:!0});var ie=m(v);_=j(ie,p),ie.forEach(c),b=I(fe),y=h(fe,"BUTTON",{class:!0,type:!0});var X=m(y);z.l(X),X.forEach(c),fe.forEach(c),q.forEach(c),E=I(le),S=h(le,"DIV",{class:!0});var ne=m(S);L=j(ne,V),ne.forEach(c),D=I(le),M=h(le,"DIV",{});var O=m(M);H=h(O,"DIV",{class:!0});var ce=m(H);$=h(ce,"DIV",{class:!0});var he=m($);F=j(he,Q),he.forEach(c),se=I(ce),K=h(ce,"DIV",{class:!0});var Ve=m(K);A=h(Ve,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),Ve.forEach(c),ce.forEach(c),O.forEach(c),le.forEach(c),B.forEach(c),oe=I(w),R=h(w,"DIV",{class:!0});var we=m(R);ee=h(we,"BUTTON",{class:!0,type:!0});var ke=m(ee);Z=j(ke,ue),ke.forEach(c),we.forEach(c),w.forEach(c),this.h()},h(){r(n,"class","mb-1 text-sm font-medium"),r(v,"class","self-center text-xs font-medium"),r(y,"class","p-1 px-3 text-xs flex rounded transition"),r(y,"type","button"),r(g,"class","py-0.5 flex w-full justify-between"),r(S,"class","mt-2 mb-1 text-sm font-medium"),r($,"class","w-20 text-xs font-medium self-center"),r(A,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),r(A,"type","text"),r(A,"placeholder",ae=s[3].t("Enter language codes")),r(A,"autocomplete","off"),r(K,"class","flex-1 self-center"),r(H,"class","py-0.5 flex w-full justify-between"),r(t,"class","space-y-3 pr-1.5 overflow-y-scroll h-full max-h-[22rem]"),r(ee,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),r(ee,"type","submit"),r(R,"class","flex justify-end pt-3 text-sm font-medium"),r(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(T,w){J(T,e,w),a(e,t),a(t,l),a(l,n),a(n,i),a(l,d),a(l,u),a(u,g),a(g,v),a(v,_),a(g,b),a(g,y),z.m(y,null),a(l,E),a(l,S),a(S,L),a(l,D),a(l,M),a(M,H),a(H,$),a($,F),a(H,se),a(H,K),a(K,A),pe(A,s[2]),a(e,oe),a(e,R),a(R,ee),a(ee,Z),G||(N=[re(y,"click",s[6]),re(A,"input",s[7]),re(e,"submit",Tt(s[8]))],G=!0)},p(T,[w]){w&8&&o!==(o=T[3].t("Web Loader Settings")+"")&&Y(i,o),w&8&&p!==(p=T[3].t("Bypass SSL verification for Websites")+"")&&Y(_,p),te===(te=W(T))&&z?z.p(T,w):(z.d(1),z=te(T),z&&(z.c(),z.m(y,null))),w&8&&V!==(V=T[3].t("Youtube Loader Settings")+"")&&Y(L,V),w&8&&Q!==(Q=T[3].t("Language")+"")&&Y(F,Q),w&8&&ae!==(ae=T[3].t("Enter language codes"))&&r(A,"placeholder",ae),w&4&&A.value!==T[2]&&pe(A,T[2]),w&8&&ue!==(ue=T[3].t("Save")+"")&&Y(Z,ue)},i:Je,o:Je,d(T){T&&c(e),z.d(),G=!1,et(N)}}}function ps(s,e,t){let l;const n=mt("i18n");st(s,n,b=>t(3,l=b));let{saveHandler:o}=e,i=!0,d="en",u=null;const g=async()=>{await kl(localStorage.token,{web_loader_ssl_verification:i,youtube:{language:d.split(",").map(b=>b.trim()),translation:u}})};yt(async()=>{const b=await wl(localStorage.token);b&&(t(1,i=b.web_loader_ssl_verification),t(2,d=b.youtube.language.join(",")),u=b.youtube.translation)});const v=()=>{t(1,i=!i),g()};function p(){d=this.value,t(2,d)}const _=()=>{g(),o()};return s.$$set=b=>{"saveHandler"in b&&t(0,o=b.saveHandler)},[o,i,d,l,n,g,v,p,_]}class gs extends it{constructor(e){super(),ct(this,e,ps,ms,at,{saveHandler:0})}}function _s(s){let e,t;return e=new gs({props:{saveHandler:s[12]}}),{c(){ze(e.$$.fragment)},l(l){qe(e.$$.fragment,l)},m(l,n){Fe(e,l,n),t=!0},p(l,n){const o={};n&4&&(o.saveHandler=l[12]),e.$set(o)},i(l){t||(be(e.$$.fragment,l),t=!0)},o(l){Ee(e.$$.fragment,l),t=!1},d(l){Ge(e,l)}}}function bs(s){let e,t;return e=new fs({props:{saveHandler:s[11]}}),{c(){ze(e.$$.fragment)},l(l){qe(e.$$.fragment,l)},m(l,n){Fe(e,l,n),t=!0},p(l,n){const o={};n&4&&(o.saveHandler=l[11]),e.$set(o)},i(l){t||(be(e.$$.fragment,l),t=!0)},o(l){Ee(e.$$.fragment,l),t=!1},d(l){Ge(e,l)}}}function ws(s){let e,t;return e=new cs({props:{saveHandler:s[10]}}),{c(){ze(e.$$.fragment)},l(l){qe(e.$$.fragment,l)},m(l,n){Fe(e,l,n),t=!0},p(l,n){const o={};n&4&&(o.saveHandler=l[10]),e.$set(o)},i(l){t||(be(e.$$.fragment,l),t=!0)},o(l){Ee(e.$$.fragment,l),t=!1},d(l){Ge(e,l)}}}function ks(s){let e,t;return e=new ns({props:{saveHandler:s[9]}}),{c(){ze(e.$$.fragment)},l(l){qe(e.$$.fragment,l)},m(l,n){Fe(e,l,n),t=!0},p(l,n){const o={};n&4&&(o.saveHandler=l[9]),e.$set(o)},i(l){t||(be(e.$$.fragment,l),t=!0)},o(l){Ee(e.$$.fragment,l),t=!1},d(l){Ge(e,l)}}}function ys(s){let e,t,l,n=s[2].t("Document Settings")+"",o,i,d,u='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',g,v,p,_,b,y='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M6.955 1.45A.5.5 0 0 1 7.452 1h1.096a.5.5 0 0 1 .497.45l.17 1.699c.484.12.94.312 1.356.562l1.321-1.081a.5.5 0 0 1 .67.033l.774.775a.5.5 0 0 1 .034.67l-1.08 1.32c.25.417.44.873.561 1.357l1.699.17a.5.5 0 0 1 .45.497v1.096a.5.5 0 0 1-.45.497l-1.699.17c-.12.484-.312.94-.562 1.356l1.082 1.322a.5.5 0 0 1-.034.67l-.774.774a.5.5 0 0 1-.67.033l-1.322-1.08c-.416.25-.872.44-1.356.561l-.17 1.699a.5.5 0 0 1-.497.45H7.452a.5.5 0 0 1-.497-.45l-.17-1.699a4.973 4.973 0 0 1-1.356-.562L4.108 13.37a.5.5 0 0 1-.67-.033l-.774-.775a.5.5 0 0 1-.034-.67l1.08-1.32a4.971 4.971 0 0 1-.561-1.357l-1.699-.17A.5.5 0 0 1 1 8.548V7.452a.5.5 0 0 1 .45-.497l1.699-.17c.12-.484.312-.94.562-1.356L2.629 4.107a.5.5 0 0 1 .034-.67l.774-.774a.5.5 0 0 1 .67-.033L5.43 3.71a4.97 4.97 0 0 1 1.356-.561l.17-1.699ZM6 8c0 .538.212 1.026.558 1.385l.057.057a2 2 0 0 0 2.828-2.828l-.058-.056A2 2 0 0 0 6 8Z" clip-rule="evenodd"></path></svg>',E,S,V=s[2].t("General")+"",L,D,M,H,$,Q='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875ZM12.75 12a.75.75 0 0 0-1.5 0v2.25H9a.75.75 0 0 0 0 1.5h2.25V18a.75.75 0 0 0 1.5 0v-2.25H15a.75.75 0 0 0 0-1.5h-2.25V12Z" clip-rule="evenodd"></path><path d="M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"></path></svg>',F,se,K=s[2].t("Chunk Params")+"",A,ae,oe,R,ee,ue='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path d="M11.625 16.5a1.875 1.875 0 1 0 0-3.75 1.875 1.875 0 0 0 0 3.75Z"></path><path fill-rule="evenodd" d="M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875Zm6 16.5c.66 0 1.277-.19 1.797-.518l1.048 1.048a.75.75 0 0 0 1.06-1.06l-1.047-1.048A3.375 3.375 0 1 0 11.625 18Z" clip-rule="evenodd"></path><path d="M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"></path></svg>',Z,G,N=s[2].t("Query Params")+"",W,te,z,T,w,B='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path d="M21.721 12.752a9.711 9.711 0 0 0-.945-5.003 12.754 12.754 0 0 1-4.339 2.708 18.991 18.991 0 0 1-.214 4.772 17.165 17.165 0 0 0 5.498-2.477ZM14.634 15.55a17.324 17.324 0 0 0 .332-4.647c-.952.227-1.945.347-2.966.347-1.021 0-2.014-.12-2.966-.347a17.515 17.515 0 0 0 .332 4.647 17.385 17.385 0 0 0 5.268 0ZM9.772 17.119a18.963 18.963 0 0 0 4.456 0A17.182 17.182 0 0 1 12 21.724a17.18 17.18 0 0 1-2.228-4.605ZM7.777 15.23a18.87 18.87 0 0 1-.214-4.774 12.753 12.753 0 0 1-4.34-2.708 9.711 9.711 0 0 0-.944 5.004 17.165 17.165 0 0 0 5.498 2.477ZM21.356 14.752a9.765 9.765 0 0 1-7.478 6.817 18.64 18.64 0 0 0 1.988-4.718 18.627 18.627 0 0 0 5.49-2.098ZM2.644 14.752c1.682.971 3.53 1.688 5.49 2.099a18.64 18.64 0 0 0 1.988 4.718 9.765 9.765 0 0 1-7.478-6.816ZM13.878 2.43a9.755 9.755 0 0 1 6.116 3.986 11.267 11.267 0 0 1-3.746 2.504 18.63 18.63 0 0 0-2.37-6.49ZM12 2.276a17.152 17.152 0 0 1 2.805 7.121c-.897.23-1.837.353-2.805.353-.968 0-1.908-.122-2.805-.353A17.151 17.151 0 0 1 12 2.276ZM10.122 2.43a18.629 18.629 0 0 0-2.37 6.49 11.266 11.266 0 0 1-3.746-2.504 9.754 9.754 0 0 1 6.116-3.985Z"></path></svg>',le,U,q=s[2].t("Web Params")+"",fe,ie,X,ne,O,ce,he,Ve,we;const ke=[ks,ws,bs,_s],ge=[];function Be(de,ve){return de[1]==="general"?0:de[1]==="chunk"?1:de[1]==="query"?2:de[1]==="web"?3:-1}return~(O=Be(s))&&(ce=ge[O]=ke[O](s)),{c(){e=f("div"),t=f("div"),l=f("div"),o=P(n),i=x(),d=f("button"),d.innerHTML=u,g=x(),v=f("div"),p=f("div"),_=f("button"),b=f("div"),b.innerHTML=y,E=x(),S=f("div"),L=P(V),M=x(),H=f("button"),$=f("div"),$.innerHTML=Q,F=x(),se=f("div"),A=P(K),oe=x(),R=f("button"),ee=f("div"),ee.innerHTML=ue,Z=x(),G=f("div"),W=P(N),z=x(),T=f("button"),w=f("div"),w.innerHTML=B,le=x(),U=f("div"),fe=P(q),X=x(),ne=f("div"),ce&&ce.c(),this.h()},l(de){e=h(de,"DIV",{});var ve=m(e);t=h(ve,"DIV",{class:!0});var Ce=m(t);l=h(Ce,"DIV",{class:!0});var je=m(l);o=j(je,n),je.forEach(c),i=I(Ce),d=h(Ce,"BUTTON",{class:!0,"data-svelte-h":!0}),Oe(d)!=="svelte-745w2y"&&(d.innerHTML=u),Ce.forEach(c),g=I(ve),v=h(ve,"DIV",{class:!0});var Te=m(v);p=h(Te,"DIV",{class:!0});var He=m(p);_=h(He,"BUTTON",{class:!0});var Ne=m(_);b=h(Ne,"DIV",{class:!0,"data-svelte-h":!0}),Oe(b)!=="svelte-1k1ieum"&&(b.innerHTML=y),E=I(Ne),S=h(Ne,"DIV",{class:!0});var Ue=m(S);L=j(Ue,V),Ue.forEach(c),Ne.forEach(c),M=I(He),H=h(He,"BUTTON",{class:!0});var Qe=m(H);$=h(Qe,"DIV",{class:!0,"data-svelte-h":!0}),Oe($)!=="svelte-sarula"&&($.innerHTML=Q),F=I(Qe),se=h(Qe,"DIV",{class:!0});var We=m(se);A=j(We,K),We.forEach(c),Qe.forEach(c),oe=I(He),R=h(He,"BUTTON",{class:!0});var tt=m(R);ee=h(tt,"DIV",{class:!0,"data-svelte-h":!0}),Oe(ee)!=="svelte-1ray9mb"&&(ee.innerHTML=ue),Z=I(tt),G=h(tt,"DIV",{class:!0});var Ze=m(G);W=j(Ze,N),Ze.forEach(c),tt.forEach(c),z=I(He),T=h(He,"BUTTON",{class:!0});var Ie=m(T);w=h(Ie,"DIV",{class:!0,"data-svelte-h":!0}),Oe(w)!=="svelte-17j0plg"&&(w.innerHTML=B),le=I(Ie),U=h(Ie,"DIV",{class:!0});var Le=m(U);fe=j(Le,q),Le.forEach(c),Ie.forEach(c),He.forEach(c),X=I(Te),ne=h(Te,"DIV",{class:!0});var De=m(ne);ce&&ce.l(De),De.forEach(c),Te.forEach(c),ve.forEach(c),this.h()},h(){r(l,"class","text-lg font-medium self-center"),r(d,"class","self-center"),r(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4"),r(b,"class","self-center mr-2"),r(S,"class","self-center"),r(_,"class",D="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="general"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),r($,"class","self-center mr-2"),r(se,"class","self-center"),r(H,"class",ae="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="chunk"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),r(ee,"class","self-center mr-2"),r(G,"class","self-center"),r(R,"class",te="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="query"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),r(w,"class","self-center mr-2"),r(U,"class","self-center"),r(T,"class",ie="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="web"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),r(p,"class","tabs flex flex-row overflow-x-auto space-x-1 md:space-x-0 md:space-y-1 md:flex-col flex-1 md:flex-none md:w-40 dark:text-gray-200 text-xs text-left mb-3 md:mb-0"),r(ne,"class","flex-1 md:min-h-[380px]"),r(v,"class","flex flex-col md:flex-row w-full p-4 md:space-x-4")},m(de,ve){J(de,e,ve),a(e,t),a(t,l),a(l,o),a(t,i),a(t,d),a(e,g),a(e,v),a(v,p),a(p,_),a(_,b),a(_,E),a(_,S),a(S,L),a(p,M),a(p,H),a(H,$),a(H,F),a(H,se),a(se,A),a(p,oe),a(p,R),a(R,ee),a(R,Z),a(R,G),a(G,W),a(p,z),a(p,T),a(T,w),a(T,le),a(T,U),a(U,fe),a(v,X),a(v,ne),~O&&ge[O].m(ne,null),he=!0,Ve||(we=[re(d,"click",s[4]),re(_,"click",s[5]),re(H,"click",s[6]),re(R,"click",s[7]),re(T,"click",s[8])],Ve=!0)},p(de,ve){(!he||ve&4)&&n!==(n=de[2].t("Document Settings")+"")&&Y(o,n),(!he||ve&4)&&V!==(V=de[2].t("General")+"")&&Y(L,V),(!he||ve&2&&D!==(D="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(de[1]==="general"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&r(_,"class",D),(!he||ve&4)&&K!==(K=de[2].t("Chunk Params")+"")&&Y(A,K),(!he||ve&2&&ae!==(ae="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(de[1]==="chunk"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&r(H,"class",ae),(!he||ve&4)&&N!==(N=de[2].t("Query Params")+"")&&Y(W,N),(!he||ve&2&&te!==(te="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(de[1]==="query"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&r(R,"class",te),(!he||ve&4)&&q!==(q=de[2].t("Web Params")+"")&&Y(fe,q),(!he||ve&2&&ie!==(ie="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(de[1]==="web"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&r(T,"class",ie);let Ce=O;O=Be(de),O===Ce?~O&&ge[O].p(de,ve):(ce&&(Ct(),Ee(ge[Ce],1,1,()=>{ge[Ce]=null}),At()),~O?(ce=ge[O],ce?ce.p(de,ve):(ce=ge[O]=ke[O](de),ce.c()),be(ce,1),ce.m(ne,null)):ce=null)},i(de){he||(be(ce),he=!0)},o(de){Ee(ce),he=!1},d(de){de&&c(e),~O&&ge[O].d(),Ve=!1,et(we)}}}function Es(s){let e,t,l;function n(i){s[13](i)}let o={$$slots:{default:[ys]},$$scope:{ctx:s}};return s[0]!==void 0&&(o.show=s[0]),e=new Zt({props:o}),ht.push(()=>It(e,"show",n)),{c(){ze(e.$$.fragment)},l(i){qe(e.$$.fragment,i)},m(i,d){Fe(e,i,d),l=!0},p(i,[d]){const u={};d&16391&&(u.$$scope={dirty:d,ctx:i}),!t&&d&1&&(t=!0,u.show=i[0],xt(()=>t=!1)),e.$set(u)},i(i){l||(be(e.$$.fragment,i),l=!0)},o(i){Ee(e.$$.fragment,i),l=!1},d(i){Ge(e,i)}}}function Ds(s,e,t){let l;const n=mt("i18n");st(s,n,V=>t(2,l=V));let{show:o=!1}=e,i="general";const d=()=>{t(0,o=!1)},u=()=>{t(1,i="general")},g=()=>{t(1,i="chunk")},v=()=>{t(1,i="query")},p=()=>{t(1,i="web")},_=()=>{ye.success(l.t("Settings saved successfully!"))},b=()=>{ye.success(l.t("Settings saved successfully!"))},y=()=>{ye.success(l.t("Settings saved successfully!"))},E=()=>{ye.success(l.t("Settings saved successfully!"))};function S(V){o=V,t(0,o)}return s.$$set=V=>{"show"in V&&t(0,o=V.show)},[o,i,l,n,d,u,g,v,p,_,b,y,E,S]}class xs extends it{constructor(e){super(),ct(this,e,Ds,Es,at,{show:0})}}function Is(s){let e=s[4].t("Click here to select documents.")+"",t;return{c(){t=P(e)},l(l){t=j(l,e)},m(l,n){J(l,t,n)},p(l,n){n&16&&e!==(e=l[4].t("Click here to select documents.")+"")&&Y(t,e)},d(l){l&&c(t)}}}function Vs(s){let e=s[2].length>0?`${s[2].length}`:"",t,l;return{c(){t=P(e),l=P(" document(s) selected.")},l(n){t=j(n,e),l=j(n," document(s) selected.")},m(n,o){J(n,t,o),J(n,l,o)},p(n,o){o&4&&e!==(e=n[2].length>0?`${n[2].length}`:"")&&Y(t,e)},d(n){n&&(c(t),c(l))}}}function Ts(s){let e,t,l,n=s[4].t("Add Docs")+"",o,i,d,u='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',g,v,p,_,b,y,E,S,V,L,D,M,H=s[4].t("Tags")+"",$,Q,F,se,K,A,ae=s[4].t("Save")+"",oe,R,ee,ue;function Z(W,te){return W[2]?Vs:Is}let G=Z(s),N=G(s);return F=new Dl({props:{tags:s[3],addTag:s[7],deleteTag:s[8]}}),{c(){e=f("div"),t=f("div"),l=f("div"),o=P(n),i=x(),d=f("button"),d.innerHTML=u,g=x(),v=f("div"),p=f("div"),_=f("form"),b=f("div"),y=f("input"),E=x(),S=f("button"),N.c(),V=x(),L=f("div"),D=f("div"),M=f("div"),$=P(H),Q=x(),ze(F.$$.fragment),se=x(),K=f("div"),A=f("button"),oe=P(ae),this.h()},l(W){e=h(W,"DIV",{});var te=m(e);t=h(te,"DIV",{class:!0});var z=m(t);l=h(z,"DIV",{class:!0});var T=m(l);o=j(T,n),T.forEach(c),i=I(z),d=h(z,"BUTTON",{class:!0,"data-svelte-h":!0}),Oe(d)!=="svelte-745w2y"&&(d.innerHTML=u),z.forEach(c),g=I(te),v=h(te,"DIV",{class:!0});var w=m(v);p=h(w,"DIV",{class:!0});var B=m(p);_=h(B,"FORM",{class:!0});var le=m(_);b=h(le,"DIV",{class:!0});var U=m(b);y=h(U,"INPUT",{id:!0,type:!0,class:!0}),E=I(U),S=h(U,"BUTTON",{class:!0,type:!0});var q=m(S);N.l(q),q.forEach(c),U.forEach(c),V=I(le),L=h(le,"DIV",{class:!0});var fe=m(L);D=h(fe,"DIV",{class:!0});var ie=m(D);M=h(ie,"DIV",{class:!0});var X=m(M);$=j(X,H),X.forEach(c),Q=I(ie),qe(F.$$.fragment,ie),ie.forEach(c),fe.forEach(c),se=I(le),K=h(le,"DIV",{class:!0});var ne=m(K);A=h(ne,"BUTTON",{class:!0,type:!0});var O=m(A);oe=j(O,ae),O.forEach(c),ne.forEach(c),le.forEach(c),B.forEach(c),w.forEach(c),te.forEach(c),this.h()},h(){r(l,"class","text-lg font-medium self-center"),r(d,"class","self-center"),r(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4"),r(y,"id","upload-doc-input"),y.hidden=!0,r(y,"type","file"),y.multiple=!0,r(y,"class","svelte-1vx7r9s"),r(S,"class","w-full text-sm font-medium py-3 bg-gray-100 hover:bg-gray-200 dark:bg-gray-850 dark:hover:bg-gray-800 text-center rounded-xl"),r(S,"type","button"),r(b,"class","mb-3 w-full"),r(M,"class","mb-1.5 text-xs text-gray-500"),r(D,"class","flex flex-col w-full"),r(L,"class","flex flex-col space-y-1.5"),r(A,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),r(A,"type","submit"),r(K,"class","flex justify-end pt-5 text-sm font-medium"),r(_,"class","flex flex-col w-full"),r(p,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),r(v,"class","flex flex-col md:flex-row w-full px-5 py-4 md:space-x-4 dark:text-gray-200")},m(W,te){J(W,e,te),a(e,t),a(t,l),a(l,o),a(t,i),a(t,d),a(e,g),a(e,v),a(v,p),a(p,_),a(_,b),a(b,y),s[10](y),a(b,E),a(b,S),N.m(S,null),a(_,V),a(_,L),a(L,D),a(D,M),a(M,$),a(D,Q),Fe(F,D,null),a(_,se),a(_,K),a(K,A),a(A,oe),R=!0,ee||(ue=[re(d,"click",s[9]),re(y,"change",s[11]),re(S,"click",s[12]),re(_,"submit",Tt(s[13]))],ee=!0)},p(W,te){(!R||te&16)&&n!==(n=W[4].t("Add Docs")+"")&&Y(o,n),G===(G=Z(W))&&N?N.p(W,te):(N.d(1),N=G(W),N&&(N.c(),N.m(S,null))),(!R||te&16)&&H!==(H=W[4].t("Tags")+"")&&Y($,H);const z={};te&8&&(z.tags=W[3]),F.$set(z),(!R||te&16)&&ae!==(ae=W[4].t("Save")+"")&&Y(oe,ae)},i(W){R||(be(F.$$.fragment,W),R=!0)},o(W){Ee(F.$$.fragment,W),R=!1},d(W){W&&c(e),s[10](null),N.d(),Ge(F),ee=!1,et(ue)}}}function Ms(s){let e,t,l;function n(i){s[14](i)}let o={size:"sm",$$slots:{default:[Ts]},$$scope:{ctx:s}};return s[0]!==void 0&&(o.show=s[0]),e=new Zt({props:o}),ht.push(()=>It(e,"show",n)),{c(){ze(e.$$.fragment)},l(i){qe(e.$$.fragment,i)},m(i,d){Fe(e,i,d),l=!0},p(i,[d]){const u={};d&131103&&(u.$$scope={dirty:d,ctx:i}),!t&&d&1&&(t=!0,u.show=i[0],xt(()=>t=!1)),e.$set(u)},i(i){l||(be(e.$$.fragment,i),l=!0)},o(i){Ee(e.$$.fragment,i),l=!1},d(i){Ge(e,i)}}}function Ss(s,e,t){let l;const n=mt("i18n");st(s,n,D=>t(4,l=D));let{show:o=!1}=e,i,d,u=[];const g=async D=>{const M=await yl(localStorage.token,"",D).catch(H=>(ye.error(H),null));M&&(await Pt(localStorage.token,M.collection_name,M.filename,El(M.filename),M.filename,u.length>0?{tags:u}:null).catch(H=>(ye.error(H),null)),await $e.set(await ot(localStorage.token)))},v=async()=>{if(d&&d.length>0){for(const D of d)console.log(D,D.name.split(".").at(-1)),pl.includes(D.type)||gl.includes(D.name.split(".").at(-1))||ye.error(`Unknown File Type '${D.type}', but accepting and treating as plain text`),g(D);t(2,d=null),t(1,i.value="",i)}else ye.error(l.t("File not found."));t(0,o=!1),$e.set(await ot(localStorage.token))},p=async D=>{!u.find(M=>M.name===D)&&D!==""?t(3,u=[...u,{name:D}]):console.log("tag already exists")},_=async D=>{t(3,u=u.filter(M=>M.name!==D))};yt(()=>{});const b=()=>{t(0,o=!1)};function y(D){ht[D?"unshift":"push"](()=>{i=D,t(1,i)})}function E(){d=this.files,t(2,d)}const S=()=>{i.click()},V=()=>{v()};function L(D){o=D,t(0,o)}return s.$$set=D=>{"show"in D&&t(0,o=D.show)},[o,i,d,u,l,n,v,p,_,b,y,E,S,V,L]}class Hs extends it{constructor(e){super(),ct(this,e,Ss,Ms,at,{show:0})}}const{document:Ut}=Tl;function al(s,e,t){const l=s.slice();return l[37]=e[t],l[38]=e,l[39]=t,l}function rl(s,e,t){const l=s.slice();return l[40]=e[t],l}function nl(s){let e,t,l,n,o,i;return o=new Pl({props:{$$slots:{default:[Ls]},$$scope:{ctx:s}}}),{c(){e=f("div"),t=f("div"),l=f("div"),n=f("div"),ze(o.$$.fragment),this.h()},l(d){e=h(d,"DIV",{class:!0,id:!0,role:!0,"aria-label":!0});var u=m(e);t=h(u,"DIV",{class:!0});var g=m(t);l=h(g,"DIV",{class:!0});var v=m(l);n=h(v,"DIV",{class:!0});var p=m(n);qe(o.$$.fragment,p),p.forEach(c),v.forEach(c),g.forEach(c),u.forEach(c),this.h()},h(){r(n,"class","max-w-md"),r(l,"class","m-auto pt-64 flex flex-col justify-center"),r(t,"class","absolute rounded-xl w-full h-full backdrop-blur bg-gray-800/40 flex justify-center"),r(e,"class","fixed w-full h-full flex z-50 touch-none pointer-events-none"),r(e,"id","dropzone"),r(e,"role","region"),r(e,"aria-label","Drag and Drop Container")},m(d,u){J(d,e,u),a(e,t),a(t,l),a(l,n),Fe(o,n,null),i=!0},i(d){i||(be(o.$$.fragment,d),i=!0)},o(d){Ee(o.$$.fragment,d),i=!1},d(d){d&&c(e),Ge(o)}}}function Ls(s){let e,t="Drop any files here to add to my documents";return{c(){e=f("div"),e.textContent=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),Oe(e)!=="svelte-19eg75t"&&(e.textContent=t),this.h()},h(){r(e,"class","mt-2 text-center text-sm dark:text-gray-200 w-full")},m(l,n){J(l,e,n)},p:Je,d(l){l&&c(e)}}}function ol(s){let e,t,l;function n(i){s[18](i)}let o={selectedDoc:s[9]};return s[8]!==void 0&&(o.show=s[8]),e=new Wl({props:o}),ht.push(()=>It(e,"show",n)),{c(){ze(e.$$.fragment)},l(i){qe(e.$$.fragment,i)},m(i,d){Fe(e,i,d),l=!0},p(i,d){const u={};d[0]&512&&(u.selectedDoc=i[9]),!t&&d[0]&256&&(t=!0,u.show=i[8],xt(()=>t=!1)),e.$set(u)},i(i){l||(be(e.$$.fragment,i),l=!0)},o(i){Ee(e.$$.fragment,i),l=!1},d(i){Ge(e,i)}}}function il(s){let e,t,l,n,o,i;l=new xl({props:{state:s[11].filter(dl).length===s[11].length?"checked":"unchecked",indeterminate:s[11].filter(fl).length>0&&s[11].filter(hl).length!==s[11].length}}),l.$on("change",s[24]);function d(v,p){return p[0]&2048&&(o=null),o==null&&(o=v[11].filter(Us).length===0),o?Cs:Bs}let u=d(s,[-1,-1]),g=u(s);return{c(){e=f("div"),t=f("div"),ze(l.$$.fragment),n=x(),g.c(),this.h()},l(v){e=h(v,"DIV",{class:!0});var p=m(e);t=h(p,"DIV",{class:!0});var _=m(t);qe(l.$$.fragment,_),_.forEach(c),n=I(p),g.l(p),p.forEach(c),this.h()},h(){r(t,"class","ml-0.5 pr-3 my-auto flex items-center"),r(e,"class","px-2.5 pt-1 flex gap-1 flex-wrap")},m(v,p){J(v,e,p),a(e,t),Fe(l,t,null),a(e,n),g.m(e,null),i=!0},p(v,p){const _={};p[0]&2048&&(_.state=v[11].filter(dl).length===v[11].length?"checked":"unchecked"),p[0]&2048&&(_.indeterminate=v[11].filter(fl).length>0&&v[11].filter(hl).length!==v[11].length),l.$set(_),u===(u=d(v,p))&&g?g.p(v,p):(g.d(1),g=u(v),g&&(g.c(),g.m(e,null)))},i(v){i||(be(l.$$.fragment,v),i=!0)},o(v){Ee(l.$$.fragment,v),i=!1},d(v){v&&c(e),Ge(l),g.d()}}}function Bs(s){let e,t,l=s[11].filter(vl).length+"",n,o,i,d,u,g,v=s[12].t("delete")+"",p,_,b;return{c(){e=f("div"),t=f("div"),n=P(l),o=P(" Selected"),i=x(),d=f("div"),u=f("button"),g=f("div"),p=P(v),this.h()},l(y){e=h(y,"DIV",{class:!0});var E=m(e);t=h(E,"DIV",{class:!0});var S=m(t);n=j(S,l),o=j(S," Selected"),S.forEach(c),i=I(E),d=h(E,"DIV",{class:!0});var V=m(d);u=h(V,"BUTTON",{class:!0});var L=m(u);g=h(L,"DIV",{class:!0});var D=m(g);p=j(D,v),D.forEach(c),L.forEach(c),V.forEach(c),E.forEach(c),this.h()},h(){r(t,"class","text-xs font-medium py-0.5 self-center mr-1"),r(g,"class","text-xs font-medium self-center line-clamp-1"),r(u,"class","px-2 py-0.5 space-x-1 flex h-fit items-center rounded-full transition bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:text-white"),r(d,"class","flex gap-1"),r(e,"class","flex-1 flex w-full justify-between items-center")},m(y,E){J(y,e,E),a(e,t),a(t,n),a(t,o),a(e,i),a(e,d),a(d,u),a(u,g),a(g,p),_||(b=re(u,"click",s[27]),_=!0)},p(y,E){E[0]&2048&&l!==(l=y[11].filter(vl).length+"")&&Y(n,l),E[0]&4096&&v!==(v=y[12].t("delete")+"")&&Y(p,v)},d(y){y&&c(e),_=!1,b()}}}function Cs(s){let e,t,l=s[12].t("all")+"",n,o,i,d,u,g=Vt(s[5]),v=[];for(let p=0;p<g.length;p+=1)v[p]=cl(rl(s,g,p));return{c(){e=f("button"),t=f("div"),n=P(l),o=x();for(let p=0;p<v.length;p+=1)v[p].c();i=Nt(),this.h()},l(p){e=h(p,"BUTTON",{class:!0});var _=m(e);t=h(_,"DIV",{class:!0});var b=m(t);n=j(b,l),b.forEach(c),_.forEach(c),o=I(p);for(let y=0;y<v.length;y+=1)v[y].l(p);i=Nt(),this.h()},h(){r(t,"class","text-xs font-medium self-center line-clamp-1"),r(e,"class","px-2 py-0.5 space-x-1 flex h-fit items-center rounded-full transition bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:text-white")},m(p,_){J(p,e,_),a(e,t),a(t,n),J(p,o,_);for(let b=0;b<v.length;b+=1)v[b]&&v[b].m(p,_);J(p,i,_),d||(u=re(e,"click",s[25]),d=!0)},p(p,_){if(_[0]&4096&&l!==(l=p[12].t("all")+"")&&Y(n,l),_[0]&34){g=Vt(p[5]);let b;for(b=0;b<g.length;b+=1){const y=rl(p,g,b);v[b]?v[b].p(y,_):(v[b]=cl(y),v[b].c(),v[b].m(i.parentNode,i))}for(;b<v.length;b+=1)v[b].d(1);v.length=g.length}},d(p){p&&(c(e),c(o),c(i)),jt(v,p),d=!1,u()}}}function cl(s){let e,t,l,n=s[40]+"",o,i,d,u;function g(){return s[26](s[40])}return{c(){e=f("button"),t=f("div"),l=P("#"),o=P(n),i=x(),this.h()},l(v){e=h(v,"BUTTON",{class:!0});var p=m(e);t=h(p,"DIV",{class:!0});var _=m(t);l=j(_,"#"),o=j(_,n),_.forEach(c),i=I(p),p.forEach(c),this.h()},h(){r(t,"class","text-xs font-medium self-center line-clamp-1"),r(e,"class","px-2 py-0.5 space-x-1 flex h-fit items-center rounded-full transition bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:text-white")},m(v,p){J(v,e,p),a(e,t),a(t,l),a(t,o),a(e,i),d||(u=re(e,"click",g),d=!0)},p(v,p){s=v,p[0]&32&&n!==(n=s[40]+"")&&Y(o,n)},d(v){v&&c(e),d=!1,u()}}}function As(s){let e,t,l,n,o,i;return{c(){e=Me("svg"),t=Me("style"),l=P(`.spinner_qM83 {
										animation: spinner_8HQG 1.05s infinite;
									}
									.spinner_oXPr {
										animation-delay: 0.1s;
									}
									.spinner_ZTLf {
										animation-delay: 0.2s;
									}
									@keyframes spinner_8HQG {
										0%,
										57.14% {
											animation-timing-function: cubic-bezier(0.33, 0.66, 0.66, 1);
											transform: translate(0);
										}
										28.57% {
											animation-timing-function: cubic-bezier(0.33, 0, 0.66, 0.33);
											transform: translateY(-6px);
										}
										100% {
											transform: translate(0);
										}
									}
								`),n=Me("circle"),o=Me("circle"),i=Me("circle"),this.h()},l(d){e=Se(d,"svg",{class:!0,fill:!0,viewBox:!0,xmlns:!0});var u=m(e);t=Se(u,"style",{});var g=m(t);l=j(g,`.spinner_qM83 {
										animation: spinner_8HQG 1.05s infinite;
									}
									.spinner_oXPr {
										animation-delay: 0.1s;
									}
									.spinner_ZTLf {
										animation-delay: 0.2s;
									}
									@keyframes spinner_8HQG {
										0%,
										57.14% {
											animation-timing-function: cubic-bezier(0.33, 0.66, 0.66, 1);
											transform: translate(0);
										}
										28.57% {
											animation-timing-function: cubic-bezier(0.33, 0, 0.66, 0.33);
											transform: translateY(-6px);
										}
										100% {
											transform: translate(0);
										}
									}
								`),g.forEach(c),n=Se(u,"circle",{class:!0,cx:!0,cy:!0,r:!0}),m(n).forEach(c),o=Se(u,"circle",{class:!0,cx:!0,cy:!0,r:!0}),m(o).forEach(c),i=Se(u,"circle",{class:!0,cx:!0,cy:!0,r:!0}),m(i).forEach(c),u.forEach(c),this.h()},h(){r(n,"class","spinner_qM83"),r(n,"cx","4"),r(n,"cy","12"),r(n,"r","2.5"),r(o,"class","spinner_qM83 spinner_oXPr"),r(o,"cx","12"),r(o,"cy","12"),r(o,"r","2.5"),r(i,"class","spinner_qM83 spinner_ZTLf"),r(i,"cx","20"),r(i,"cy","12"),r(i,"r","2.5"),r(e,"class","w-6 h-6 translate-y-[0.5px]"),r(e,"fill","currentColor"),r(e,"viewBox","0 0 24 24"),r(e,"xmlns","http://www.w3.org/2000/svg")},m(d,u){J(d,e,u),a(e,t),a(t,l),a(e,n),a(e,o),a(e,i)},d(d){d&&c(e)}}}function Os(s){let e,t,l;return{c(){e=Me("svg"),t=Me("path"),l=Me("path"),this.h()},l(n){e=Se(n,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var o=m(e);t=Se(o,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),m(t).forEach(c),l=Se(o,"path",{d:!0}),m(l).forEach(c),o.forEach(c),this.h()},h(){r(t,"fill-rule","evenodd"),r(t,"d","M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z"),r(t,"clip-rule","evenodd"),r(l,"d","M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"),r(e,"xmlns","http://www.w3.org/2000/svg"),r(e,"viewBox","0 0 24 24"),r(e,"fill","currentColor"),r(e,"class","w-6 h-6")},m(n,o){J(n,e,o),a(e,t),a(e,l)},d(n){n&&c(e)}}}function ul(s){var T;let e,t,l,n,o,i,d,u,g,v,p,_=s[37].name+"",b,y,E=s[37].filename+"",S,V,L,D,M=s[37].title+"",H,$,Q,F,se='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"></path></svg>',K,A,ae='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"></path></svg>',oe,R,ee,ue;l=new xl({props:{state:((T=s[37])==null?void 0:T.selected)??"unchecked"}});function Z(w,B){return w[37]?Os:As}let G=Z(s),N=G(s);function W(...w){return s[28](s[37],...w)}function te(...w){return s[29](s[37],...w)}function z(){return s[30](s[37],s[38],s[39])}return{c(){e=f("button"),t=f("div"),ze(l.$$.fragment),n=x(),o=f("div"),i=f("div"),d=f("div"),N.c(),u=x(),g=f("div"),v=f("div"),p=P("#"),b=P(_),y=P(" ("),S=P(E),V=P(")"),L=x(),D=f("div"),H=P(M),$=x(),Q=f("div"),F=f("button"),F.innerHTML=se,K=x(),A=f("button"),A.innerHTML=ae,oe=x(),this.h()},l(w){e=h(w,"BUTTON",{class:!0});var B=m(e);t=h(B,"DIV",{class:!0});var le=m(t);qe(l.$$.fragment,le),le.forEach(c),n=I(B),o=h(B,"DIV",{class:!0});var U=m(o);i=h(U,"DIV",{class:!0});var q=m(i);d=h(q,"DIV",{class:!0});var fe=m(d);N.l(fe),fe.forEach(c),u=I(q),g=h(q,"DIV",{class:!0});var ie=m(g);v=h(ie,"DIV",{class:!0});var X=m(v);p=j(X,"#"),b=j(X,_),y=j(X," ("),S=j(X,E),V=j(X,")"),X.forEach(c),L=I(ie),D=h(ie,"DIV",{class:!0});var ne=m(D);H=j(ne,M),ne.forEach(c),ie.forEach(c),q.forEach(c),U.forEach(c),$=I(B),Q=h(B,"DIV",{class:!0});var O=m(Q);F=h(O,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Oe(F)!=="svelte-105zedk"&&(F.innerHTML=se),K=I(O),A=h(O,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Oe(A)!=="svelte-13wl5iz"&&(A.innerHTML=ae),O.forEach(c),oe=I(B),B.forEach(c),this.h()},h(){r(t,"class","my-auto flex items-center"),r(d,"class","p-2.5 bg-red-400 text-white rounded-lg"),r(v,"class","font-bold line-clamp-1"),r(D,"class","text-xs overflow-hidden text-ellipsis line-clamp-1"),r(g,"class","self-center flex-1"),r(i,"class","flex items-center space-x-3"),r(o,"class","flex flex-1 space-x-4 cursor-pointer w-full"),r(F,"class","self-center w-fit text-sm z-20 px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),r(F,"type","button"),r(A,"class","self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),r(A,"type","button"),r(Q,"class","flex flex-row space-x-1 self-center"),r(e,"class","flex space-x-4 cursor-pointer text-left w-full px-3 py-2 dark:hover:bg-white/5 hover:bg-black/5 rounded-xl")},m(w,B){J(w,e,B),a(e,t),Fe(l,t,null),a(e,n),a(e,o),a(o,i),a(i,d),N.m(d,null),a(i,u),a(i,g),a(g,v),a(v,p),a(v,b),a(v,y),a(v,S),a(v,V),a(g,L),a(g,D),a(D,H),a(e,$),a(e,Q),a(Q,F),a(Q,K),a(Q,A),a(e,oe),R=!0,ee||(ue=[re(F,"click",W),re(A,"click",te),re(e,"click",z)],ee=!0)},p(w,B){var U;s=w;const le={};B[0]&2048&&(le.state=((U=s[37])==null?void 0:U.selected)??"unchecked"),l.$set(le),G!==(G=Z(s))&&(N.d(1),N=G(s),N&&(N.c(),N.m(d,null))),(!R||B[0]&2048)&&_!==(_=s[37].name+"")&&Y(b,_),(!R||B[0]&2048)&&E!==(E=s[37].filename+"")&&Y(S,E),(!R||B[0]&2048)&&M!==(M=s[37].title+"")&&Y(H,M)},i(w){R||(be(l.$$.fragment,w),R=!0)},o(w){Ee(l.$$.fragment,w),R=!1},d(w){w&&c(e),Ge(l),N.d(),ee=!1,et(ue)}}}function Ns(s){let e,t,l,n=s[9],o,i,d,u,g,v,p,_,b,y,E=s[12].t("Documents")+"",S,V,L,D,M,H,$,Q,F=s[12].t("Document Settings")+"",se,K,A,ae,oe=s[12].t("Use '#' in the prompt input to load and select your documents.")+"",R,ee,ue,Z,G,N='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',W,te,z,T,w,B,le='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',U,q,fe,ie,X,ne,O,ce,he,Ve,we,ke,ge=s[12].t("Import Documents Mapping")+"",Be,de,ve,Ce='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg>',je,Te,He,Ne=s[12].t("Export Documents Mapping")+"",Ue,Qe,We,tt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg>',Ze,Ie,Le;Ut.title=e=`
		`+s[12].t("Documents")+" | "+s[13]+`
	`;let De=s[10]&&nl(s),Re=ol(s);function Ke(k){s[19](k)}let Mt={};s[7]!==void 0&&(Mt.show=s[7]),i=new Hs({props:Mt}),ht.push(()=>It(i,"show",Ke));function Et(k){s[20](k)}let Ye={};s[6]!==void 0&&(Ye.show=s[6]),g=new xs({props:Ye}),ht.push(()=>It(g,"show",Et));let me=s[5].length>0&&il(s),rt=Vt(s[11]),_e=[];for(let k=0;k<rt.length;k+=1)_e[k]=ul(al(s,rt,k));const Xe=k=>Ee(_e[k],1,1,()=>{_e[k]=null});return{c(){t=x(),De&&De.c(),l=x(),Re.c(),o=x(),ze(i.$$.fragment),u=x(),ze(g.$$.fragment),p=x(),_=f("div"),b=f("div"),y=f("div"),S=P(E),V=x(),L=f("div"),D=f("button"),M=Me("svg"),H=Me("path"),$=x(),Q=f("div"),se=P(F),K=x(),A=f("div"),ae=P(" "),R=P(oe),ee=x(),ue=f("div"),Z=f("div"),G=f("div"),G.innerHTML=N,W=x(),te=f("input"),T=x(),w=f("div"),B=f("button"),B.innerHTML=le,U=x(),q=f("hr"),fe=x(),me&&me.c(),ie=x(),X=f("div");for(let k=0;k<_e.length;k+=1)_e[k].c();ne=x(),O=f("div"),ce=f("div"),he=f("input"),Ve=x(),we=f("button"),ke=f("div"),Be=P(ge),de=x(),ve=f("div"),ve.innerHTML=Ce,je=x(),Te=f("button"),He=f("div"),Ue=P(Ne),Qe=x(),We=f("div"),We.innerHTML=tt,this.h()},l(k){Vl("svelte-vxyf60",Ut.head).forEach(c),t=I(k),De&&De.l(k),l=I(k),Re.l(k),o=I(k),qe(i.$$.fragment,k),u=I(k),qe(g.$$.fragment,k),p=I(k),_=h(k,"DIV",{class:!0});var xe=m(_);b=h(xe,"DIV",{class:!0});var Pe=m(b);y=h(Pe,"DIV",{class:!0});var Ae=m(y);S=j(Ae,E),Ae.forEach(c),V=I(Pe),L=h(Pe,"DIV",{});var nt=m(L);D=h(nt,"BUTTON",{class:!0,type:!0});var pt=m(D);M=Se(pt,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var gt=m(M);H=Se(gt,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),m(H).forEach(c),gt.forEach(c),$=I(pt),Q=h(pt,"DIV",{class:!0});var St=m(Q);se=j(St,F),St.forEach(c),pt.forEach(c),nt.forEach(c),Pe.forEach(c),K=I(xe),A=h(xe,"DIV",{class:!0});var ft=m(A);ae=j(ft," "),R=j(ft,oe),ft.forEach(c),xe.forEach(c),ee=I(k),ue=h(k,"DIV",{class:!0});var _t=m(ue);Z=h(_t,"DIV",{class:!0});var bt=m(Z);G=h(bt,"DIV",{class:!0,"data-svelte-h":!0}),Oe(G)!=="svelte-v38fm1"&&(G.innerHTML=N),W=I(bt),te=h(bt,"INPUT",{class:!0,placeholder:!0}),bt.forEach(c),T=I(_t),w=h(_t,"DIV",{});var wt=m(w);B=h(wt,"BUTTON",{class:!0,"data-svelte-h":!0}),Oe(B)!=="svelte-1rxkyow"&&(B.innerHTML=le),wt.forEach(c),_t.forEach(c),U=I(k),q=h(k,"HR",{class:!0}),fe=I(k),me&&me.l(k),ie=I(k),X=h(k,"DIV",{class:!0});var Ht=m(X);for(let Dt=0;Dt<_e.length;Dt+=1)_e[Dt].l(Ht);Ht.forEach(c),ne=I(k),O=h(k,"DIV",{class:!0});var Lt=m(O);ce=h(Lt,"DIV",{class:!0});var ut=m(ce);he=h(ut,"INPUT",{id:!0,type:!0,accept:!0}),Ve=I(ut),we=h(ut,"BUTTON",{class:!0});var dt=m(we);ke=h(dt,"DIV",{class:!0});var Bt=m(ke);Be=j(Bt,ge),Bt.forEach(c),de=I(dt),ve=h(dt,"DIV",{class:!0,"data-svelte-h":!0}),Oe(ve)!=="svelte-aqr4dt"&&(ve.innerHTML=Ce),dt.forEach(c),je=I(ut),Te=h(ut,"BUTTON",{class:!0});var kt=m(Te);He=h(kt,"DIV",{class:!0});var lt=m(He);Ue=j(lt,Ne),lt.forEach(c),Qe=I(kt),We=h(kt,"DIV",{class:!0,"data-svelte-h":!0}),Oe(We)!=="svelte-1n7zye"&&(We.innerHTML=tt),kt.forEach(c),ut.forEach(c),Lt.forEach(c),this.h()},h(){r(y,"class","text-lg font-semibold self-center"),r(H,"fill-rule","evenodd"),r(H,"d","M6.955 1.45A.5.5 0 0 1 7.452 1h1.096a.5.5 0 0 1 .497.45l.17 1.699c.484.12.94.312 1.356.562l1.321-1.081a.5.5 0 0 1 .67.033l.774.775a.5.5 0 0 1 .034.67l-1.08 1.32c.25.417.44.873.561 1.357l1.699.17a.5.5 0 0 1 .45.497v1.096a.5.5 0 0 1-.45.497l-1.699.17c-.12.484-.312.94-.562 1.356l1.082 1.322a.5.5 0 0 1-.034.67l-.774.774a.5.5 0 0 1-.67.033l-1.322-1.08c-.416.25-.872.44-1.356.561l-.17 1.699a.5.5 0 0 1-.497.45H7.452a.5.5 0 0 1-.497-.45l-.17-1.699a4.973 4.973 0 0 1-1.356-.562L4.108 13.37a.5.5 0 0 1-.67-.033l-.774-.775a.5.5 0 0 1-.034-.67l1.08-1.32a4.971 4.971 0 0 1-.561-1.357l-1.699-.17A.5.5 0 0 1 1 8.548V7.452a.5.5 0 0 1 .45-.497l1.699-.17c.12-.484.312-.94.562-1.356L2.629 4.107a.5.5 0 0 1 .034-.67l.774-.774a.5.5 0 0 1 .67-.033L5.43 3.71a4.97 4.97 0 0 1 1.356-.561l.17-1.699ZM6 8c0 .538.212 1.026.558 1.385l.057.057a2 2 0 0 0 2.828-2.828l-.058-.056A2 2 0 0 0 6 8Z"),r(H,"clip-rule","evenodd"),r(M,"xmlns","http://www.w3.org/2000/svg"),r(M,"viewBox","0 0 16 16"),r(M,"fill","currentColor"),r(M,"class","w-4 h-4"),r(Q,"class","text-xs"),r(D,"class","flex items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 transition"),r(D,"type","button"),r(b,"class","flex justify-between items-center"),r(A,"class","text-gray-500 text-xs mt-1"),r(_,"class","mb-3"),r(G,"class","self-center ml-1 mr-3"),r(te,"class","w-full text-sm pr-4 py-1 rounded-r-xl outline-none bg-transparent"),r(te,"placeholder",z=s[12].t("Search Documents")),r(Z,"class","flex flex-1"),r(B,"class","px-2 py-2 rounded-xl border border-gray-200 dark:border-gray-600 dark:border-0 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 transition font-medium text-sm flex items-center space-x-1"),r(ue,"class","flex w-full space-x-2"),r(q,"class","dark:border-gray-850 my-2.5"),r(X,"class","my-3 mb-5"),r(he,"id","documents-import-input"),r(he,"type","file"),r(he,"accept",".json"),he.hidden=!0,r(ke,"class","self-center mr-2 font-medium"),r(ve,"class","self-center"),r(we,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),r(He,"class","self-center mr-2 font-medium"),r(We,"class","self-center"),r(Te,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),r(ce,"class","flex space-x-2"),r(O,"class","flex justify-end w-full mb-2")},m(k,C){J(k,t,C),De&&De.m(k,C),J(k,l,C),Re.m(k,C),J(k,o,C),Fe(i,k,C),J(k,u,C),Fe(g,k,C),J(k,p,C),J(k,_,C),a(_,b),a(b,y),a(y,S),a(b,V),a(b,L),a(L,D),a(D,M),a(M,H),a(D,$),a(D,Q),a(Q,se),a(_,K),a(_,A),a(A,ae),a(A,R),J(k,ee,C),J(k,ue,C),a(ue,Z),a(Z,G),a(Z,W),a(Z,te),pe(te,s[0]),a(ue,T),a(ue,w),a(w,B),J(k,U,C),J(k,q,C),J(k,fe,C),me&&me.m(k,C),J(k,ie,C),J(k,X,C);for(let xe=0;xe<_e.length;xe+=1)_e[xe]&&_e[xe].m(X,null);J(k,ne,C),J(k,O,C),a(O,ce),a(ce,he),s[31](he),a(ce,Ve),a(ce,we),a(we,ke),a(ke,Be),a(we,de),a(we,ve),a(ce,je),a(ce,Te),a(Te,He),a(He,Ue),a(Te,Qe),a(Te,We),Ze=!0,Ie||(Le=[re(D,"click",s[21]),re(te,"input",s[22]),re(B,"click",s[23]),re(he,"change",s[32]),re(he,"change",s[33]),re(we,"click",s[34]),re(Te,"click",s[35])],Ie=!0)},p(k,C){(!Ze||C[0]&12288)&&e!==(e=`
		`+k[12].t("Documents")+" | "+k[13]+`
	`)&&(Ut.title=e),k[10]?De?C[0]&1024&&be(De,1):(De=nl(k),De.c(),be(De,1),De.m(l.parentNode,l)):De&&(Ct(),Ee(De,1,1,()=>{De=null}),At()),C[0]&512&&at(n,n=k[9])?(Ct(),Ee(Re,1,1,Je),At(),Re=ol(k),Re.c(),be(Re,1),Re.m(o.parentNode,o)):Re.p(k,C);const xe={};!d&&C[0]&128&&(d=!0,xe.show=k[7],xt(()=>d=!1)),i.$set(xe);const Pe={};if(!v&&C[0]&64&&(v=!0,Pe.show=k[6],xt(()=>v=!1)),g.$set(Pe),(!Ze||C[0]&4096)&&E!==(E=k[12].t("Documents")+"")&&Y(S,E),(!Ze||C[0]&4096)&&F!==(F=k[12].t("Document Settings")+"")&&Y(se,F),(!Ze||C[0]&4096)&&oe!==(oe=k[12].t("Use '#' in the prompt input to load and select your documents.")+"")&&Y(R,oe),(!Ze||C[0]&4096&&z!==(z=k[12].t("Search Documents")))&&r(te,"placeholder",z),C[0]&1&&te.value!==k[0]&&pe(te,k[0]),k[5].length>0?me?(me.p(k,C),C[0]&32&&be(me,1)):(me=il(k),me.c(),be(me,1),me.m(ie.parentNode,ie)):me&&(Ct(),Ee(me,1,1,()=>{me=null}),At()),C[0]&68352){rt=Vt(k[11]);let Ae;for(Ae=0;Ae<rt.length;Ae+=1){const nt=al(k,rt,Ae);_e[Ae]?(_e[Ae].p(nt,C),be(_e[Ae],1)):(_e[Ae]=ul(nt),_e[Ae].c(),be(_e[Ae],1),_e[Ae].m(X,null))}for(Ct(),Ae=rt.length;Ae<_e.length;Ae+=1)Xe(Ae);At()}(!Ze||C[0]&4096)&&ge!==(ge=k[12].t("Import Documents Mapping")+"")&&Y(Be,ge),(!Ze||C[0]&4096)&&Ne!==(Ne=k[12].t("Export Documents Mapping")+"")&&Y(Ue,Ne)},i(k){if(!Ze){be(De),be(Re),be(i.$$.fragment,k),be(g.$$.fragment,k),be(me);for(let C=0;C<rt.length;C+=1)be(_e[C]);Ze=!0}},o(k){Ee(De),Ee(Re),Ee(i.$$.fragment,k),Ee(g.$$.fragment,k),Ee(me),_e=_e.filter(Boolean);for(let C=0;C<_e.length;C+=1)Ee(_e[C]);Ze=!1},d(k){k&&(c(t),c(l),c(o),c(u),c(p),c(_),c(ee),c(ue),c(U),c(q),c(fe),c(ie),c(X),c(ne),c(O)),De&&De.d(k),Re.d(k),Ge(i,k),Ge(g,k),me&&me.d(k),jt(_e,k),s[31](null),Ie=!1,et(Le)}}}const Us=s=>(s==null?void 0:s.selected)==="checked",dl=s=>(s==null?void 0:s.selected)==="checked",fl=s=>(s==null?void 0:s.selected)==="checked",hl=s=>(s==null?void 0:s.selected)==="checked",vl=s=>(s==null?void 0:s.selected)==="checked";function Ps(s,e,t){let l,n,o;st(s,$e,w=>t(2,l=w)),st(s,Hl,w=>t(13,o=w));const{saveAs:i}=Ml,d=mt("i18n");st(s,d,w=>t(12,n=w));let u="",g="",v,p=[],_=!1,b=!1,y=!1,E,S="",V=!1;const L=async w=>{await Wt(localStorage.token,w),await $e.set(await ot(localStorage.token))},D=async w=>{await Promise.all(w.map(async B=>await Wt(localStorage.token,B.name))),await $e.set(await ot(localStorage.token))},M=async w=>{const B=await yl(localStorage.token,"",w).catch(le=>(ye.error(le),null));B&&(await Pt(localStorage.token,B.collection_name,B.filename,El(B.filename),B.filename).catch(le=>(ye.error(le),null)),await $e.set(await ot(localStorage.token)))};yt(()=>{$e.subscribe(q=>{t(5,p=q.reduce((fe,ie,X,ne)=>{var O;return[...new Set([...fe,...(((O=ie==null?void 0:ie.content)==null?void 0:O.tags)??[]).map(ce=>ce.name)])]},[]))});const w=document.querySelector("body"),B=q=>{q.preventDefault(),t(10,V=!0)},le=()=>{t(10,V=!1)},U=async q=>{var fe,ie;if(q.preventDefault(),(fe=q.dataTransfer)!=null&&fe.files){let X=new FileReader;X.onload=O=>{files=[...files,{type:"image",url:`${O.target.result}`}]};const ne=(ie=q.dataTransfer)==null?void 0:ie.files;if(ne&&ne.length>0)for(const O of ne)console.log(O,O.name.split(".").at(-1)),pl.includes(O.type)||gl.includes(O.name.split(".").at(-1))||ye.error(`Unknown File Type '${O.type}', but accepting and treating as plain text`),M(O);else ye.error(n.t("File not found."))}t(10,V=!1)};return w==null||w.addEventListener("dragover",B),w==null||w.addEventListener("drop",U),w==null||w.addEventListener("dragleave",le),()=>{w==null||w.removeEventListener("dragover",B),w==null||w.removeEventListener("drop",U),w==null||w.removeEventListener("dragleave",le)}});let H;function $(w){y=w,t(8,y)}function Q(w){b=w,t(7,b)}function F(w){_=w,t(6,_)}const se=()=>{t(6,_=!_)};function K(){g=this.value,t(0,g)}const A=()=>{t(7,b=!0)},ae=w=>{w.detail==="checked"?t(11,H=H.map(B=>({...B,selected:"checked"}))):w.detail==="unchecked"&&t(11,H=H.map(B=>({...B,selected:"unchecked"})))},oe=async()=>{t(1,S="")},R=async w=>{t(1,S=w)},ee=async()=>{D(H.filter(w=>w.selected==="checked"))},ue=async(w,B)=>{B.stopPropagation(),t(8,y=!y),t(9,E=w)},Z=(w,B)=>{B.stopPropagation(),L(w.name)},G=(w,B,le)=>{(w==null?void 0:w.selected)==="checked"?t(11,B[le].selected="unchecked",H):t(11,B[le].selected="checked",H)};function N(w){ht[w?"unshift":"push"](()=>{v=w,t(4,v)})}function W(){u=this.files,t(3,u)}const te=()=>{console.log(u);const w=new FileReader;w.onload=async B=>{const le=JSON.parse(B.target.result);console.log(le);for(const U of le)await Pt(localStorage.token,U.collection_name,U.filename,U.name,U.title).catch(q=>(ye.error(q),null));await $e.set(await ot(localStorage.token))},w.readAsText(u[0])},z=()=>{v.click()},T=async()=>{let w=new Blob([JSON.stringify(l)],{type:"application/json"});i(w,`documents-mapping-export-${Date.now()}.json`)};return s.$$.update=()=>{s.$$.dirty[0]&7&&t(11,H=l.filter(w=>{var B;return(S===""||(((B=w==null?void 0:w.content)==null?void 0:B.tags)??[]).map(le=>le.name).includes(S))&&(g===""||w.name.includes(g))}))},[g,S,l,u,v,p,_,b,y,E,V,H,n,o,i,d,L,D,$,Q,F,se,K,A,ae,oe,R,ee,ue,Z,G,N,W,te,z,T]}class js extends it{constructor(e){super(),ct(this,e,Ps,Ns,at,{},null,[-1,-1])}}function Zs(s){let e,t;return e=new js({}),{c(){ze(e.$$.fragment)},l(l){qe(e.$$.fragment,l)},m(l,n){Fe(e,l,n),t=!0},p:Je,i(l){t||(be(e.$$.fragment,l),t=!0)},o(l){Ee(e.$$.fragment,l),t=!1},d(l){Ge(e,l)}}}class ta extends it{constructor(e){super(),ct(this,e,null,Zs,at,{})}}export{ta as component};
