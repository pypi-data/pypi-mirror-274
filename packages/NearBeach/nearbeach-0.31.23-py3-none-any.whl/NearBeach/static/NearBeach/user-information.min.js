"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[4871],{6262:(e,s)=>{s.A=(e,s)=>{const l=e.__vccOpts||e;for(const[e,t]of s)l[e]=t;return l}},4351:(e,s,l)=>{l.r(s),l.d(s,{default:()=>G});var t=l(641),r=l(33),a=l(3751);const i={class:"card"},o={class:"card-body"},n=(0,t.Lk)("h1",null,"User Information",-1),u=(0,t.Lk)("br",null,null,-1),d=["href"],c=(0,t.Lk)("hr",null,null,-1),m={class:"row"},p=(0,t.Lk)("div",{class:"col-md-4"},[(0,t.Lk)("strong",null,"UserName"),(0,t.Lk)("p",{class:"text-instructions"}," The username is set and can not be changed from this location. If you need to change the username, please go to the Django Admin Panel. "),(0,t.Lk)("p",{class:"text-instructions"}," The ID is the primary key assigned to the username. This can not be edited. It can be ignored. ")],-1),h={class:"col-md-8"},k=(0,t.Lk)("strong",null,"Username:",-1),L=(0,t.Lk)("strong",null," | ID:",-1),v=(0,t.Lk)("hr",null,null,-1),f={class:"row"},g=(0,t.Lk)("div",{class:"col-md-4"},[(0,t.Lk)("strong",null,"User Details"),(0,t.Lk)("p",{class:"text-instructions"}," Please fill out the user details. ")],-1),U={class:"col-md-8"},b={class:"row"},y={class:"col-md-6"},M=(0,t.Lk)("br",null,null,-1),x={class:"col-md-6"},_=(0,t.Lk)("br",null,null,-1),$={class:"col-md-6"},R=(0,t.Lk)("br",null,null,-1),w=(0,t.Lk)("hr",null,null,-1),A={class:"row"},S=(0,t.Lk)("div",{class:"col-md-4"},[(0,t.Lk)("strong",null,"Active User"),(0,t.Lk)("p",{class:"text-instructions"}," Untick this option if the user is no longer active. ")],-1),N={class:"col-md-8"},T=(0,t.Lk)("label",null,"Is User Active? ",-1),E=(0,t.Lk)("hr",null,null,-1),I={class:"row"},D=(0,t.Lk)("div",{class:"col-md-4"},[(0,t.Lk)("strong",null,"Is User a Superuser"),(0,t.Lk)("p",{class:"text-instructions"}," Tick this functionality if you would like the user to gain access to the /admin/ functionality. This is not recommended for anyone outside of an IT team. ")],-1),C={class:"col-md-8"},F=(0,t.Lk)("label",null,"Is User a Superuser? ",-1),q=(0,t.Lk)("hr",null,null,-1),V={class:"row submit-row"},P={class:"col-md-12"};var Q=l(9639),W=l(3855),X=l(404);const j={name:"UserInformation",setup:()=>({v$:(0,Q.Ay)()}),props:{userResults:{type:Array,default:()=>[]},rootUrl:{type:String,default:"/"}},components:{ValidationRendering:X.A},data(){return{emailModel:this.userResults[0].fields.email,isActiveModel:this.userResults[0].fields.is_active,isSuperuserModel:this.userResults[0].fields.is_superuser,firstNameModel:this.userResults[0].fields.first_name,lastNameModel:this.userResults[0].fields.last_name}},validations:{lastNameModel:{required:W.mw,maxLength:(0,W.Ru)(255)},firstNameModel:{required:W.mw,maxLength:(0,W.Ru)(255)},emailModel:{required:W.mw,email:W.Rp,maxLength:(0,W.Ru)(255)}},methods:{updateUser(){if(this.v$.$touch(),this.v$.$invalid)return void this.$store.dispatch("newToast",{header:"Please check all fields",message:"Failed validation. Please check all fields are validated",extra_classes:"bg-danger",delay:0,unique_type:"update_user"});this.$store.dispatch("newToast",{header:"Updating Current User",message:"Currently Updating User",extra_classes:"bg-warning text-dark",delay:0,unique_type:"update_user"});const e=new FormData;e.set("email",this.emailModel),e.set("is_active",this.isActiveModel),e.set("is_superuser",this.isSuperuserModel),e.set("first_name",this.firstNameModel),e.set("last_name",this.lastNameModel),this.axios.post(`${this.rootUrl}user_information/${this.userResults[0].pk}/save/`,e).then((()=>{this.$store.dispatch("newToast",{header:"User Updated",message:"User successfully updated",extra_classes:"bg-success",unique_type:"update_user"})})).catch((e=>{this.$store.dispatch("newToast",{header:"Failed Updating Users",message:`Sorry. Failed updating your user. Error -> ${e}`,extra_classes:"bg-danger",delay:0,unique_type:"update_user"})}))}},mounted(){this.$store.commit({type:"updateUrl",rootUrl:this.rootUrl})}},G=(0,l(6262).A)(j,[["render",function(e,s,l,Q,W,X){const j=(0,t.g2)("validation-rendering");return(0,t.uX)(),(0,t.CE)("div",i,[(0,t.Lk)("div",o,[n,u,(0,t.Lk)("a",{href:`${this.rootUrl}search/user/`},"Go back to user list",8,d),c,(0,t.Q3)(" USERNAME "),(0,t.Lk)("div",m,[p,(0,t.Lk)("div",h,[k,(0,t.eW)(" "+(0,r.toDisplayString)(l.userResults[0].fields.username)+" ",1),L,(0,t.eW)(" "+(0,r.toDisplayString)(l.userResults[0].pk),1)])]),(0,t.Q3)(" USER DETAILS "),v,(0,t.Lk)("div",f,[g,(0,t.Lk)("div",U,[(0,t.Lk)("div",b,[(0,t.Lk)("div",y,[(0,t.Lk)("label",null,[(0,t.eW)(" First Name: "),(0,t.bF)(j,{"error-list":Q.v$.firstNameModel.$errors},null,8,["error-list"]),M]),(0,t.bo)((0,t.Lk)("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=e=>W.firstNameModel=e),class:"form-control"},null,512),[[a.vModelText,W.firstNameModel]])]),(0,t.Lk)("div",x,[(0,t.Lk)("label",null,[(0,t.eW)(" Last Name: "),(0,t.bF)(j,{"error-list":Q.v$.lastNameModel.$errors},null,8,["error-list"]),_]),(0,t.bo)((0,t.Lk)("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=e=>W.lastNameModel=e),class:"form-control"},null,512),[[a.vModelText,W.lastNameModel]])]),(0,t.Lk)("div",$,[(0,t.Lk)("label",null,[(0,t.eW)(" Email: "),(0,t.bF)(j,{"error-list":Q.v$.emailModel.$errors},null,8,["error-list"]),R]),(0,t.bo)((0,t.Lk)("input",{type:"email","onUpdate:modelValue":s[2]||(s[2]=e=>W.emailModel=e),class:"form-control"},null,512),[[a.vModelText,W.emailModel]])])])])]),w,(0,t.Q3)(" Active USER "),(0,t.Lk)("div",A,[S,(0,t.Lk)("div",N,[T,(0,t.bo)((0,t.Lk)("input",{type:"checkbox","onUpdate:modelValue":s[3]||(s[3]=e=>W.isActiveModel=e)},null,512),[[a.vModelCheckbox,W.isActiveModel]])])]),E,(0,t.Q3)(" User is SUPER "),(0,t.Lk)("div",I,[D,(0,t.Lk)("div",C,[F,(0,t.bo)((0,t.Lk)("input",{type:"checkbox","onUpdate:modelValue":s[4]||(s[4]=e=>W.isSuperuserModel=e)},null,512),[[a.vModelCheckbox,W.isSuperuserModel]])])]),q,(0,t.Q3)(" UPDATE USER "),(0,t.Lk)("div",V,[(0,t.Lk)("div",P,[(0,t.Lk)("a",{href:"javascript:void(0)",class:"btn btn-primary save-changes",onClick:s[5]||(s[5]=(...e)=>X.updateUser&&X.updateUser(...e))}," Update User Details ")])])])])}]])},404:(e,s,l)=>{l.d(s,{A:()=>i});var t=l(641),r=l(33);const a={name:"ValidationRendering",props:{errorList:{type:Array,default:()=>[]}}},i=(0,l(6262).A)(a,[["render",function(e,s,l,a,i,o){return(0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(l.errorList,(e=>((0,t.uX)(),(0,t.CE)("span",{class:"error",key:e.$uid},(0,r.toDisplayString)(e.$message),1)))),128)}]])}}]);