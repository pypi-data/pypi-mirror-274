"use strict";(self.webpackChunkhacs_frontend=self.webpackChunkhacs_frontend||[]).push([[1339],{32872:function(e,t,n){n.d(t,{x:function(){return r}});n(53501),n(34517);var r=function(e,t){return e&&e.config.components.includes(t)}},14656:function(e,t,n){n.d(t,{v:function(){return a}});var r=n(22481),a=(n(53501),n(650),n(34517),function(e,t,n,a){var i=e.split(".",3),o=(0,r.A)(i,3),d=o[0],s=o[1],u=o[2];return Number(d)>t||Number(d)===t&&(void 0===a?Number(s)>=n:Number(s)>n)||void 0!==a&&Number(d)===t&&Number(s)===n&&Number(u)>=a})},11339:function(e,t,n){n.r(t),n.d(t,{HaAddonSelector:function(){return Z}});var r,a,i,o,d,s,u=n(6238),l=n(36683),c=n(89231),h=n(29864),v=n(83647),f=n(8364),k=(n(77052),n(5546)),p=n(196),y=n(94881),m=n(1781),b=(n(69466),n(14460),n(848),n(68113),n(66274),n(85038),n(32872)),_=n(33167),A=n(66412),g=(n(27934),n(4187),n(85767),n(14656)),x=(n(67234),n(53501),n(21950),n(57733),n(34517),n(56262),n(15445),n(24483),n(13478),n(46355),n(14612),n(53691),n(48455),n(8339),function(e){return e.data}),w=(new Set([502,503,504]),function(){var e=(0,m.default)((0,y.default)().mark((function e(t){return(0,y.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,g.v)(t.config.version,2021,2,4)){e.next=2;break}return e.abrupt("return",t.callWS({type:"supervisor/api",endpoint:"/addons",method:"get"}));case 2:return e.t0=x,e.next=5,t.callApi("GET","hassio/addons");case 5:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),M=(n(91074),n(66442),n(9484),function(e){return(0,k.qy)(r||(r=(0,u.A)(['<ha-list-item twoline graphic="icon"> <span>','</span> <span slot="secondary">',"</span> "," </ha-list-item>"])),e.name,e.slug,e.icon?(0,k.qy)(a||(a=(0,u.A)(['<img alt="" slot="graphic" .src="/api/hassio/addons/','/icon">'])),e.slug):"")}),Z=((0,f.A)([(0,p.EM)("ha-addon-picker")],(function(e,t){var n,r=function(t){function n(){var t;(0,c.A)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return t=(0,h.A)(this,n,[].concat(a)),e(t),t}return(0,v.A)(n,t),(0,l.A)(n)}(t);return{F:r,d:[{kind:"field",key:"hass",value:void 0},{kind:"field",decorators:[(0,p.MZ)()],key:"label",value:void 0},{kind:"field",decorators:[(0,p.MZ)()],key:"value",value:function(){return""}},{kind:"field",decorators:[(0,p.MZ)()],key:"helper",value:void 0},{kind:"field",decorators:[(0,p.wk)()],key:"_addons",value:void 0},{kind:"field",decorators:[(0,p.MZ)({type:Boolean})],key:"disabled",value:function(){return!1}},{kind:"field",decorators:[(0,p.MZ)({type:Boolean})],key:"required",value:function(){return!1}},{kind:"field",decorators:[(0,p.P)("ha-combo-box")],key:"_comboBox",value:void 0},{kind:"field",decorators:[(0,p.wk)()],key:"_error",value:void 0},{kind:"method",key:"open",value:function(){var e;null===(e=this._comboBox)||void 0===e||e.open()}},{kind:"method",key:"focus",value:function(){var e;null===(e=this._comboBox)||void 0===e||e.focus()}},{kind:"method",key:"firstUpdated",value:function(){this._getAddons()}},{kind:"method",key:"render",value:function(){return this._error?(0,k.qy)(i||(i=(0,u.A)(['<ha-alert alert-type="error">',"</ha-alert>"])),this._error):this._addons?(0,k.qy)(o||(o=(0,u.A)([' <ha-combo-box .hass="','" .label="','" .value="','" .required="','" .disabled="','" .helper="','" .renderer="','" .items="','" item-value-path="slug" item-id-path="slug" item-label-path="name" @value-changed="','"></ha-combo-box> '])),this.hass,void 0===this.label&&this.hass?this.hass.localize("ui.components.addon-picker.addon"):this.label,this._value,this.required,this.disabled,this.helper,M,this._addons,this._addonChanged):k.s6}},{kind:"method",key:"_getAddons",value:(n=(0,m.default)((0,y.default)().mark((function e(){var t,n=this;return(0,y.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(0,b.x)(this.hass,"hassio")){e.next=8;break}return e.next=4,w(this.hass);case 4:t=e.sent,this._addons=t.addons.filter((function(e){return e.version})).sort((function(e,t){return(0,A.x)(e.name,t.name,n.hass.locale.language)})),e.next=9;break;case 8:this._error=this.hass.localize("ui.components.addon-picker.error.no_supervisor");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),this._error=this.hass.localize("ui.components.addon-picker.error.fetch_addons");case 14:case"end":return e.stop()}}),e,this,[[0,11]])}))),function(){return n.apply(this,arguments)})},{kind:"get",key:"_value",value:function(){return this.value||""}},{kind:"method",key:"_addonChanged",value:function(e){e.stopPropagation();var t=e.detail.value;t!==this._value&&this._setValue(t)}},{kind:"method",key:"_setValue",value:function(e){var t=this;this.value=e,setTimeout((function(){(0,_.r)(t,"value-changed",{value:e}),(0,_.r)(t,"change")}),0)}}]}}),k.WF),(0,f.A)([(0,p.EM)("ha-selector-addon")],(function(e,t){var n=function(t){function n(){var t;(0,c.A)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return t=(0,h.A)(this,n,[].concat(a)),e(t),t}return(0,v.A)(n,t),(0,l.A)(n)}(t);return{F:n,d:[{kind:"field",decorators:[(0,p.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,p.MZ)({attribute:!1})],key:"selector",value:void 0},{kind:"field",decorators:[(0,p.MZ)()],key:"value",value:void 0},{kind:"field",decorators:[(0,p.MZ)()],key:"label",value:void 0},{kind:"field",decorators:[(0,p.MZ)()],key:"helper",value:void 0},{kind:"field",decorators:[(0,p.MZ)({type:Boolean})],key:"disabled",value:function(){return!1}},{kind:"field",decorators:[(0,p.MZ)({type:Boolean})],key:"required",value:function(){return!0}},{kind:"method",key:"render",value:function(){return(0,k.qy)(d||(d=(0,u.A)(['<ha-addon-picker .hass="','" .value="','" .label="','" .helper="','" .disabled="','" .required="','" allow-custom-entity></ha-addon-picker>'])),this.hass,this.value,this.label,this.helper,this.disabled,this.required)}},{kind:"field",static:!0,key:"styles",value:function(){return(0,k.AH)(s||(s=(0,u.A)(["ha-addon-picker{width:100%}"])))}}]}}),k.WF))}}]);
//# sourceMappingURL=1339.nPEDoa4YGik.js.map