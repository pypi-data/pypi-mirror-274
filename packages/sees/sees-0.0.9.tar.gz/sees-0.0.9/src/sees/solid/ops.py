import sys
import json

with open(sys.argv[1], "r") as f:
    data = json.load(f)["StructuralAnalysisModel"]

s = json.dumps(
        {
            "coordinates":   {str(n["name"]): n["crd"] for n in data["geometry"]["nodes"]},
            "displacements": {str(n["name"]): [0.0]*3 for n in data["geometry"]["nodes"]},
            "elements": [{
                "type": "P8",
                "cells": [list(map(str, e["nodes"])) for e in data["geometry"]["elements"]],
                "stresses": [0.0]*len(data["geometry"]["elements"])
            }],
            "palette": [
              [0.0, 0.0, 1.0],
              [0.0, 0.3999999999999999, 1.0],
              [0.0, 0.55, 1.0],
              [0.0, 0.6833333333333329, 1.0],
              [0.0, 0.8166666666666664, 1.0],
              [0.0, 0.95, 1.0],
              [0.0, 1.0, 0.8999999999999998],
              [0.0, 1.0, 0.7666666666666669],
              [0.0, 1.0, 0.6333333333333334],
              [0.0, 1.0, 0.4833333333333333],
              [0.0666666666666671, 1.0, 0.0],
              [0.6166666666666665, 1.0, 0.0],
              [0.7499999999999993, 1.0, 0.0],
              [0.8833333333333335, 1.0, 0.0],
              [1.0, 0.9666666666666666, 0.0],
              [1.0, 0.833333333333333, 0.0],
              [1.0, 0.7000000000000002, 0.0],
              [1.0, 0.5666666666666667, 0.0],
              [1.0, 0.4166666666666665, 0.0],
              [1.0, 0.0, 0.0]]
        }
)
print(s)
