"use strict";(self.webpackChunkjupyterlab_athena_analytics=self.webpackChunkjupyterlab_athena_analytics||[]).push([[509],{509:(e,t,o)=>{o.r(t),o.d(t,{default:()=>r});var n=o(291),a=o(899);function c(e){e.widgets.forEach((e=>{e.model.contentChanged.connect((()=>function(e){const t=e.toJSON();window.parent.postMessage({type:"cellContentChange",data:t},"*")}(e.model)))}))}function s(e){var t;e.content.modelContentChanged.connect((()=>function(e){if(!e.model)return void console.error("Notebook model is null");const t=e.model.toJSON();window.parent.postMessage({type:"notebookChange",data:t},"*")}(e.content))),e.content.activeCellChanged.connect((()=>function(e){const t=e.activeCell,o=null==t?void 0:t.model.toJSON();window.parent.postMessage({type:"activeCellChange",data:o},"*")}(e.content))),c(e.content),(null===(t=null==e?void 0:e.content)||void 0===t?void 0:t.model)&&e.content.model.cells.changed.connect((()=>{c(e.content)}))}const r={id:"jupyterlab_athena_analytics:plugin",autoStart:!0,requires:[n.INotebookTracker,a.IDocumentManager],activate:(e,t,o)=>{console.log("JupyterLab extension jupyterlab_athena_analytics is activated!"),t.forEach((e=>{s(e)})),t.widgetAdded.connect(((e,t)=>{s(t)})),t.currentChanged.connect(((e,t)=>{t&&function(e){if(!e.content.model)return void console.error("Notebook model is null");const t=e.content.model.toJSON();window.parent.postMessage({type:"tabChange",data:t},"*")}(t)})),window.addEventListener("message",(e=>{const a=e.data;console.log(a);const c=t.currentWidget;if(c)switch(a.type){case"selectOrInsertBelowCell":!function(e){var t;if(!e||!e.content)return void console.error("Invalid notebook panel");const o=e.content.activeCellIndex,a=null===(t=e.model)||void 0===t?void 0:t.cells.length;a&&o===a-1?n.NotebookActions.insertBelow(e.content):n.NotebookActions.selectBelow(e.content)}(c);break;case"selectOrInsertAboveCell":!function(e){if(!e||!e.content)return void console.error("Invalid notebook panel");const t=e.content.activeCellIndex;console.log("current active cell index :",t),n.NotebookActions.selectAbove(e.content)}(c);case"addCodeToActiveCell":!function(e,t){const o=e.activeCell;o&&o.model.sharedModel.setSource(t)}(c.content,a.data);break;case"executeActiveCell":!function(e){e&&e.content?n.NotebookActions.run(e.content,e.sessionContext).then((()=>{console.log("Cell executed successfully")}),(e=>{console.error("Error executing cell:",e)})):console.error("Invalid notebook panel")}(c);break;case"createNewNotebook":!function(e,t){const o=`${t}.ipynb`,n=e.createNew(o,"notebook");n?n.activate():console.error("Failed to create a new notebook")}(o,a.data);break;case"openExistingNotebook":!function(e,t){const o=`${t}.ipynb`,n=e.openOrReveal(o);n&&n.activate()}(o,a.data);break;default:console.log("Unknown message type:",a.type)}}));const a=document.createElement("script");a.type="text/javascript",a.async=!0,a.innerHTML='!function(t,e){var o,n,p,r;e._SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.async=!0,p.src=s.api_host+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset isFeatureEnabled onFeatureFlags getFeatureFlag getFeatureFlagPayload reloadFeatureFlags group updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures getActiveMatchingSurveys getSurveys onSessionId".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e._SV=1)}(document,window.posthog||[]);\n    posthog.init(\'phc_klucwJxuBrgYuAXGSCOUGnp0qhKeA81OuIFyUngiPGQ\',{api_host:\'https://app.athenaintelligence.ai/ingest\', ui_host: \'https://us.posthog.com\', session_recording: { recordCrossOriginIframes: true }})',document.head.appendChild(a)}}}}]);