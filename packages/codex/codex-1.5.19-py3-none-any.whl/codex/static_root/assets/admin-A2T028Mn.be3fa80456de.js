import{S as ie,V as de,a as ue,_ as Y}from"./VToolbar-DCXw9xBt.js";import{ad as ce,_ as I,k as me,Q as P,R as c,P as C,T as m,L as o,ae as k,af as R,ag as be,N as fe,ah as ve,ai as K,aj as pe,ak as ge,x as D,al as Q,am as _e,G as W,an as we,r as F,h as B,K as L,ao as j,M as A,ap as S,aq as Ve,ar as he,i as Te,as as J,at as ye,au as Se,av as ke,aw as Ce,ax as _,ay as xe,C as $e,az as Pe,aA as Z,t as q,O as Be,aB as w,aC as H,aD as Ae,aE as Ie,aF as De,m as We,aG as Le}from"./admin-drawer-panel-DffXGW1d.js";import{u as Ee}from"./main-DB0zDxIA.js";import{t as Me}from"./index-DUjeNg4x.js";import{f as Re,u as Ue}from"./confirm-footer-CIu2tkFD.js";import{m as ze,V as U,a as Ge,b as z}from"./VWindowItem-CCYriq5i.js";import{m as Oe,V as X}from"./VSlideGroup-BdgkaRxE.js";import{V as Ne}from"./VMain-8vjSGbNt.js";import"./change-password-dialog-Dr1CYQ46.js";import"./VSelectionControl-DvHEDoJy.js";const Fe={name:"AdminTitleToolbar",components:{SettingsDrawerButton:ie},computed:{...ce(me,["isSettingsDrawerOpen"])}};function je(e,a,i,t,s,b){const r=P("SettingsDrawerButton");return c(),C(ue,{id:"titleBar",class:R(["codexToolbar",{drawerMargin:!e.$vuetify.display.mdAndDown}]),density:"compact",elevation:"8"},{default:m(()=>[o(de,{class:"codexToolbarTitle"},{default:m(()=>[k(" Codex Administration ")]),_:1}),o(r,{class:R({invisible:e.isSettingsDrawerOpen}),disabled:e.isSettingsDrawerOpen,plain:e.isSettingsDrawerOpen,onClick:a[0]||(a[0]=n=>e.isSettingsDrawerOpen=!0)},null,8,["class","disabled","plain"])]),_:1},8,["class"])}const ee=I(Fe,[["render",je],["__scopeId","data-v-15c77dc3"]]),qe={name:"AdminSettingsPanel",data(){return{mdiBookshelf:be}},computed:{...fe(Ee,{browserRoute:e=>e.page.routes.last?{name:"browser",params:e.page.routes.last}:{name:"home"}})}};function He(e,a,i,t,s,b){return c(),C(ge,{ref:"browserLink",to:e.browserRoute},{default:m(()=>[o(pe,null,{default:m(()=>[o(ve,null,{default:m(()=>[k(K(s.mdiBookshelf),1)]),_:1}),k("Browser ")]),_:1})]),_:1},8,["to"])}const Xe=I(qe,[["render",He]]),G=Symbol.for("vuetify:v-tabs"),Ye=D({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...Q(_e({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),te=W()({name:"VTab",props:Ye(),setup(e,a){let{slots:i,attrs:t}=a;const{textColorClasses:s,textColorStyles:b}=we(e,"sliderColor"),r=F(),n=F(),d=B(()=>e.direction==="horizontal"),g=B(()=>{var v,l;return((l=(v=r.value)==null?void 0:v.group)==null?void 0:l.isSelected.value)??!1});function E(v){var u,p;let{value:l}=v;if(l){const f=(p=(u=r.value)==null?void 0:u.$el.parentElement)==null?void 0:p.querySelector(".v-tab--selected .v-tab__slider"),M=n.value;if(!f||!M)return;const ae=getComputedStyle(f).color,V=f.getBoundingClientRect(),h=M.getBoundingClientRect(),x=d.value?"x":"y",$=d.value?"X":"Y",O=d.value?"right":"bottom",T=d.value?"width":"height",se=V[x],oe=h[x],y=se>oe?V[O]-h[O]:V[x]-h[x],ne=Math.sign(y)>0?d.value?"right":"bottom":Math.sign(y)<0?d.value?"left":"top":"center",re=(Math.abs(y)+(Math.sign(y)<0?V[T]:h[T]))/Math.max(V[T],h[T])||0,le=V[T]/h[T]||0,N=1.5;Ve(M,{backgroundColor:[ae,"currentcolor"],transform:[`translate${$}(${y}px) scale${$}(${le})`,`translate${$}(${y/N}px) scale${$}(${(re-1)/N+1})`,"none"],transformOrigin:Array(3).fill(ne)},{duration:225,easing:he})}}return L(()=>{const v=j.filterProps(e);return o(j,S({symbol:G,ref:r,class:["v-tab",e.class],style:e.style,tabindex:g.value?0:-1,role:"tab","aria-selected":String(g.value),active:!1},v,t,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":E}),{...i,default:()=>{var l;return o(A,null,[((l=i.default)==null?void 0:l.call(i))??e.text,!e.hideSlider&&o("div",{ref:n,class:["v-tab__slider",s.value],style:b.value},null)])}})}),Re({},r)}}),Ke=D({...Q(ze(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),Qe=W()({name:"VTabsWindow",props:Ke(),emits:{"update:modelValue":e=>!0},setup(e,a){let{slots:i}=a;const t=Te(G,null),s=J(e,"modelValue"),b=B({get(){var r;return s.value!=null||!t?s.value:(r=t.items.value.find(n=>t.selected.value.includes(n.id)))==null?void 0:r.value},set(r){s.value=r}});return L(()=>{const r=U.filterProps(e);return o(U,S({_as:"VTabsWindow"},r,{modelValue:b.value,"onUpdate:modelValue":n=>b.value=n,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),i)}),{}}}),Je=D({...Ge()},"VTabsWindowItem"),Ze=W()({name:"VTabsWindowItem",props:Je(),setup(e,a){let{slots:i}=a;return L(()=>{const t=z.filterProps(e);return o(z,S({_as:"VTabsWindowItem"},t,{class:["v-tabs-window-item",e.class],style:e.style}),i)}),{}}});function et(e){return e?e.map(a=>Pe(a)?a:{text:a,value:a}):[]}const tt=D({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...Oe({mandatory:"force",selectedClass:"v-tab-item--selected"}),...ye(),...Se()},"VTabs"),at=W()({name:"VTabs",props:tt(),emits:{"update:modelValue":e=>!0},setup(e,a){let{attrs:i,slots:t}=a;const s=J(e,"modelValue"),b=B(()=>et(e.items)),{densityClasses:r}=ke(e),{backgroundColorClasses:n,backgroundColorStyles:d}=Ce(_(e,"bgColor")),{scopeId:g}=Ue();return xe({VTab:{color:_(e,"color"),direction:_(e,"direction"),stacked:_(e,"stacked"),fixed:_(e,"fixedTabs"),sliderColor:_(e,"sliderColor"),hideSlider:_(e,"hideSlider")}}),L(()=>{const E=X.filterProps(e),v=!!(t.window||e.items.length>0);return o(A,null,[o(X,S(E,{modelValue:s.value,"onUpdate:modelValue":l=>s.value=l,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},r.value,n.value,e.class],style:[{"--v-tabs-height":$e(e.height)},d.value,e.style],role:"tablist",symbol:G},g,i),{default:()=>{var l;return[((l=t.default)==null?void 0:l.call(t))??b.value.map(u=>{var p;return((p=t.tab)==null?void 0:p.call(t,{item:u}))??o(te,S(u,{key:u.text,value:u.value}),{default:()=>{var f;return(f=t[`tab.${u.value}`])==null?void 0:f.call(t,{item:u})}})})]}}),v&&o(Qe,S({modelValue:s.value,"onUpdate:modelValue":l=>s.value=l,key:"tabs-window"},g),{default:()=>{var l;return[b.value.map(u=>{var p;return((p=t.item)==null?void 0:p.call(t,{item:u}))??o(Ze,{value:u.value},{default:()=>{var f;return(f=t[`item.${u.value}`])==null?void 0:f.call(t,{item:u})}})}),(l=t.window)==null?void 0:l.call(t)]}})])}),{}}}),st={name:"AdminTabs",data(){return{activeTab:"Libraries",tabs:["Users","Groups","Libraries","Flags","Tasks","Stats"]}},computed:{...Z(q,["librariesExist"])},watch:{$route(e){const i=e.path.split("/").at(-1);this.activeTab=Me(i)}},mounted(){this.librariesExist||this.loadTables(["Library"])},methods:{...Be(q,["loadTables"])}},ot={id:"tabContainer"},nt={key:0,id:"noLibraries"};function rt(e,a,i,t,s,b){const r=P("router-view");return c(),w("div",ot,[o(at,{id:"tabs",class:R({rightMargin:!e.$vuetify.display.mdAndDown}),centered:"",grow:"","show-arrows":""},{default:m(()=>[(c(!0),w(A,null,H(s.tabs,n=>(c(),C(te,{key:n,modelValue:s.activeTab,"onUpdate:modelValue":a[0]||(a[0]=d=>s.activeTab=d),to:n.toLowerCase()},{default:m(()=>[k(K(n),1)]),_:2},1032,["modelValue","to"]))),128))]),_:1},8,["class"]),o(U,{id:"tabItems",modelValue:s.activeTab,"onUpdate:modelValue":a[1]||(a[1]=n=>s.activeTab=n),touch:!1},{default:m(()=>[(c(!0),w(A,null,H(s.tabs,n=>(c(),C(r,{key:n},{default:m(({Component:d})=>[o(z,{value:n,class:"tabItemContainer"},{default:m(()=>[(c(),C(Ae(d)))]),_:2},1032,["value"])]),_:2},1024))),128))]),_:1},8,["modelValue"]),e.librariesExist?Ie("",!0):(c(),w("div",nt," Codex has no libraries. Select the Libraries tab and add a comic library. "))])}const lt=I(st,[["render",rt],["__scopeId","data-v-03b1c9e5"]]),it={name:"MainAdmin",components:{AdminTitleToolbar:ee,AdminTabs:lt,SettingsDrawer:Y},data(){return{AdminSettingsPanel:De(Xe)}},computed:{...Z(We,["isUserAdmin"])}},dt={id:"adminWrapper"},ut={key:0,id:"adminContainer"},ct={key:1,id:"announcement"};function mt(e,a,i,t,s,b){const r=ee,n=P("AdminTabs"),d=Y,g=P("router-link");return c(),w("div",dt,[e.isUserAdmin?(c(),w("div",ut,[o(Ne,null,{default:m(()=>[o(r),o(n)]),_:1}),o(d,{title:"Admin Status",admin:!0,panel:s.AdminSettingsPanel},null,8,["panel"])])):(c(),w("div",ct,[Le("h1",null,[o(g,{to:{name:"home"}},{default:m(()=>[k(" Log in ")]),_:1}),k(" as an Administrator to use this panel ")])]))])}const St=I(it,[["render",mt],["__scopeId","data-v-0605704c"]]);export{St as default};
