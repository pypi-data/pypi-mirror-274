function fCharts(b,a){if(b.python){result={'columns':[],type:a.type};result['columns'].push(['x'].concat(b.labels));b.series.forEach(function(a,c){result['columns'].push([a].concat(b.datasets[c]));});}else{var c={};var d=[];var e={};a.y_columns.forEach(function(a){c[a]={};});b.forEach(function(b){a.y_columns.forEach(function(f){if(b[f]!==undefined){if(!(b[a.x_column]in e)){d.push(b[a.x_column]);e[b[a.x_column]]=true;};c[f][b[a.x_column]]=b[f];}});});result={labels:d,datasets:[]};a.y_columns.forEach(function(a,b){dataSet={name:a,values:[]};d.forEach(function(b){if(c[a][b]==undefined){dataSet.values.push(null);}else{dataSet.values.push(c[a][b]);}});result.datasets.push(dataSet);});};return result;}